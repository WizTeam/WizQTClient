!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=557)}({557:function(t,e){!function(){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;"wiz".trim||(String.prototype.trim=function(){return this.replace(t,"")});var e={OTHER_ATTR:{WIZ_SPAN:"data-wiz-span",MATHJAX:"data-mathml"},OTHER_CLASS:{CODE_MIRROR:"wiz-code-container",WIZ_BODY:"wiz-editor-body",WIZ_TABLE_BODY:"wiz-table-body",WIZ_TABLE_CONTAINER:"wiz-table-container"},WIZ_EDITOR_ID:{},BORDER_COLOR:"#F0F2F4",HTML_BG_COLOR:"#E8E8E8",BODY_BG_COLOR:"#FFFFFF",CONTENT_STYLE:"\n    * {box-sizing: border-box;}\n    html {\n      height:100%; \n      background-color:{htmlBgColor} !important;\n      /*margin-left: calc(100vw - 100%) !important;*/\n    }\n    body, .wiz-editor-body {\n      max-width:100%;\n    }\n    body, .wiz-editor-body, .markdown-body {\n      background-color:{bodyBgColor} !important;\n      border:1px solid {borderColor} !important;\n      max-width:820px !important;\n      min-height:initial !important;\n      min-height:calc(100% - 80px) !important;\n      margin:0px auto !important;\n      padding:16px !important;\n    }\n\n    @media screen and (min-width: 821px) {\n      body, .wiz-editor-body, .markdown-body {\n        margin:40px auto !important;\n        padding:48px 75px !important;\n      }\n    }\n\n    /*h1, h2, h3, h4, h5, h6 {\n      font-weight: 600;\n      line-height: 1.25;\n      margin-top: 1em;\n      margin-bottom:.5em;\n    }*/\n    \n    /*p, div {margin: 0 0 24px;}*/\n    /*li p, li div {margin-bottom: 8px;}*/\n    /*wiz_code_mirror p, wiz_code_mirror div {margin-bottom:0;}*/\n    \n    a, a:visited, a:active {color: #448aff;}\n    th, td {\n      min-width: 50px;\n    }\n    tr ol, tr ul {\n      margin: 0;\n      -webkit-padding-start: 15px;\n    }\n    pre {\n      background-color:#fafbfc;\n      border:1px solid #e1e4e8;\n      font-size:13px;\n      padding:8px;\n      white-space: pre-wrap;\n    }\n    \n    .wiz-title, .wiz-article, wiz-comment {\n      margin:0;\n      word-break: break-word;\n    }\n    \n    .wiz-title {\n      border-bottom: 1px solid #e9e9e9;\n      margin-bottom:20px;\n    }\n    .wiz-title h1 {\n      /* font-size: 28px; */\n    }\n                \n    .wiz-article {\n      /* color:#2f2f2f;\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 1.7; */\n    }\n    \n    .wiz-comment {\n      /* color:#2f2f2f;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 1.7; */\n    }    \n    \n    svg, img {\n      max-width:100%;\n    }     \n    ",CONTENT_PATCH_STYLE:"\n    /* body {visibility: hidden;} */\n    ",CONTENT_ID:{STYLE:"wiz-content-read-model-style",IFRAME:"wiz-content-iframe-viewer"},CONTENT_CLASS:{IFRAME_ACTIVE:"wiz-content-active"},CONTENT_ATTR:{DOM:"data-wiz-content-read-dom",TYPE:"data-wiz-content-read-type",TMP_REMOVE_FLAG:"data-wiz-content-remove",TMP_STYLE_FLAG:"data-wiz-content-style",TMP_IMG_INSERT_BR:"data-wiz-img-insert-br"},CONTENT_TYPE:{ARTICLE:"article",COMMENTS:"comments"},MAX_AREA_COUNT:180,MAX_DEPTH:20,MAX_PARENT_END_COUNT:5,MIN_AREA_COUNT:80,MIN_HEIGHT_IMG:100,MIN_WIDTH_IMG:500,MIN_WIDTH_RATE_IMG:.6},n=["iframe","frameset","script","noscript","link","style","input","button","select"],r="",o=!1,i=!0,a=!0,l="",d="",s="",u="",c="",m=!1,T="".concat("max-height"," 800ms cubic-bezier(0.52, 0.03, 0.42, 0.99)"),f={appendCount:function(t){var n=t.dom,r=t.text||"",o=t.result,i=t.isParentEnd,a=t.isAD,l=t.isBorder;f.isEmpty(r)&&(r="");var d=r.length,s=[];if(1===n.nodeType&&!i){s=f.isTag(n,["img"])?[n]:n.querySelectorAll("img");for(var u=0;u<s.length;u++){var c=s[u],m=c.src||"",T=c.clientWidth,g=c.clientHeight,y=T/document.body.clientWidth;if(g*T>e.MIN_HEIGHT_IMG*e.MIN_WIDTH_IMG||g>e.MIN_HEIGHT_IMG&&y>=e.MIN_WIDTH_RATE_IMG)!0,d+=Math.min(Math.floor(T*g/900),e.MAX_AREA_COUNT),r+=m}}!function(t,e,n,i,a){var l=a.isAD,d=a.isBorder;o.domList.push(t),o.domOptionsList.push({text:e,isParentEnd:i,isAD:l,isBorder:d});var s=0,u=[],c=0;if(1===t.nodeType&&n>0){s=0,u=t.querySelectorAll("a");for(var m={},T=0,g=0,y=0;y<u.length;y++){var p=u[y];if(f.isVisibleDom(p)){var h=p.href;T++,m[h]?g++:m[h]=1,c+=f.getText(p).trim().length}}T>0&&g/T>.5||c>=.75*n?s=1:c>=.4*n&&(s=.5),n*=1-s}!l&&n>0&&r.length>0&&o.notEmptyDomCount++;l&&(n/=10);d&&(n/=3);o.countList.push(n),o.totalCount+=n}(n,r,d,i,{isAD:a,isBorder:l})},count:function(t,r,o){var i,a,l=!0,d=!1,s=o.isAD||f.isAD(t),u=o.isBorder||f.isBorder(t),c=o.depth||0;if((1===t.nodeType||3===t.nodeType)&&!f.isTag(t,n)&&f.isVisibleDom(t))if(3===t.nodeType?(a=f.getText(t),l=!1):c>=e.MAX_DEPTH&&(a=f.getText(t),l=!1),l&&!s){for(var m=0,T=(i=t.childNodes||[]).length;m<T;m++){var g=i[m];if(f.isVisibleDom(t)&&f.isBlock(g)){d=!0;break}}if(!d)return a=f.getText(t),void f.appendCount({dom:t,text:a,result:r,isParentEnd:!1,isAD:s,isBorder:u});f.appendCount({dom:t,text:"",result:r,isParentEnd:!0,isAD:s,isBorder:u});for(var y=0,p=i.length;y<p;y++){var h=i[y];f.count(h,r,{isAD:s,isBorder:u,depth:c+1})}f.appendCount({dom:t,text:"",result:r,isParentEnd:!0,isAD:s,isBorder:u})}else f.appendCount({dom:t,text:a,result:r,isParentEnd:!1,isAD:s,isBorder:u})},checkContentType:function(t){if(t.contentType=null,0!==t.bodyArea.length){for(var n,r,o,i,a,l,d,s,u,c={},m=-1,T=!1,g=document.body.scrollHeight,y=document.body.scrollWidth,p=0;p<t.bodyArea.length;p++)if(r=t.bodyArea[p],s||(o=r.rootParent.scrollHeight,i=r.rootParent.scrollWidth,2*o>g&&2*i>y&&(s=r,u=p)),r.rateSum>40||r.rateCount>40){if(s&&(s.rateSum>40||s.rateCount>40))continue;s=r,u=p}if(t.bodyArea.length<3&&s)return f.log("总个数少于 3，且找到 文章区域，直接设置为文章模式"),R(u,s),void P();for(var h=0;h<t.bodyArea.length;h++){var A=(a=(r=t.bodyArea[h]).rootParent).className,b=a.tagName.toLowerCase();if(A){l=A.split(" ");for(var E=0;E<l.length;E++)(A=l[E].trim())&&(c[A=b+" "+A]||(c[A]={count:0,index:h}),c[A].count++)}}for(var _ in d="",c)if(c.hasOwnProperty(_)){n=c[_];var N=_.split(" ");if(n.count>=3&&w(N[0],N[1])){d=N[1],m=n.index,T=!0;break}}if(T&&s&&u>m&&(f.log("如果评论在 正文之前，则正文很可能是内容更多的其他内容，只能当作辅助正文"),s=null,u=null),T&&s&&s.rootParent.className.trim()!==n)f.log("如果有评论，且文章区域的 className 与 评论区域 的 className 不一致，则设置为文章，并且保留评论内容"),R(u,s);else if(!T&&s){if(f.log("bodyArea >= 3 && 没有评论 && 存在文章区域"),R(u,s),u+1<t.bodyArea.length){var v=u+1,C=t.bodyArea[v];(C.rateSum>10||C.rateCount>10)&&C.start-s.end<20&&t.article.bodyAreaIndex.push(v)}}else if(T&&!s){f.log("如果有评论，且无明确的正文区域");for(var O=0;O<t.bodyArea.length;O++)r=t.bodyArea[O],f.getParentByClass(r.rootParent,d,!0)||(O<m?(f.log("评论前面的内容当作主题"),0===t.article.bodyAreaIndex.length?R(O,r):t.article.bodyAreaIndex.push(O)):(r.rateCount>10||r.rateSum>10)&&(f.log("评论后面的内容只能当作评论"),t.comments.itemList.push(r.rootParent)))}else T||s||f.log("无评论，且无明确的正文区域");P()}function P(){if(0!==t.article.bodyAreaIndex.length)for(var e=0;e<t.article.bodyAreaIndex.length;e++)if((r=t.bodyArea[t.article.bodyAreaIndex[e]]).rootParent===document.body)return t.contentType=null,t.article.title=null,void(t.article.bodyAreaIndex=[])}function R(n,r){t.contentType=e.CONTENT_TYPE.ARTICLE,t.article.bodyAreaIndex=[n],f.findTitle(r.rootParent,t)}function I(t,e,n){var r=e+"."+n.replace(/ +/g,"."),o=[];try{o=t.querySelectorAll(r)}catch(t){for(var i=document.getElementsByTagName(e),a=n.split(/ +/),l=0;l<i.length;l++){for(var d=i[l],s=" "+(d.className||"")+" ",u=!0,c=0;c<a.length;c++){var m=a[c];if(s.indexOf(" "+m+" ")<0){u=!1;break}}u&&o.push(d)}}return o}function w(n,r){for(var o,i,a=[],l=I(document,n,r),d="",s="",u=0,c=0,m=0;m<l.length-1;m++){var T=l[m],g=T.tagName.toLowerCase().trim(),y=T.className.toLowerCase().trim();if(g!==d&&u++,y!==s&&y.indexOf(s)<0&&s.indexOf(y)<0&&c++,u>3||c>3){a=[];break}if(d=g,s=y,o){if(f.isParent(T,o))continue;o=null}if(o=f.checkPathIsSame(l[m+1].parentNode,T.parentNode)){i=I(o,n,r);for(var p=0;p<i.length;p++)a.push(i[p])}}return 0!==a.length&&(t.contentType=e.CONTENT_TYPE.COMMENTS,t.comments.itemList=a,f.findTitle(t.comments.itemList[0],t),!0)}},checkPathIsSame:function(t,e){var n=t.parentNode,r=e.parentNode;return!(!n||!r||n===document.body||r===document.body)&&(n===r?n:f.checkPathIsSame(n,r))},findTitle:function(t,e){for(var n,r,o,i,a=document.body.querySelectorAll("*"),l=0;l<a.length;l++){var d=a[l];if(d===t)break;var s=(d.className||"")+","+(d.id||"");if(f.isTag(d,["h1","h2","h3"])){for(var u=!1,c=d;c&&!f.isTag(c,["body"])&&!(u=f.isBorder(c)||f.isAD(c)||f.isTag(c,["a"]));)c=c.parentNode;if(u)continue;n&&(o=parseInt(n.tagName.substr(1)),i=parseInt(d.tagName.substr(1))),(!n||i<=o)&&(n=d)}else!r&&/title/i.test(s)&&!f.isAD(d)&&f.getText(d).length>5&&f.isVisibleDom(d)&&(r=d)}!n&&r&&(n=r),n&&(e.article.title=n)},clearAttr:function(t){if(!t.getAttribute(e.OTHER_ATTR.WIZ_SPAN)){var n,r,o,i=t.attributes,a=f.isTag(t,["td","tr","table"]);a&&(n=t.style.width,r=t.style.height,o=t.style.backgroundColor);for(var l=i.length-1;l>=0;l--){var d=i[l];/^(on|style)/gi.test(d.name)&&t.removeAttribute(d.name)}a&&(n&&(t.style.width=n),r&&(t.style.height=r),o&&(t.style.backgroundColor=o));var s=t.getAttribute(e.CONTENT_ATTR.TMP_STYLE_FLAG);if(s&&t.setAttribute("style",s),t.getAttribute(e.CONTENT_ATTR.TMP_IMG_INSERT_BR)){var u=t.parentNode;u.insertBefore(document.createElement("br"),t),u.insertBefore(document.createElement("br"),t.nextSibling)}}},clearContentTempAttr:function(t,e){for(var n=0;n<e.length;n++)for(var r=e[n],o=t.querySelectorAll("[".concat(r,"]")),i=o.length-1;i>=0;i--){o[i].removeAttribute(r)}},traversalElement:function(t,n){if(!f.hasClass(t,e.OTHER_CLASS.CODE_MIRROR)&&!t.getAttribute(e.OTHER_ATTR.MATHJAX)){var r=f.isAD(t);if(n(t,r),!r&&!f.isTag(t,["wiz_tmp_tag"]))for(var o=t.children,i=o.length-1;i>=0;i--)f.traversalElement(o[i],n)}},getContentHtml:function(t){if(f.isTag(t,["tbody","thead"])&&(t=t.parentNode),f.isTag(t,["table"])){var n=t.parentNode.parentNode;f.hasClass(n,e.OTHER_CLASS.WIZ_TABLE_CONTAINER)&&(t=n)}var r;f.traversalElement(t,(function(t,n){n||!f.isTag(t,["br","style","link"])&&!f.isVisibleDom(t)?t.setAttribute(e.CONTENT_ATTR.TMP_REMOVE_FLAG,"true"):f.isTag(t,["img"])&&(t.setAttribute(e.CONTENT_ATTR.TMP_STYLE_FLAG,"display:block;"),t.setAttribute(e.CONTENT_ATTR.TMP_IMG_INSERT_BR,"1"))}));for(var o=t.cloneNode(!0),i=(r=o.querySelectorAll("iframe")).length-1;i>=0;i--)f.removeDom(r[i]);for(var a=(r=o.querySelectorAll("script")).length-1;a>=0;a--)f.removeDom(r[a]);for(var l=(r=o.querySelectorAll("[".concat(e.CONTENT_ATTR.TMP_REMOVE_FLAG,"]"))).length-1;l>=0;l--)f.removeDom(r[l]);return f.traversalElement(o,(function(t){if(f.isTag(t,["style","link","video","audio"]))f.removeDom(t);else if(1===t.childNodes.length&&!function(t){return!!f.getParentByFilter(t,(function(t){return f.isTag(t,["pre"])}),!1)}(t)&&f.isTag(t.firstChild,["br"])){t.isEmpty=!0;var e=t.nextSibling;e&&e.isEmpty&&t.parentNode.removeChild(t)}else f.clearAttr(t)})),f.clearAttr(o),f.clearContentTempAttr(t,[e.CONTENT_ATTR.TMP_REMOVE_FLAG,e.CONTENT_ATTR.TMP_STYLE_FLAG,e.CONTENT_ATTR.TMP_IMG_INSERT_BR]),o.outerHTML},getParentByClass:function(t,e,n){return f.getParentByFilter(t,(function(t){return f.hasClass(t,e)}),n)},getParentByFilter:function(t,e,n){if(t&&t!==document.body)for(t=n?t:t.parentNode;t;){if(!e||e(t))return t;if(t===document.body)return null;t=t.parentNode}return null},getParentRoot:function(t){if(!t||0===t.length)return null;var e,n,r=[];for(n=1===t[0].nodeType?t[0]:t[0].parentNode;n&&n!==document.body;)r.push(n),n=n.parentNode;for(var o=1,i=t.length;o<i;o++)for(n=t[o];n;){if(n===document.body)return document.body;if((e=r.indexOf(n))>-1){r.splice(0,e);break}n=n.parentNode}return 0===r.length?document.body:r[0]},getText:function(t){return 3===t.nodeType?t.nodeValue:"string"==typeof t.innerText?t.innerText:t.textContent},hasClass:function(t,e){return!(!t||1!==t.nodeType)&&(" "+t.className+" ").indexOf(" "+e+" ")>-1},insertStyle:function(t,e){var n=document.createElement("style");return t.name&&n.setAttribute("name",t.name),t.id&&(n.setAttribute("id",t.id),f.removeStyleById(t.id)),document.getElementsByTagName("HEAD")[0].insertBefore(n,null),n.innerHTML=e,n},isAD:function(t){if(!t||1!==t.nodeType)return!1;var e=(t.className||"")+","+(t.id||"");return/(^ad[^a-zA-Z])|([^a-zA-Z]ad$)/gi.test(e)},isBorder:function(t){if(!t||!t.parentNode)return!1;var e=(t.className||"")+","+(t.id||"");return/(^|[^a-zA-Z])(sidebar|bottom|footer|navbar|feed)([^a-zA-Z]|$)/gi.test(e)},isBlock:function(t){if(!t||1!==t.nodeType)return!1;if(f.isTag(t,["p"]))return!1;if(f.isTag(t,["div","ul","ol","li"]))return!0;if(f.isTag(t,["tr","td"])&&!t.querySelector("table")&&!t.querySelector("div"))return!1;var e=window.getComputedStyle(t,null).display;return!!e&&!/^(inline|inline-block|inline-table)$/i.test(e)},isEmpty:function(t){var e=new RegExp("[\r\n​\\s]*","ig");return 0===t.replace(e,"").length},isParent:function(t,e){if(!t||!e)return!1;for(var n=t.parentNode;n&&n!==document.body;){if(e===n)return!0;n=n.parentNode}return!1},isTag:function(t,e){if(!t||1!==t.nodeType)return!1;for(var n=t.tagName.toLowerCase(),r=0,o=e.length;r<o;r++)if(n===e[r].toLowerCase())return!0;return!1},isVisibleDom:function(t){if(!t||!t.parentNode)return!1;3===t.nodeType&&(t=t.parentNode);var e=window.getComputedStyle(t,null),n="none"!==e.display&&"hidden"!==e.visibility&&parseFloat(e.opacity)>0;if(n&&f.isBlock(t)){var r=parseInt(e.width,10),o=parseInt(e.height,10);if(!r||!o){var i=t.getBoundingClientRect();r=i.width,o=i.height}n=!(0===r&&0===o)}return n},log:function(t){o&&console.trace(t)},mergeBodyArea:function(t){for(var e,n=t.bodyArea.length-1;n>=0;n--){t.bodyArea[n].rootParent===document.body&&t.bodyArea.splice(n,1)}for(var r=0;r<t.bodyArea.length;r++){for(var o=t.bodyArea[r],i=!1;r>0&&(e=t.bodyArea[r-1],o.rootParent===e.rootParent||f.isParent(o.rootParent,e.rootParent)?(f.log("整合具有相同 rootParent 的区间"),i=!0):f.isParent(e.rootParent,o.rootParent)&&o.start-e.end<20?(f.log("后面合并前面的时候，如果相隔距离太远不进行处理"),i=!0,e.rootParent=o.rootParent):o.start-e.end<3||o.rootParent.previousElementSibling===e.rootParent?(f.log("后面合并前面的时候，如果相隔距离极其接近 < 3 或 两者的父容器并排，不考虑父容器是否相关（尝试）"),i=!0,e.rootParent=f.getParentRoot([e.rootParent,o.rootParent]),o.rootParent=e.rootParent):i=!1,i);)f.log(["merge.... (",e.start,", ",e.end,") - (",o.start,", ",o.end,")"].join("")),e.end=o.end,e.endDom=o.endDom,e.totalCount=0,e.totalSum=0,o=e,t.bodyArea.splice(r,1),r--;f.sumArea(o,t)}},removeDom:function(t){t&&1===t.nodeType&&t.parentNode.removeChild(t)},removeStyleById:function(t){var e=document.getElementById(t);e&&f.isTag(e,["style","link"])&&f.removeDom(e)},resumePage:function(){f.removeStyleById(e.CONTENT_ID.STYLE);for(var t=document.querySelectorAll("[".concat(e.CONTENT_ATTR.DOM,"]")),n=t.length-1;n>=0;n--)t[n].removeAttribute(e.CONTENT_ATTR.DOM),t[n].removeAttribute(e.CONTENT_ATTR.TYPE)},showContent:function(t,n){var o="";if(t.contentType){if(b(t.article.title,"title"),t.contentType===e.CONTENT_TYPE.ARTICLE)for(var l=0;l<t.article.bodyAreaIndex.length;l++){b(t.bodyArea[t.article.bodyAreaIndex[l]].rootParent,e.CONTENT_TYPE.ARTICLE)}for(var d=t.comments.itemList.length-1;d>=0;d--)b(t.comments.itemList[d],e.CONTENT_TYPE.COMMENTS);o=(o="string"==typeof(o=t.article.title||"")?o.replace(/</g,"&lt;").replace(/>/g,"&gt;"):o.innerText).replace(/^(\s|&nbsp;)*/,"")}else i?f.log("此页面 不适合进行内容提取"):f.log("将整篇内容进行展示"),document.body.setAttribute(e.CONTENT_ATTR.TYPE,e.CONTENT_TYPE.ARTICLE);var s=p("["+e.CONTENT_ATTR.TYPE+'="'+e.CONTENT_TYPE.ARTICLE+'"]'),u=p("["+e.CONTENT_ATTR.TYPE+'="'+e.CONTENT_TYPE.COMMENTS+'"]'),y=function(){for(var t=[],e=document.querySelector("head").children,n=0;n<e.length;n++){var r=e[n];if(f.isTag(r,["link","style"])){var o=r.id,a=r.getAttribute("name");(!i||/^wiz[\-_]/i.test(o)||/^wiz[\-_]/i.test(a))&&t.push(r.outerHTML)}}return t}();function p(t){for(var e=[],n=document.querySelectorAll(t),r=0;r<n.length;r++)e.push(f.getContentHtml(n[r]));return e}var h=o?'<div class="wiz-title"><h1>'.concat(o,"</h1></div>"):"",A="<!DOCTYPE html><html><head><title>".concat(o,"</title>\n").concat(y.join(""),'\n<style id="wiz_article_css" name="wiz_tmp_editor_style">').concat(c,'</style>\n<style name="wiz_tmp_editor_style">').concat(e.CONTENT_PATCH_STYLE,'</style>\n<style name="wiz_unsave_style">').concat(r,'</style>\n</head>\n<body class="').concat(e.OTHER_CLASS.WIZ_BODY,'">\n<div class="wiz-content">\n').concat(h,'\n<div class="wiz-article">').concat(s.join(""),'</div>\n<div class="wiz-comment">').concat(u.join(""),"</div>\n</div>\n</div>\n</body></html>");return a&&g(),f.clearContentTempAttr(document.body,[e.CONTENT_ATTR.DOM,e.CONTENT_ATTR.TYPE]),void setTimeout((function(){var r=document.createElement("wiz_tmp_tag"),o=document.createElement("iframe");o.id=e.CONTENT_ID.IFRAME,o.className=e.CONTENT_CLASS.IFRAME_ACTIVE,a?(o.style.margin="0",o.style.padding="0",o.style.position="fixed",o.style.top="0",o.style.right="0",o.style.left="0",o.style.bottom="0",o.style.width="100%",o.style.height="100%",o.style.zIndex="2147483647",o.style.border="none",o.style.transition=T,o.style["max-height"]="0",o.style.background="silver"):o.style.display="none",r.appendChild(o),document.body.appendChild(r);var i=o.contentWindow.document;i.open("text/html","replace"),i.write(A),i.close(),setTimeout((function(){m&&(o.style["max-height"]="100%")}),750),t.iframe=o,t.iframeDoc=i,t.iframeWin=o.contentWindow,n&&n(t)}),0);function b(t,n){if(t&&"string"!=typeof t)for(var r=t,o="show";t&&t!==document.body;){if(t!==r&&"show"===t.getAttribute(e.CONTENT_ATTR.DOM)){r.removeAttribute(e.CONTENT_ATTR.DOM),r.removeAttribute(e.CONTENT_ATTR.TYPE);break}t.setAttribute(e.CONTENT_ATTR.DOM,o),"show"===o&&t.setAttribute(e.CONTENT_ATTR.TYPE,n),o="parent",t=t.parentNode}}},splitBody:function(t){for(var n,r,o,i,a,l=0,d=null,s=!1,u=!1,c=0,m=[],T=0,g=t.countList.length;T<g;T++)r=f.sumCount(T,t),t.sumList[T]=r;t.avgSum=Math.max(t.totalSum/t.notEmptyDomCount,e.MIN_AREA_COUNT),a=Math.min(t.avgSum,e.MAX_AREA_COUNT),f.log("avgSum="+t.avgSum+",  \ntotalSum / notEmptyDomCount="+t.totalSum/t.notEmptyDomCount+", \nareaCount="+a);for(var y=0,p=t.sumList.length;y<p;y++){if(n=t.countList[y],r=t.sumList[y],u=t.domOptionsList[y].isParentEnd,s||0!==n||(r/=2),!s&&r>=a)f.log("bodyStart i="+y+",.....sum:"+r),s=!0,l=y,o=null,c=0;else if(s&&!u&&r>=a)o=null,c=0;else if(s&&(r<a||y===p-1))if(u&&c++,u&&!o&&c<e.MAX_PARENT_END_COUNT&&y<p-1)o=y-1;else if(!u||c>=e.MAX_PARENT_END_COUNT||y===p-1){if(s=!1,o=o||y-1,c=0,d&&d.rootParent!==document.body)for(var h=l-1;h>d.end&&h>l-30;h--){var A=t.domList[h],b=t.domOptionsList[h];if(A===d.rootParent||b.isBorder)break;if(f.isTag(A,["h1","h2","h3"])){l=h;break}}i={start:l,end:o,startDom:t.domList[l],endDom:t.domList[o],totalCount:0,totalSum:0,rateCount:0,rateSum:0,rootParent:null},f.log("bodyEnd "+l+" to "+o),i.rootParent=f.getParentRoot([i.startDom,i.endDom]),t.bodyArea.push(i),d=i}m.push(t.countList[y])}},sumArea:function(t,e){for(var n=t.start;n<=t.end;n++)t.totalCount+=e.countList[n],e.countList[n]>0&&(t.totalSum+=e.sumList[n]);t.rateCount=(t.totalCount/e.totalCount*100).toFixed(2),t.rateSum=(t.totalSum/e.totalSum*100).toFixed(2)},sumCount:function(t,n){var r=t-2<0?0:t-2,o=t+2>n.countList.length-1?n.countList.length-1:t+2,i=0;i+=n.countList[t];for(var a=t-1;a>=r&&!(n.countList[a]>e.MAX_AREA_COUNT);a--)i+=n.countList[a];for(var l=t+1;l<=o&&!(n.countList[l]>e.MAX_AREA_COUNT);l++)i+=n.countList[l];return n.countList[t]>0&&(n.totalSum+=i),i}},g=function(){document.body.style.overflow="hidden",document.body.style.marginRight="calc(100vw - 100%)";var t=document.body.parentElement;t.style.overflow="hidden",t.style.height="100%",t.style.width="100%"},y=function(){document.body.style.overflow=null,document.body.style.marginRight=null;var t=document.body.parentElement;t.style.overflow=null,t.style.height=null,t.style.width=null},p={result:null,init:function(t,e){return r=t||"",o=!!e,p},destory:function(){m=!1;var t=document.getElementById(e.CONTENT_ID.IFRAME);if(t){var n=t.parentNode;n.parentNode.removeChild(n),setTimeout((function(){y()}),200)}return p.result=null,p},on:function(t,n){m=!0;var r=document.getElementById(e.CONTENT_ID.IFRAME);if(r)return g(),setTimeout((function(){r.style["max-height"]="100%"}),100),n&&n(p.result),p;var o={article:{title:null,bodyAreaIndex:[]},avgSum:0,bodyArea:[],comments:{itemList:[]},contentType:null,countList:[],domList:[],domOptionsList:[],sumList:[],textList:[],notEmptyDomCount:0,totalCount:0,totalSum:0,iframeDoc:null,iframeWin:null};return i=!t||t.needContentExtraction,a=!t||t.needShow,l=t&&t.borderColor||e.BORDER_COLOR,d=t&&t.htmlBgColor||e.HTML_BG_COLOR,s=t&&t.bodyBgColor||e.BODY_BG_COLOR,u=t&&t.stylePatch||"",c=e.CONTENT_STYLE.replace(/\{borderColor\}/gi,l).replace(/\{htmlBgColor\}/gi,d).replace(/\{bodyBgColor\}/gi,s)+u,i&&(f.count(document.body,o,{isAD:!1,isBorder:!1,depth:0}),f.splitBody(o),f.mergeBodyArea(o),f.checkContentType(o)),f.showContent(o,n),p.result=o,f.log(o),p},off:function(){m=!1;var t=document.getElementById(e.CONTENT_ID.IFRAME);return t&&(t.style["max-height"]="0",t.className="",setTimeout((function(){y()}),200)),p}};window.WizContent=p}()}});