!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=179)}([function(t,e,n){var r=n(3),o=n(12),i=n(18),a=n(14),s=n(31),u=function t(e,n,u){var c,l,f,h,p=e&t.F,y=e&t.G,v=e&t.P,d=e&t.B,g=y?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,_=y?o:o[n]||(o[n]={}),b=_.prototype||(_.prototype={});for(c in y&&(u=n),u)f=((l=!p&&g&&void 0!==g[c])?g:u)[c],h=d&&l?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,g&&a(g,c,f,e&t.U),_[c]!=f&&i(_,c,h),v&&b[c]!=f&&(b[c]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=navigator.userAgent,r={version:"0.1.9",SVG_NS:"http://www.w3.org/2000/svg",CLASS:{ACTIVE:"active",DISABLED:"disabled",DOING:"doing",DONE:"done",HIDE:"hide",IMG_NOT_DRAG:"wiz-img-cannot-drag",PAINTER_INFO:"wiz-painter-info",SHAPE_ASST_CONTAINER:"wiz-shape-asst-container",SHAPE_ASST_BUTTON:"wiz-shape-asst-button",SVG_BASE:"wiz-svg-base",SVG_IMAGE:"wiz-svg-image",SVG_MASK:"wiz-svg-mask",SVG_CONTAINER:"wiz-svg-container",SVG_MASK_CONTAINER:"wiz-svg-mask-container",SVG_PAGE:"wiz-svg-page",SVG_PAGE_CONTAINER:"wiz-svg-page-container",SVG_TEMPLATE:"wiz-svg-template",TOOLBAR:{CONTAINER:"toolbar-container",BUTTON:"toolbar-btn",BUTTON_COLOR:"toolbar-btn-color",BUTTON_COLOR_BG:"toolbar-btn-color-bg",BUTTON_COLOR_ICON:"toolbar-btn-color-icon",BUTTON_ERASER:"toolbar-btn-eraser",BUTTON_LABEL:"toolbar-btn-label",BUTTON_LINE:"toolbar-btn-line",BUTTON_ERASER_CLEAR:"toolbar-btn-eraser-clear",BUTTON_SAVE_ICON:"toolbar-btn-save-icon",BUTTON_SAVED_ICON:"toolbar-btn-saved-icon",BUTTON_SAVING_ICON:"toolbar-btn-saving-icon",LAYER:"toolbar-layer",SUBMENU:"toolbar-submenu",SUBMENU_ARROW:"toolbar-submenu-arrow",SUBMENU_ARROW_BG:"toolbar-submenu-arrow-bg",SUBMENU_COLOR_ITEM:"toolbar-submenu-color-item",SUBMENU_ICON:"toolbar-submenu-icon",SUBMENU_ITEM:"toolbar-submenu-item",SUBMENU_LIST_ICON:"toolbar-submenu-list-icon",SUBMENU_LINE_ITEM:"toolbar-submenu-line-item",SUBMENU_ERASER_LINE_ITEM:"toolbar-submenu-eraser-line-item"}},CLIENT_EVENT:{WIZ_LOAD_SVG:"WIZ_LOAD_SVG",WIZ_PAINTER_INITIATED:"WIZ_PAINTER_INITIATED",WIZ_SAVE_SVG:"WIZ_SAVE_SVG",WIZ_UPDATE_UNDO_STATUS:"WIZ_UPDATE_UNDO_STATUS"},DATA_TYPE:{ARC:"arc",CIRCLE:"circle",CURVE:"curve",ELLIPSE:"ellipse",HIGHLIGHTER:"highlighter",INK:"ink",PATH:"path",PATH_GROUP:"pathGroup",PENCIL:"pencil",LINE:"line",SCRIBBLE:"scribble"},COLOR_LINE_WIDTH_MENU:{COLOR:"COLOR",LINE_WIDTH:"LINE_WIDTH"},ERASER_MENU:{CLEAR_PAGE:"CLEAR_PAGE",CLEAR_HIGHLIGHTER:"CLEAR_HIGHLIGHTER",LINE_WIDTH:"LINE_WIDTH"},MORE_MENU:{REDO:"REDO",SAVE:"SAVE",STYLUS_MODE:"STYLUS_MODE"},EVENT:{UNDO_REDO:"UNDO_REDO",RESIZE:"RESIZE",SAVE_TO_NOTE:"SAVE_TO_NOTE"},HIGHLIGHTER_BUTTON_COLOR:{"#40ff00":"#9fff7f","#fa00ff":"#fc7fff","#00f4ff":"#7ff9fe","#fcff00":"#fcf425","#ffbc00":"#ffdd7f"},ID:{ROOT:"wiz-painter-root",SKETCHPAD:"sketchpad"},PAGE:{WIDTH:794,HEIGHT:1123,HEIGHT_FOR_NOTE_MARKER:2e4,MIN_HEIGHT:100,MAX_UNDO:100},STORAGE:{PRE:"WizSvgPainter_"},TAG:{MARKER:"wiz_marker",TMP_TAG:"wiz_tmp_tag"},TIME:{AUTO_SAVE_TIME:1e4},TOOL_COLOR:{COMMON:{index:0,list:["#333333","#de350b","#0052cc"]},HIGHLIGHTER:{index:0,list:["#40ff00","#fa00ff","#00f4ff"]}},TOOL_LINE_WIDTH:{ERASER:{list:[12,20,30],default:1},HIGHLIGHTER:{list:[10,20,25,30,35],default:1},PEN:{list:[2,3,4,5,6],default:2},PENCIL:{list:[2,3,4,5,6],default:1},SHAPE:{list:[2,3,4,5,6],default:1},PENCIL_BUTTON_STROKE:[40,80,120,160,200],HIGHLIGHTER_BUTTON_STROKE:[50,100,150,200,250]},TOOL_TYPE:{ERASER:"ERASER",HIGHLIGHTER:"HIGHLIGHTER",PEN:"PEN",PENCIL:"PENCIL",SHAPE:"SHAPE"},BROWSER:{isAndroid:!!n.match(/Android/i),isIOS:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/i),isIPad:!!n.match(/iPad/i),isIPhone:!!n.match(/iPhone/i),isLinux:!!n.match(/Linux/i),isMac:!!n.match(/Macintosh/i),isMobile:!!n.match(/AppleWebKit.*Mobile.*/i),isWeChat:!!n.match(/MicroMessenger/i),isWindows:!!n.match(/Window/i)},CLIENT_TYPE:{isWeb:!1,isWin:!1,isMac:!1,isLinux:!1,isIOS:!1,isAndroid:!1}};t.exports=r},function(t,e,n){var r=n(1),o=n(7),i=n(21),a={addClass:function(t,e){var n,r;if(t)for(t.nodeType&&(t=[t]),n=t.length-1;n>=0;n--)1!==(r=t[n]).nodeType||a.hasClass(r,e)||(r.className=(r.className+" "+e).trim())},after:function(t,e){a.before(t,e,!0)},attr:function(t,e){var n,r;if(t&&e&&1===t.nodeType)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&((r=e[n])?t.setAttribute(n,r):t.removeAttribute(n))},before:function(t,e,n){if(n=!!n,e&&t){var r,i=e===document.body,a=i?e:e.parentNode,s=i?n?null:document.body.childNodes[0]:n?e.nextSibling:e;if(o.isArray(t)){r=s;for(var u=t.length-1;u>=0;u--){var c=t[u];a.insertBefore(c,r),r=c}}else a.insertBefore(t,s)}},clearSvg:function(t){t.innerHTML=""},createSvg:function(){return document.createElementNS(r.SVG_NS,"svg")},createSvgElement:function(t,e){var n=document.createElementNS(r.SVG_NS,t);return e&&n.setAttribute("wiz-type",e),n},createPath:function(t,e){var n=document.createElementNS(r.SVG_NS,"path");return n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"paint-order","fill stroke markers"),n.setAttributeNS(null,"stroke-linecap",t.strokeLinecap||"round"),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"stroke-miterlimit","10"),n.setAttributeNS(null,"stroke-dasharray",""),n.setAttributeNS(null,"d",t.d||""),n.setAttributeNS(null,"stroke",t.color),n.setAttributeNS(null,"stroke-width",i.toFixed(t.lineWidth)),n.setAttributeNS(null,"stroke-opacity",t.opacity),t.bottomMost&&n.setAttribute("bottom-most",t.bottomMost),e&&n.setAttribute("wiz-type",e),n},css:function(t,e){if(t&&e){var n,r,o={};for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&((r=e[n])||0===r?o[n]=r:t.style[n]="");for(n in o)if(o.hasOwnProperty(n)&&"string"==typeof n){if(r=o[n],t.style[n]===r)continue;r.toString().indexOf("!important")>0?(t.style[n]="",t.style.cssText+=n+":"+r):t.style[n]=r}}},fromSvgPath:function(t){var e=t.getAttribute("stroke"),n=parseFloat(t.getAttribute("stroke-width")),r=parseFloat(t.getAttribute("stroke-opacity")),o=t.getAttribute("stroke-linecap"),i=!!t.getAttribute("bottom-most"),s=t.getAttribute("d"),u=a.getPointsFromSvgPath(s);return{points:u.points,closed:u.closed,color:e,lineWidth:n,opacity:r,bottomMost:i,strokeLinecap:o}},getDocType:function(t){var e=t.doctype,n="";return(!e||e.systemId||e.publicId)&&e?(n="<!",n+='DOCTYPE HTML PUBLIC "'+e.publicId+'" "'+e.systemId+'" >'):n="<!DOCTYPE HTML>",n},getOffset:function(t){var e={top:0,left:0};if(t.offsetParent)for(;t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;else e.left+=t.offsetLeft,e.top+=t.offsetTop;return e},getIndex:function(t){if(!t||!t.parentNode)return-1;for(var e=0,n=t;n=n.previousSibling;)++e;return e},getParentByFilter:function(t,e,n){if(t&&t!==document.body)for(t=n?t:t.parentNode;t;){if(!e||e(t))return t;if(t===document.body)return null;t=t.parentNode}return null},getPageScroll:function(){var t={left:0,top:0};return void 0!==window.pageYOffset?(t.left=window.pageXOffset,t.top=window.pageYOffset):(t.left=document.documentElement.scrollLeft||document.body.scrollLeft,t.top=document.documentElement.scrollTop||document.body.scrollTop),t},getSvgPathFromPoints:function(t,e){var n=[];if(0===t.length)return"";for(var r=0;r<t.length;r++){var o="";o=0===r?"M":"L",n.push(o,i.toFixed(t[r].x),i.toFixed(t[r].y))}return e&&n.push("Z"),n.join(" ")},getPointsFromSvgPath:function(t){var e=!1;t.indexOf("Z")>0&&(e=!0);var n=[],r=(t=(t=(t=t.replace(/M/g," ")).replace(/L/g," ")).replace(/Z/g," ")).split(" "),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;0!==(c=c.trim()).length&&(c=parseFloat(c),n.push(c))}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}n.length%2!=0&&console.error("invalid value number");for(var l=[],f=0;f<n.length/2;f++){var h=n[2*f],p=n[2*f+1];l.push({x:h,y:p})}return{points:l,closed:e}},hasClass:function(t,e){return!(!t||1!==t.nodeType)&&(" "+t.className+" ").indexOf(" "+e+" ")>-1},getXY:function(t,e,n,o,i){var s,u,c;if(t.touches){var l=i||(t.touches[0]||t.changedTouches[0]),f=a.getOffset(e);if(l){var h=parseFloat(window.getComputedStyle(document.body).marginLeft);isNaN(h)&&(h=0);var p=parseFloat(window.getComputedStyle(n).paddingLeft),y=parseFloat(window.getComputedStyle(n).paddingRight);s=l.pageX-h-f.left-p+o.scrollLeft,u=l.pageY-f.top-y+o.scrollTop,c=l.force,r.BROWSER.isIOS||(c=0)}}else s=t.offsetX,u=t.offsetY,c=t.pressure;return{x:s,y:u,force:c}},isParent:function(t,e){if(!t||!e||t===e)return!1;for(;t;)if((t=t.parentNode)===e)return!0;return!1},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},removeClass:function(t,e){if(t){t.nodeType&&(t=[t]),o.isArray(e)||(e=[e]);for(var n=t.length-1;n>=0;n--){var r=t[n];if(1===r.nodeType){r.className=" "+r.className+" ";for(var i=e.length;i>=0;i--){var a=e[i];r.className=r.className.replace(" "+a+" "," ")}r.className=r.className.trim()}}}}};t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=n(1),i=n(430);try{"abc".localeCompare("abcd")}catch(t){String.prototype.localeCompare=function(t){return this.toString()===t?0:this.toString()>t?1:-1}}var a=/[\-\[\]{}()*+?.,\\^$|#\s]/g;try{"abc".escapeRegex()}catch(t){String.prototype.escapeRegex=function(){return this.toString().replace(a,"\\$&")}}var s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;"wiz".trim||(String.prototype.trim=function(){return this.replace(s,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1});var u={fixLineWidth:function(t,e){var n=o.TOOL_LINE_WIDTH[e];if(!t)return n.list[n.default];for(var r=-1,i=0;i<n.list.length;i++){var a=n.list[i];if(a===t)return a;if(t>r&&t<a)return 0===i?a:t>=(r+a)/2?a:r;r=a}return n.list[n.list.length-1]},random:function(){return i()()},createGuid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=""+u.random();return e=e.substr(e.length-6),t+(new Date).valueOf()+"_"+e},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},stopEvent:function(t,e){t&&(e||t.stopPropagation(),t.cancelable&&t.preventDefault())},query:{parse:function(t){return void 0===t&&(t=window.location.search),/^[?#]/.test(t)?t=t.slice(1):t.indexOf("?")>0?t=t.substr(t.indexOf("?")+1):t.indexOf("#")>0&&(t=t.substr(t.indexOf("#")+1)),t.split("&").reduce(function(t,e){var n=r(e.split("="),2),o=n[0],i=n[1];return t[o]=i?decodeURIComponent(i.replace(/\+/g," ")):"",t},{})},params:function(){return u.query.parse()}}};t.exports=u},function(t,e,n){var r=n(66)("wks"),o=n(43),i=n(3).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(26),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(5),o=n(123),i=n(36),a=Object.defineProperty;e.f=n(11)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=n(421),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(t){return Object.prototype.toString.call(t)}function f(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=_,p=/\s*function\s+([^\(\s]*)\s*/;function y(t){if(a.isFunction(t)){if(c)return t.name;var e=t.toString().match(p);return e&&e[1]}}function v(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function d(t){if(c||!a.isFunction(t))return a.inspect(t);var e=y(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,n,r,o){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function _(t,e){t||g(t,!0,e,"==",h.ok)}function b(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===o(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===r(t)||null!==e&&"object"===r(e)){if(f(t)&&f(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===o(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var c=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==c&&c===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),i=m(e);if(o&&!i||!o&&i)return!1;if(o)return t=u.call(t),e=u.call(e),b(t,e,n);var s,c,l=x(t),f=x(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!b(t[s],e[s],n,r))return!1;return!0}(t,e,n,s))}return n?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,n,r){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&g(o,n,"Missing expected exception"+r);var i="string"==typeof r,s=!t&&o&&!n;if((!t&&a.isError(o)&&i&&w(o,n)||s)&&g(o,n,"Got unwanted exception"+r),t&&o&&n&&!w(o,n)||!t&&o)throw o}h.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=v(d((e=this).actual),128)+" "+e.operator+" "+v(d(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=y(n),a=o.indexOf("\n"+i);if(a>=0){var s=o.indexOf("\n",a+1);o=o.substring(s+1)}this.stack=o}}},a.inherits(h.AssertionError,Error),h.fail=g,h.ok=_,h.equal=function(t,e,n){t!=e&&g(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&g(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){b(t,e,!1)||g(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){b(t,e,!0)||g(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){b(t,e,!1)&&g(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&g(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&g(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&g(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){S(!0,t,e,n)},h.doesNotThrow=function(t,e,n){S(!1,t,e,n)},h.ifError=function(t){if(t)throw t};var x=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(this,n(88))},function(t,e,n){var r=n(3),o=n(18),i=n(17),a=n(43)("src"),s=n(183),u=(""+s).split("toString");n(12).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,a)||o(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(34);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(0),o=n(4),i=n(34),a=/"/g,s=function(t,e,n,r){var o=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(10),o=n(42);t.exports=n(11)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(60),o=n(34);t.exports=function(t){return r(o(t))}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){n(1);var r={sgn:function(t){return t<-1e-6?-1:t>1e-6},cross:function(t,e,n,r){return(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x)},area:function(t,e,n){return r.cross(t,e,t,n)},fArea:function(t,e,n){return Math.abs(r.area(t,e,n))}},o={isMeet:function(t,e,n,o){return Math.max(Math.min(t.x,e.x),Math.min(n.x,o.x))<=Math.min(Math.max(t.x,e.x),Math.max(n.x,o.x))&&Math.max(Math.min(t.y,e.y),Math.min(n.y,o.y))<=Math.min(Math.max(t.y,e.y),Math.max(n.y,o.y))&&r.sgn(r.cross(n,e,n,o)*r.cross(n,o,n,t))>=0&&r.sgn(r.cross(t,o,t,e)*r.cross(t,e,t,n))>=0},getCrossPoint:function(t,e,n,o){var i=r.fArea(t,e,n)/r.fArea(t,e,o),a={x:(n.x+i*o.x)/(1+i),y:(n.y+i*o.y)/(1+i)};return isNaN(a.x)||isNaN(a.y)?null:a},getDistance:function(t,e){if(t.x===e.x)return Math.abs(e.y-t.y);if(t.y===e.y)return Math.abs(e.x-t.x);var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},getAngle:function(t,e,n){var r=e,i=t,a=n,s=o.getDistance(r,i),u=o.getDistance(r,a),c=o.getDistance(i,a);if(0!=u&&(0==s||0==c))return 180;if(c>1&&(0==s||0==u))return 180;var l=(Math.pow(s,2)+Math.pow(u,2)-Math.pow(c,2))/(2*s*u);return l>1?l=1:l<-1&&(l=-1),180*Math.acos(l)/Math.PI},radiansToDegrees:function(t){return 180*t/Math.PI},degreesToRadians:function(t){return t*(Math.PI/180)},rotate:function(t,e,n,r,i){var a=o.degreesToRadians(i),s=Math.cos(a),u=Math.sin(a);return{x:s*(n-t)+u*(r-e)+t,y:s*(r-e)-u*(n-t)+e}},getLineCenterPoint:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},getPointFromA2B:function(t,e,n){var r={},i=o.getDistance(t,e);if(i<=n)return e;if(t.x===e.x){r.x=t.x;var a=t.y>e.y?-1:1;r.y=t.y+a*n}else if(t.y===e.y){r.y=t.y;var s=t.x>e.x?-1:1;r.x=t.x+s*n}else{var u=e.x-t.x,c=e.y-t.y;r.y=c/i*n+t.y,r.x=u/i*n+t.x}return r},getPointByAngle:function(t,e,n,r,i){r||(r=n),i||(i=0);var a=o.degreesToRadians(t),s=n*Math.sin(a)+e.x,u=r*Math.cos(a)+e.y;return i&&n!=r?o.rotate(e.x,e.y,s,u,i):{x:s,y:u}},toFixed:function(t){if(t.toFixed){var e=t.toFixed(1);return e.endsWith(".0")&&(e=e.substr(0,e.length-2)),e}return t}};t.exports=o},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map={}}var e,r,o;return e=t,(r=[{key:"registerData",value:function(t,e){this.map[t]=e}},{key:"dataFromSvgElement",value:function(t){var e=t.getAttribute("wiz-type");if(!e)return null;var n=this.map[e].fromSvgElement(t);return n._svgElement=t,n}},{key:"dataFromOriginalData",value:function(t){var e=t.type;return e?this.map[e].fromOriginalData(t):null}}])&&n(e.prototype,r),o&&n(e,o),t}());t.exports={registerData:function(t,e){r.registerData(t,e)},dataListFromSvgDocument:function(t){for(var e=Array.from(t.childNodes),n=[],o=0;o<e.length;o++){var i=e[o],a=r.dataFromSvgElement(i);a&&n.push(a)}return n},dataFromOriginalData:function(t){return r.dataFromOriginalData(t)}}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n={add:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M752,492H532V272h-40v220H272v40h220v220h40V532h220V492z"/>\n</svg>',arrowDown:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<g>\n\t<g>\n\t\t<rect x="488.485" y="492" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -195.4601 552.1176)" fill-rule="evenodd" clip-rule="evenodd" width="160.5" height="40"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M526.132,582.887c-7.81,7.81-20.474,7.81-28.284,0 s-7.81-20.474,0-28.284"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M639.622,469.397c7.81-7.81,7.81-20.474,0-28.284 s-20.474-7.81-28.284,0"/>\n\t</g>\n\t<g>\n\t\t\n\t\t\t<rect x="375.015" y="492" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 415.1475 1195.9597)" fill-rule="evenodd" clip-rule="evenodd" width="160.5" height="40"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M497.868,582.887c7.81,7.81,20.474,7.81,28.284,0 s7.81-20.474,0-28.284"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M384.378,469.397c-7.81-7.81-7.81-20.474,0-28.284 s20.474-7.81,28.284,0"/>\n\t</g>\n</g>\n</svg>',done:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M452,680c-5.306,0.007-10.396-2.207-14.143-6.151l-160-168\n\t\t\t\tc-7.81-8.201-7.81-21.498,0.001-29.699c7.811-8.201,20.474-8.201,28.284,0.001L452,629.301l265.857-279.15\n\t\t\t\tc7.81-8.201,20.474-8.202,28.284-0.001c7.811,8.201,7.811,21.497,0.001,29.699l-280,294C462.396,677.793,457.306,680.007,452,680\n\t\t\t\tz"/>\n</svg>',eraserArea:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <polygon points="584.047,65.121 147.637,501.687 469.909,824.062 \n\t\t\t906.319,387.498"/>\n</svg>',eraserLine:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M996.646,425.075L598.948,27.5L107.709,518.587l56.815,56.798\n\t\t\tL50.885,688.996c-31.374,31.362-31.374,82.209,0,113.569l170.45,170.412c31.376,31.364,82.243,31.364,113.619,0l113.64-113.608\n\t\t\tl56.812,56.795L996.646,425.075z M306.548,944.583c-15.684,15.682-41.12,15.682-56.805,0L79.289,774.175\n\t\t\tc-15.686-15.682-15.686-41.104,0-56.784l113.639-113.61L420.19,830.974L306.548,944.583z M457.9,811.885L221.332,575.384\n\t\t\tl0.001-0.001l-5.852-5.849l-50.962-50.948l434.43-434.302l340.89,340.791L505.406,859.378l-28.41-28.402l0.002-0.002\n\t\t\tL457.9,811.885z"/>\n</svg>',highlighterArea:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M1.941,965.563l113.85,56.282l42.694-42.212l-85.388-84.42\n\t\t\tL1.941,965.563z M928.987,222.663L778.329,73.717c-7.86-7.77-20.604-7.77-28.464,0L166.813,593.905c-7.86,7.772,0,28.142,0,28.142\n\t\t\ts-24.156,89.976-42.694,126.632c-23.55,46.568-50.64,109.75-50.64,109.75l80.354,72.738c0,0,49.79-40.576,92.484-61.684\n\t\t\tc42.692-21.104,85.388-28.14,85.388-28.14s63.294-6.298,71.154-14.068l526.128-576.472\n\t\t\tC936.847,243.033,936.847,230.433,928.987,222.663z"/>\n</svg>',highlighterLine:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M1009.876,250.276L810.636,53.288\n\t\t\tc-15.718-15.54-41.206-15.54-56.926,0L144.196,599.62c-15.72,15.54-15.72,40.738,0,56.282c0,0-6.276,37.414-28.464,84.42\n\t\t\tC88.61,797.786,44.576,866.956,44.576,866.956l142.312,140.704c0,0,72.564-44.736,128.084-70.352\n\t\t\tc51.024-23.542,85.388-28.142,85.388-28.142c15.718,15.544,41.204,15.544,56.924,0l552.592-602.608\n\t\t\tC1025.594,291.014,1025.594,265.816,1009.876,250.276z M286.51,909.166c-42.694,21.106-90.39,51.282-90.39,51.282L92.27,857.884\n\t\t\tc0,0,28.374-42.852,51.926-89.42c18.536-36.658,30.462-82.422,30.462-82.422l195.24,192.984\n\t\t\tC369.898,879.026,329.204,888.06,286.51,909.166z M967.18,292.484L443.054,866.956c-7.86,7.77-20.604,7.77-28.464,0\n\t\t\tL186.888,641.83c-7.86-7.772-7.86-20.368,0-28.142L767.942,95.502c7.86-7.772,20.602-7.772,28.462,0L967.18,264.344\n\t\t\tC975.04,272.116,975.04,284.714,967.18,292.484z"/>\n</svg>',lineWidthForPencil:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path fill="none" stroke-width="60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\n\tM103.838,412.014c1.052-0.417,115.321,7.997,229.143,100.341c121.267,98.387,281.252,160.34,257.786,7.168\n\tc-26.701-174.281,204.56-90.446,329.395,64.506"/>\n</svg>',lineWidthForHighlighter:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path fill="none" stroke-width="300" stroke-linejoin="round" stroke-miterlimit="10" d="M179,704.622l666-385.244\n\t"/>\n</svg>',more:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path fill-rule="evenodd" clip-rule="evenodd" d="M512,352c22.092,0,40-17.908,40-40s-17.908-40-40-40\n\t\t\ts-40,17.908-40,40S489.908,352,512,352z M512,472c-22.092,0-40,17.908-40,40s17.908,40,40,40s40-17.908,40-40S534.092,472,512,472\n\t\t\tz M512,672c-22.092,0-40,17.908-40,40c0,22.092,17.908,40,40,40s40-17.908,40-40C552,689.908,534.092,672,512,672z"/>\n</svg>',path:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M712,652c-26.123,0-48.335,16.699-56.572,40H372c-44.182,0-80-35.818-80-80s35.818-80,80-80h280\n      c66.274,0,120-53.725,120-120s-53.726-120-120-120H368.572c-8.238-23.302-30.449-40-56.572-40c-33.138,0-60,26.862-60,60\n      s26.862,60,60,60c26.123,0,48.335-16.699,56.572-40H652c44.182,0,80,35.818,80,80s-35.818,80-80,80H372\n      C305.726,492,252,545.726,252,612s53.726,120,120,120h283.427C663.665,755.301,685.877,772,712,772c33.138,0,60-26.862,60-60\n      C772,678.862,745.138,652,712,652z"/>\n</svg>',penArea:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M962.718,41.09C923.535,1.887,841.665,0.013,819.598,22.08\n\t\t\tL177.61,664.387l-14.192,42.588l-28.378,28.39l105.215,105.255l28.378-28.392l42.568-14.194l646.831-647.15\n\t\t\tC999.89,109.009,1001.899,80.292,962.718,41.09z M96.663,899.556c-8.808,8.81-26.686,54.636-26.686,54.636\n\t\t\ts45.805-17.888,54.612-26.696c8.808-8.814,9.695-22.211,1.984-29.926C118.86,889.855,105.469,890.744,96.663,899.556z"/>\n</svg>',penLine:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M155.585,953.359L48.35,975.876l22.504-107.287l84.731-56.513\n\t\t\tl-28.244-28.258l-98.85,70.641L0.247,1024l169.46-28.256l70.608-98.898l-28.243-28.257L155.585,953.359z M982.808,40.965\n\t\t\tc-54.594-54.62-143.11-54.62-197.704,0L756.86,69.221l-56.485-56.513L494.506,218.685l28.244,28.256l177.625-177.72l28.244,28.256\n\t\t\tL141.465,684.921l14.12,14.128l-56.487,56.514l28.243,28.256l0.001-0.001l112.975,113.027l-0.001,0.002l28.243,28.256\n\t\t\tl56.487-56.513l14.12,14.128l643.643-643.956C1037.402,184.139,1037.402,95.583,982.808,40.965z M268.558,868.589L155.585,755.562\n\t\t\tl28.244-28.258l112.973,113.027L268.558,868.589z M339.165,826.204L197.951,684.921l296.555-296.695L635.72,529.508\n\t\t\tL339.165,826.204z M954.564,210.504L664.038,501.178L522.822,359.895L808.529,74.041c41.657-41.677,107.038-43.835,146.035-4.82\n\t\t\tC993.559,108.236,996.221,168.827,954.564,210.504z M212.073,868.589l-56.487-56.514l0,0L212.073,868.589L212.073,868.589z"/>\n</svg>',pencilArea:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M45.833,980.5l78.619-20.275l-59.277-60.966L45.833,980.5z M940.445,108.063l-70.599-64.707\n\t\t\tc-15.587-15.587-40.857-15.587-56.444,0L81.167,775.833L212.026,894l728.418-729.494\n\t\t\tC956.032,148.919,956.032,123.65,940.445,108.063z"/>\n</svg>',pencilLine:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M792.332,33.892c0.138-0.174-1.26,1.198-1.26,1.198C791.485,34.678,791.914,34.294,792.332,33.892z\n\t\t\t M988.621,119.752L903.958,35.09c-30.76-30.76-80.367-31.145-111.626-1.198c-0.276,0.348-6.695,6.878-42.735,42.936\n\t\t\tL52.288,774.453L12,1012.289l237.678-40.354l697.31-697.623c54.067-54.097,41.633-41.675,41.633-41.675\n\t\t\tC1019.793,201.466,1019.793,150.925,988.621,119.752z M52.384,973.821l29.737-173.338L223.227,941.59L52.384,973.821z\n\t\t\t M251.448,913.369L110.342,772.262L692.3,190.305l141.106,141.106L251.448,913.369z M861.627,303.19L720.521,162.084\n\t\t\tl28.221-28.221l141.106,141.106L861.627,303.19z M960.4,204.417l-42.331,42.331L776.962,105.642l42.331-42.331\n\t\t\tc15.587-15.587,40.857-15.587,56.444,0l84.663,84.663C975.987,163.56,975.987,188.83,960.4,204.417z"/>\n</svg>',redo:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M756.093,377.769L636.237,257.912c-7.878-7.88-20.653-7.88-28.531,0c-7.88,7.878-7.88,20.653,0,28.531\n\t\t\tl85.653,85.653H461.954c-110.429,0-199.951,89.522-199.951,199.951s89.522,199.951,199.951,199.951h159.961v-39.99H461.954\n\t\t\tc-88.344,0-159.96-71.616-159.96-159.96s71.616-159.961,159.96-159.961c0,0,22.99,0,74.021,0h157.383l-85.653,85.653\n\t\t\tc-7.88,7.878-7.88,20.653,0,28.531c7.878,7.88,20.653,7.88,28.531,0l119.856-119.856c3.955-3.954,5.922-9.14,5.907-14.322\n\t\t\tC762.015,386.909,760.048,381.722,756.093,377.769z"/>\n</svg>',save:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M711.999,272H312.001c-22.09,0-40,17.908-40,40v400c0,22.09,17.91,40,40,40h399.998\n\t\t\tc22.094,0,40-17.91,40-40V312C751.999,289.908,734.093,272,711.999,272z M392.003,312h240v160h-240V312z M711.999,712H312.001V312\n\t\t\th40.002v160c0,22.09,17.906,40,40,40h240c22.09,0,40-17.91,40-40V312h39.996V712z M552.001,432h40v-80h-40V432z"/>\n</svg>',saving:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M568.154,319.288c0,26.118-21.169,47.288-47.288,47.288c-26.116,0-47.288-21.169-47.288-47.288\n\tC473.581,293.17,494.75,272,520.866,272C546.982,272,568.154,293.172,568.154,319.288z M520.866,669.249\n\tc-22.853,0-41.375,18.525-41.375,41.375S498.016,752,520.866,752c22.85,0,41.375-18.525,41.375-41.375\n\tS543.719,669.249,520.866,669.249z M716.537,544.512c-16.324,0-29.555-13.229-29.555-29.555c0-16.324,13.232-29.555,29.555-29.555\n\tc16.326,0,29.555,13.232,29.555,29.555C746.09,531.28,732.858,544.512,716.537,544.512z M372.483,514.956\n\tc0-26.116-21.17-47.288-47.288-47.288c-26.116,0-47.288,21.169-47.288,47.288c0,26.116,21.17,47.288,47.288,47.288\n\tC351.314,562.244,372.483,541.072,372.483,514.956z M415.947,343.162c18.467,18.467,18.467,48.408,0,66.872\n\tc-18.467,18.467-48.408,18.467-66.875,0s-18.467-48.408,0-66.875S397.48,324.692,415.947,343.162z M634.149,628.239\n\tc-13.85,13.85-13.85,36.306-0.003,50.156c13.851,13.85,36.306,13.85,50.156,0c13.851-13.851,13.851-36.306,0-50.156\n\tC670.454,614.385,647.999,614.385,634.149,628.239z M675.947,393.316c-9.234,9.234-24.206,9.234-33.435,0\n\tc-9.236-9.236-9.236-24.206,0-33.437c9.227-9.233,24.192-9.237,33.425-0.01c0.003,0.003,0.006,0.007,0.01,0.01\n\tC685.18,369.112,685.18,384.085,675.947,393.316z M415.947,619.878c-18.467-18.467-48.408-18.467-66.875,0s-18.467,48.408,0,66.872\n\tc18.467,18.467,48.408,18.467,66.872,0C434.412,668.286,434.412,638.345,415.947,619.878z"/>\n</svg>',shapeArea:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M547.51,91.872c-179.392,0-305.019,144.552-305.019,322.562c0,69.666,24.833,145.4,59.009,198.066\n\t\t\tc23.591-45.732,113-233,113-233s152.362,292.35,187.419,352.394c149.78-25.939,250.115-158.312,250.115-317.708\n\t\t\tC852.034,236.176,726.9,91.872,547.51,91.872z"/>\n   <polygon points="123.5,955.5 641.5,955.5 382.5,438.5 "/>\n</svg>',shapeLine:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M932,412.133C932,213.164,770.772,51.87,571.887,51.87S211.772,213.164,211.772,412.133\n\t\t\tc0,73.836,22.218,142.475,60.31,199.617L92,972.13h640.036L629.788,767.743C801.143,740.033,932,591.379,932,412.133z\n\t\t\tM672.018,932.102l-520.265,0.408l260.082-520.377L672.018,932.102z M610.903,729.994L411.835,332.073L293.125,569.638\n\t\t\tc-26.313-46.509-41.339-100.25-41.339-157.505c0-176.86,143.313-320.233,320.101-320.233\n\t\t\tc176.786,0,320.101,143.373,320.101,320.233C891.988,575.777,769.285,710.737,610.903,729.994z"/>\n</svg>',stylus:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M735.126,304.908c-33.309-33.649-85.432-36.06-119.128-6.524L562.072,242L391.444,411.558l28.074,28.286\n\t    l140.37-141.422l27.89,28.1L279.15,637.834L262.072,782l143.41-16.888l332.082-335.534\n\t    C770.978,395.84,769.886,340.026,735.126,304.908z M384.774,730.328L302.072,742l13.242-83.634l147.812-147.812l70.711,70.711\n\t    L384.774,730.328z M717.684,397.416L562.122,552.98l-70.711-70.71l155.564-155.564c16.968-16.966,43.168-13.226,63.672,7.28\n\t    C731.148,354.488,734.652,380.45,717.684,397.416z"/>\n</svg>',undo:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M267.913,377.769L387.77,257.912c7.878-7.88,20.653-7.88,28.531,0c7.88,7.878,7.88,20.653,0,28.531\n\t\t\tl-85.653,85.653h231.405c110.429,0,199.951,89.522,199.951,199.951s-89.522,199.951-199.951,199.951H402.092v-39.99h159.961\n\t\t\tc88.344,0,159.96-71.616,159.96-159.96s-71.616-159.961-159.96-159.961c0,0-22.99,0-74.022,0H330.648l85.653,85.653\n\t\t\tc7.88,7.878,7.88,20.653,0,28.531c-7.878,7.88-20.653,7.88-28.531,0L267.913,406.414c-3.955-3.954-5.922-9.14-5.907-14.322\n\t\t\tC261.991,386.909,263.959,381.722,267.913,377.769z"/>\n</svg>'};t.exports=n},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(61),o=n(42),i=n(19),a=n(36),s=n(17),u=n(123),c=Object.getOwnPropertyDescriptor;e.f=n(11)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(0),o=n(12),i=n(4);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(31),o=n(60),i=n(15),a=n(9),s=n(273);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,y){for(var v,d,g=i(e),_=o(g),b=r(s,y,3),m=a(_.length),w=0,S=n?p(e,m):u?p(e,0):void 0;m>w;w++)if((h||w in _)&&(d=b(v=_[w],w,g),t))if(n)S[w]=d;else if(d)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:S.push(v)}else if(l)return!1;return f?-1:c||l?l:S}}},function(t,e){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.top=e,this.left=n,this.bottom=r,this.right=o}var e,o,i;return e=t,(o=[{key:"ptInRect",value:function(t){return t.x>=Math.min(this.left,this.right)&&t.x<=Math.max(this.left,this.right)&&t.y>=Math.min(this.top,this.bottom)&&t.y<=Math.max(this.top,this.bottom)}},{key:"merge",value:function(e){var n=Math.min(this.left,e.left),r=Math.min(this.top,e.top),o=Math.max(this.right,e.right);return new t(r,n,Math.max(this.bottom,e.bottom),o)}},{key:"getPoints",value:function(){var t=this.left,e=this.top,n=this.right,r=this.bottom;return[{x:t,y:e},{x:n,y:e},{x:n,y:r},{x:t,y:r}]}},{key:"intersectsLine",value:function(t,e,r){var o=this.getPoints(),i=Math.min.apply(Math,n(o.map(function(t){return t.x}))),a=Math.min.apply(Math,n(o.map(function(t){return t.y}))),s=Math.max.apply(Math,n(o.map(function(t){return t.x}))),u=Math.max.apply(Math,n(o.map(function(t){return t.y})));return r&&(i-=r,a-=r,s+=r,u+=r),!(t.x<i&&e.x<i)&&(!(t.x>s&&e.x>s)&&(!(t.y<a&&e.y<a)&&!(t.y>u&&e.y>u)))}},{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"center",get:function(){return{x:(this.left+this.right)/2,y:(this.top+this.bottom)/2}}}])&&r(e.prototype,o),i&&r(e,i),t}();t.exports=o},function(t,e,n){var r=n(32);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(n(11)){var o=n(44),i=n(3),a=n(4),s=n(0),u=n(77),c=n(114),l=n(31),f=n(56),h=n(42),p=n(18),y=n(57),v=n(26),d=n(9),g=n(149),_=n(46),b=n(36),m=n(17),w=n(62),S=n(6),x=n(15),O=n(106),E=n(47),T=n(49),C=n(48).f,L=n(108),A=n(43),k=n(8),P=n(29),M=n(67),I=n(63),j=n(110),N=n(53),R=n(70),D=n(55),B=n(109),W=n(140),F=n(10),H=n(27),U=F.f,G=H.f,V=i.RangeError,z=i.TypeError,Y=i.Uint8Array,Z=Array.prototype,q=c.ArrayBuffer,X=c.DataView,K=P(0),$=P(2),J=P(3),Q=P(4),tt=P(5),et=P(6),nt=M(!0),rt=M(!1),ot=j.values,it=j.keys,at=j.entries,st=Z.lastIndexOf,ut=Z.reduce,ct=Z.reduceRight,lt=Z.join,ft=Z.sort,ht=Z.slice,pt=Z.toString,yt=Z.toLocaleString,vt=k("iterator"),dt=k("toStringTag"),gt=A("typed_constructor"),_t=A("def_constructor"),bt=u.CONSTR,mt=u.TYPED,wt=u.VIEW,St=P(1,function(t,e){return Ct(I(t,t[_t]),e)}),xt=a(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),Ot=!!Y&&!!Y.prototype.set&&a(function(){new Y(1).set({})}),Et=function(t,e){var n=v(t);if(n<0||n%e)throw V("Wrong offset!");return n},Tt=function(t){if(S(t)&&mt in t)return t;throw z(t+" is not a typed array!")},Ct=function(t,e){if(!(S(t)&&gt in t))throw z("It is not a typed array constructor!");return new t(e)},Lt=function(t,e){return At(I(t,t[_t]),e)},At=function(t,e){for(var n=0,r=e.length,o=Ct(t,r);r>n;)o[n]=e[n++];return o},kt=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},Pt=function(t){var e,n,r,o,i,a,s=x(t),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,h=L(s);if(null!=h&&!O(h)){for(a=h.call(s),r=[],e=0;!(i=a.next()).done;e++)r.push(i.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),e=0,n=d(s.length),o=Ct(this,n);n>e;e++)o[e]=f?c(s[e],e):s[e];return o},Mt=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},It=!!Y&&a(function(){yt.call(new Y(1))}),jt=function(){return yt.apply(It?ht.call(Tt(this)):Tt(this),arguments)},Nt={copyWithin:function(t,e){return W.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return B.apply(Tt(this),arguments)},filter:function(t){return Lt(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Tt(this),arguments)},lastIndexOf:function(t){return st.apply(Tt(this),arguments)},map:function(t){return St(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ut.apply(Tt(this),arguments)},reduceRight:function(t){return ct.apply(Tt(this),arguments)},reverse:function(){for(var t,e=Tt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,o=_(t,r);return new(I(n,n[_t]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,d((void 0===e?r:_(e,r))-o))}},Rt=function(t,e){return Lt(this,ht.call(Tt(this),t,e))},Dt=function(t){Tt(this);var e=Et(arguments[1],1),n=this.length,r=x(t),o=d(r.length),i=0;if(o+e>n)throw V("Wrong length!");for(;i<o;)this[e+i]=r[i++]},Bt={entries:function(){return at.call(Tt(this))},keys:function(){return it.call(Tt(this))},values:function(){return ot.call(Tt(this))}},Wt=function(t,e){return S(t)&&t[mt]&&"symbol"!=r(e)&&e in t&&String(+e)==String(e)},Ft=function(t,e){return Wt(t,e=b(e,!0))?h(2,t[e]):G(t,e)},Ht=function(t,e,n){return!(Wt(t,e=b(e,!0))&&S(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};bt||(H.f=Ft,F.f=Ht),s(s.S+s.F*!bt,"Object",{getOwnPropertyDescriptor:Ft,defineProperty:Ht}),a(function(){pt.call({})})&&(pt=yt=function(){return lt.call(this)});var Ut=y({},Nt);y(Ut,Bt),p(Ut,vt,Bt.values),y(Ut,{slice:Rt,set:Dt,constructor:function(){},toString:pt,toLocaleString:jt}),kt(Ut,"buffer","b"),kt(Ut,"byteOffset","o"),kt(Ut,"byteLength","l"),kt(Ut,"length","e"),U(Ut,dt,{get:function(){return this[mt]}}),t.exports=function(t,e,n,r){var c=t+((r=!!r)?"Clamped":"")+"Array",l="get"+t,h="set"+t,y=i[c],v=y||{},_=y&&T(y),b=!y||!u.ABV,m={},x=y&&y.prototype,O=function(t,n){U(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[l](n*e+r.o,xt)}(this,n)},set:function(t){return function(t,n,o){var i=t._d;r&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),i.v[h](n*e+i.o,o,xt)}(this,n,t)},enumerable:!0})};b?(y=n(function(t,n,r,o){f(t,y,c,"_d");var i,a,s,u,l=0,h=0;if(S(n)){if(!(n instanceof q||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return mt in n?At(y,n):Pt.call(y,n);i=n,h=Et(r,e);var v=n.byteLength;if(void 0===o){if(v%e)throw V("Wrong length!");if((a=v-h)<0)throw V("Wrong length!")}else if((a=d(o)*e)+h>v)throw V("Wrong length!");s=a/e}else s=g(n),i=new q(a=s*e);for(p(t,"_d",{b:i,o:h,l:a,e:s,v:new X(i)});l<s;)O(t,l++)}),x=y.prototype=E(Ut),p(x,"constructor",y)):a(function(){y(1)})&&a(function(){new y(-1)})&&R(function(t){new y,new y(null),new y(1.5),new y(t)},!0)||(y=n(function(t,n,r,o){var i;return f(t,y,c),S(n)?n instanceof q||"ArrayBuffer"==(i=w(n))||"SharedArrayBuffer"==i?void 0!==o?new v(n,Et(r,e),o):void 0!==r?new v(n,Et(r,e)):new v(n):mt in n?At(y,n):Pt.call(y,n):new v(g(n))}),K(_!==Function.prototype?C(v).concat(C(_)):C(v),function(t){t in y||p(y,t,v[t])}),y.prototype=x,o||(x.constructor=y));var L=x[vt],A=!!L&&("values"==L.name||null==L.name),k=Bt.values;p(y,gt,!0),p(x,mt,c),p(x,wt,!0),p(x,_t,y),(r?new y(1)[dt]==c:dt in x)||U(x,dt,{get:function(){return c}}),m[c]=y,s(s.G+s.W+s.F*(y!=v),m),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*a(function(){v.of.call(y,1)}),c,{from:Pt,of:Mt}),"BYTES_PER_ELEMENT"in x||p(x,"BYTES_PER_ELEMENT",e),s(s.P,c,Nt),D(c),s(s.P+s.F*Ot,c,{set:Dt}),s(s.P+s.F*!A,c,Bt),o||x.toString==pt||(x.toString=pt),s(s.P+s.F*a(function(){new y(1).slice()}),c,{slice:Rt}),s(s.P+s.F*(a(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!a(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:jt}),N[c]=A?L:k,o||A||p(x,vt,k)}}else t.exports=function(){}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(43)("meta"),i=n(6),a=n(17),s=n(10).f,u=0,c=Object.isExtensible||function(){return!0},l=!n(4)(function(){return c(Object.preventExtensions({}))}),f=function(t){s(t,o,{value:{i:"O"+ ++u,w:{}}})},h=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,o)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[o].i},getWeak:function(t,e){if(!a(t,o)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[o].w},onFreeze:function(t){return l&&h.NEED&&c(t)&&!a(t,o)&&f(t),t}}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(13),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pageController=e,this._options={needOriginalActions:!1,saveImmediate:!1}}var e,n,i;return e=t,(n=[{key:"onInitiated",value:function(t){}},{key:"loadData",value:function(t){o(!1,"should implement loadData in child class")}},{key:"saveData",value:function(t){o(!1,"should implement saveData in child class")}},{key:"deleteActions",value:function(t){}},{key:"updateUndoRedoStatus",value:function(t){}},{key:"options",get:function(){return this._options}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(13),i=n(1),a=n(7),s=n(2),u=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._disabled=n._disabled||!1,this._element=null,this._type=n.type||"",this._onClick=n.onClick,this._handler={onClick:function(t){e.disabled||(e._handler.onMouseEnter(),e._showSubMenu()||e.onClick(e.value),a.stopEvent(t,!0))},onMouseEnter:function(){s.addClass(e._element,"hover")},onMouseLeave:function(){s.removeClass(e._element,"hover")}}}var e,n,u;return e=t,(n=[{key:"destroy",value:function(){s.remove(this.element),this._element=null}},{key:"_createButtonContainer",value:function(){var t=document.createElement("div");return s.addClass(t,i.CLASS.TOOLBAR.BUTTON),t}},{key:"_createElement",value:function(){return o(!1),null}},{key:"_showSubMenu",value:function(){return!1}},{key:"element",get:function(){return this._element||(this._element=this._createElement(),o(this._element),this._element.addEventListener("touchstart",this._handler.onClick),this._element.addEventListener("mousedown",this._handler.onClick),this._element.addEventListener("touchend",this._handler.onMouseLeave),this._element.addEventListener("mouseenter",this._handler.onMouseEnter),this._element.addEventListener("mouseleave",this._handler.onMouseLeave)),this._element}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t;var e=this.element;t?s.addClass(e,i.CLASS.DISABLED):s.removeClass(e,i.CLASS.DISABLED)}},{key:"onClick",get:function(){return this._onClick}},{key:"type",get:function(){return this._type}},{key:"value",get:function(){return this}}])&&r(e.prototype,n),u&&r(e,u),t}();t.exports=u},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(13),i=n(1),a=n(2),s=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._toolbar=e,this._toolbarLayer=e.layer,this._element=null,this.anchorButton=r.anchorButton,this._active=!1,this._forbidAutoHide=!1,this._onSelect=r.onSelect,this._handler={onClickPage:function(t){if(n._active&&!n._forbidAutoHide){var e=t.target;a.getParentByFilter(e,function(t){var e=!1;return n._anchorButton&&(e=n._anchorButton.element===t),e||a.hasClass(t,i.CLASS.TOOLBAR.SUBMENU)},!0)||n.hide()}}}}var e,n,s;return e=t,(n=[{key:"destroy",value:function(){a.remove(this.element),this._element=null}},{key:"hide",value:function(){this._active=!1,a.removeClass(this.element,i.CLASS.ACTIVE)}},{key:"show",value:function(){if(this._active)this.hide();else{var t=this._toolbar.isBottom;this._active=!0;var e=this.element;if(!e.parentNode)this._anchorButton.element.parentNode.appendChild(e);a.css(e,{top:"-500px",left:"-500px",right:null,visibility:"hidden"}),a.addClass(e,i.CLASS.ACTIVE);var n=a.getPageScroll(),r=this._anchorButton.element,o=this._toolbarLayer.clientWidth,s=e.clientWidth,u=r.offsetLeft+r.clientWidth/2-s/2-1,c=s/2-this._arrow.offsetWidth/2,l=s/2-this._arrowBg.offsetWidth/2;if(u+s+8>n.left+o){u=n.left+o-8-s;var f=r.offsetLeft+r.clientWidth/2-u;c=f-this._arrow.offsetWidth/2-1,l=f-this._arrowBg.offsetWidth/2-1}else if(u<n.left+8){u=n.left+8;var h=r.offsetLeft+r.clientWidth/2-u;c=h-this._arrow.offsetWidth/2-1,l=h-this._arrowBg.offsetWidth/2-1}a.css(this._arrow,{left:c+"px"}),a.css(this._arrowBg,{left:l+"px"});var p={top:"auto",bottom:"auto",left:u+"px",visibility:"visible"};t?p.bottom="50px":p.top="50px",a.css(e,p)}}},{key:"_createSubmenuContainer",value:function(){var t=document.createElement("div");return this._arrowBg=document.createElement("div"),this._arrow=document.createElement("div"),t.appendChild(this._arrowBg),t.appendChild(this._arrow),a.addClass(this._arrow,i.CLASS.TOOLBAR.SUBMENU_ARROW),a.addClass(this._arrowBg,i.CLASS.TOOLBAR.SUBMENU_ARROW_BG),a.addClass(t,i.CLASS.TOOLBAR.SUBMENU),t}},{key:"_createElement",value:function(){return o(!1),null}},{key:"element",get:function(){return this._element||(this._element=this._createElement(),o(this._element),document.body.addEventListener("pointerdown",this._handler.onClickPage,!1),document.body.addEventListener("touchstart",this._handler.onClickPage,!1),document.body.addEventListener("mousedown",this._handler.onClickPage,!1)),this._element}},{key:"anchorButton",set:function(t){t&&(this._anchorButton=t)}},{key:"forbidAutoHide",set:function(t){this._forbidAutoHide=t}}])&&r(e.prototype,n),s&&r(e,s),t}();t.exports=s},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(30),i=n(13),a=n(2),s=1,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=s++,this._options=Object.assign({},e),this._color=e.color,this._lineWidth=e.lineWidth,this._opacity=e.opacity,this._bottomMost=!!e.bottomMost,this._svgElement=null,this._svgThumb=null,this._type="unknown"}var e,n,u;return e=t,(n=[{key:"addPoint",value:function(t){i(!1),this._svgThumb=null}},{key:"end",value:function(t){}},{key:"recognize",value:function(){return null}},{key:"_createSvgElement",value:function(){return i(!1),null}},{key:"drawOnCanvas",value:function(t){return i(!1),null}},{key:"type",get:function(){return this._type}},{key:"svgElement",get:function(){return this._svgElement||(this._svgElement=this._createSvgElement(),i(this._svgElement)),this._svgElement}},{key:"bottomMost",get:function(){return this._bottomMost}},{key:"color",get:function(){return this._color}},{key:"lineWidth",get:function(){return this._lineWidth}},{key:"opacity",get:function(){return this._opacity}},{key:"bound",get:function(){return new o(0,0,0,0)}},{key:"id",get:function(){return this._id}},{key:"srcDataId",get:function(){return this._options&&this._options.srcDataId}},{key:"extraSrcDataId",get:function(){return this._options&&this._options.extraSrcDataId}},{key:"allSrcDataId",get:function(){var t=[];return this.srcDataId&&t.push(this.srcDataId),this.extraSrcDataId&&(t=t.concat(this.extraSrcDataId)),t}},{key:"thumb",get:function(){if(this._svgThumb)return this._svgThumb;var t=this.bound,e=t.center,n=Math.max(t.width,t.height),r=Math.round(n/20),o=n+r+2;t.left=e.x-o/2,t.right=t.left+o,t.top=e.y-o/2,t.bottom=t.top+o;var i=a.createSvg();i.setAttribute("viewBox","".concat(t.left.toFixed(0)," ").concat(t.top.toFixed(0)," ").concat(t.width.toFixed(0)," ").concat(t.height.toFixed(0)));var s=this._lineWidth;this._lineWidth=r;var u=this._createSvgElement();return i.appendChild(u),this._lineWidth=s,this._svgThumb=i,i}},{key:"originalData",get:function(){i(!1,"should implement property originalData")}}])&&r(e.prototype,n),u&&r(e,u),t}();t.exports=u},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(125),o=n(92);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(5),o=n(126),i=n(92),a=n(91)("IE_PROTO"),s=function(){},u=function(){var t,e=n(89)("iframe"),r=i.length;for(e.style.display="none",n(94).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(125),o=n(92).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(17),o=n(15),i=n(91)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(10).f,o=n(17),i=n(8)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){var r=n(8)("unscopables"),o=Array.prototype;null==o[r]&&n(18)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){"use strict";var r=n(3),o=n(10),i=n(11),a=n(8)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(14);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(156),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){var r=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(33),o=n(8)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(5),o=n(32),i=n(8)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==n(t)}},function(t,e,n){n(1);var r=n(21),o={splitPath:function(t,e,n,i,a,s){i+=a/2;var u=[];t=t.concat();for(var c=[],l=[],f=!1,h=0;h<t.length-1;h++){var p=t[h],y=t[h+1];if(f)l.push(y);else{var v=null;if(c.push(p),r.isMeet(p,y,e,n)){if(s)return u;var d=r.getCrossPoint(p,y,e,n);d&&(v=Object.assign({},d))}else if(r.getDistance(p,e)<i/2?v=p:r.getDistance(p,n)<i/2?v=p:r.getDistance(y,e)<i/2?v=y:r.getDistance(y,n)<i/2&&(v=y),v&&s)return u;v&&(c.push(Object.assign({},v)),f=!0,l.push(Object.assign({},v)),l.push(y))}}if(!f)return null;if(c.length>=2){for(var g=c[c.length-1],_=null;c.length>1;){var b=c[c.length-2];if(!(r.getDistance(g,b)<i/2))break;_=b,c.splice(c.length-2,1)}if(c.length>=2){if(_){var m=r.getDistance(g,_),w=Math.abs(i/2-m),S=c[c.length-2],x=r.getPointFromA2B(_,S,w);c[c.length-1]=Object.assign({},S,x)}else{var O=g,E=c[c.length-2],T=r.getPointFromA2B(O,E,i/2);c[c.length-1]=Object.assign({},E,T)}o.getPathLength(c)>a/2&&u.push(c)}}if(l.length>=2){for(var C=l[0],L=null;l.length>1;){var A=l[1];if(!(r.getDistance(C,A)<i/2))break;L=A,l.splice(1,1)}if(l.length>=2){if(L){var k=r.getDistance(C,L),P=Math.abs(i/2-k),M=l[1],I=r.getPointFromA2B(L,M,P);l[0]=Object.assign({},M,I)}else{var j=C,N=l[1],R=r.getPointFromA2B(j,N,i/2);l[0]=Object.assign({},N,R)}o.getPathLength(l)>a/2&&u.push(l)}}return u},getPathLength:function(t){if(t.length<=1)return 0;for(var e=0,n=0;n<t.length-1;n++){var o=t[n],i=t[n+1];e+=r.getDistance(o,i)}return e}};t.exports=o},function(t,e,n){var r=n(12),o=n(3),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(44)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(19),o=n(9),i=n(46);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(0),o=n(34),i=n(4),a=n(96),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var o={},s=i(function(){return!!a[t]()||""!=""[t]()}),u=o[t]=s?e(f):a[t];n&&(o[n]=u),r(r.P+r.F*s,"String",o)},f=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e,n){var r=n(8)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(62),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!==r(a))throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(142);var r=n(14),o=n(18),i=n(4),a=n(34),s=n(8),u=n(111),c=s("species"),l=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),p=!i(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),y=p?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e}):void 0;if(!p||!y||"replace"===t&&!l||"split"===t&&!f){var v=/./[h],d=n(a,h,""[t],function(t,e,n,r,o){return e.exec===u?p&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),g=d[0],_=d[1];r(String.prototype,t,g),o(RegExp.prototype,h,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},function(t,e,n){var r=n(31),o=n(138),i=n(106),a=n(5),s=n(9),u=n(108),c={},l={};(e=t.exports=function(t,e,n,f,h){var p,y,v,d,g=h?function(){return t}:u(t),_=r(n,f,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((d=e?_(a(y=t[b])[0],y[1]):_(t[b]))===c||d===l)return d}else for(v=g.call(t);!(y=v.next()).done;)if((d=o(v,_,y.value,e))===c||d===l)return d}).BREAK=c,e.RETURN=l},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(3),o=n(0),i=n(14),a=n(57),s=n(37),u=n(74),c=n(56),l=n(6),f=n(4),h=n(70),p=n(52),y=n(97);t.exports=function(t,e,n,v,d,g){var _=r[t],b=_,m=d?"set":"add",w=b&&b.prototype,S={},x=function(t){var e=w[t];i(w,t,"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||w.forEach&&!f(function(){(new b).entries().next()}))){var O=new b,E=O[m](g?{}:-0,1)!=O,T=f(function(){O.has(1)}),C=h(function(t){new b(t)}),L=!g&&f(function(){for(var t=new b,e=5;e--;)t[m](e,e);return!t.has(-0)});C||((b=e(function(e,n){c(e,b,t);var r=y(new _,e,b);return null!=n&&u(n,d,r[m],r),r})).prototype=w,w.constructor=b),(T||L)&&(x("delete"),x("has"),d&&x("get")),(L||E)&&x(m),g&&w.clear&&delete w.clear}else b=v.getConstructor(e,t,d,m),a(b.prototype,n),s.NEED=!0;return p(b,t),S[t]=b,o(o.G+o.W+o.F*(b!=_),S),g||v.setStrong(b,t,d),b}},function(t,e,n){for(var r,o=n(3),i=n(18),a=n(43),s=a("typed_array"),u=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[h[f++]])?(i(r.prototype,s,!0),i(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){var r=n(349),o=n(350),i=n(351),a=n(352),s=n(353);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(80);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(155),o=n(360),i=n(361),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(115)(Object,"create");t.exports=r},function(t,e,n){var r=n(375);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n={get:function(t){var e=window.localStorage[t];return e?JSON.parse(e):null},set:function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},remove:function(t){window.localStorage.removeItem(t)}};t.exports=n},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(39),f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,a(e).call(this,t)))._iconHtml=t.iconHtml,n._text=t.text,n}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l),n=e,(r=[{key:"_createElement",value:function(){var t=this._createButtonContainer();if(t.innerHTML=this._iconHtml,this._text){var e=document.createElement("span");e.innerText=this._text,c.css(t,{width:"auto"}),c.addClass(e,u.CLASS.TOOLBAR.BUTTON_LABEL),t.appendChild(e)}return t}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e){var n={add:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M752,492H532V272h-40v220H272v40h220v220h40V532h220V492z"/>\n</svg>',arrowDown:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<g>\n\t<g>\n\t\t<rect x="488.485" y="492" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -195.4601 552.1176)" fill-rule="evenodd" clip-rule="evenodd" width="160.5" height="40"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M526.132,582.887c-7.81,7.81-20.474,7.81-28.284,0 s-7.81-20.474,0-28.284"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M639.622,469.397c7.81-7.81,7.81-20.474,0-28.284 s-20.474-7.81-28.284,0"/>\n\t</g>\n\t<g>\n\t\t\n\t\t\t<rect x="375.015" y="492" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 415.1475 1195.9597)" fill-rule="evenodd" clip-rule="evenodd" width="160.5" height="40"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M497.868,582.887c7.81,7.81,20.474,7.81,28.284,0 s7.81-20.474,0-28.284"/>\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M384.378,469.397c-7.81-7.81-7.81-20.474,0-28.284 s20.474-7.81,28.284,0"/>\n\t</g>\n</g>\n</svg>',done:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M452,680c-5.306,0.007-10.396-2.207-14.143-6.151l-160-168\n\t\t\t\tc-7.81-8.201-7.81-21.498,0.001-29.699c7.811-8.201,20.474-8.201,28.284,0.001L452,629.301l265.857-279.15\n\t\t\t\tc7.81-8.201,20.474-8.202,28.284-0.001c7.811,8.201,7.811,21.497,0.001,29.699l-280,294C462.396,677.793,457.306,680.007,452,680\n\t\t\t\tz"/>\n</svg>',eraser:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M7.38295622,11.1492165 L13.2127535,16.7617518 L19.4694277,10.7382482 L19.4694277,6.64921654 L16.4920144,3.78276397 C16.0895509,3.39529926 15.4370286,3.39529926 15.0345651,3.78276397 L7.38295622,11.1492165 Z M6.65423156,11.8507835 L4.83241993,13.6047007 C4.42995641,13.9921654 4.42995641,14.6203699 4.83241993,15.0078346 L9.20476785,19.217236 C9.60723137,19.6047007 10.2597536,19.6047007 10.6622172,19.217236 L12.4840288,17.4633187 L6.65423156,11.8507835 Z M17.2207391,3.08119706 L20.1981524,5.94764963 C20.3914222,6.13371675 20.5,6.38607791 20.5,6.64921654 L20.5,10.7382482 C20.5,11.0013868 20.3914222,11.253748 20.1981524,11.4398151 L11.3909418,19.9188029 C10.5860148,20.6937324 9.28097023,20.6937324 8.4760432,19.9188029 L4.10369527,15.7094015 C3.29876824,14.9344721 3.29876824,13.6780632 4.10369527,12.9031338 L14.3058404,3.08119706 C15.1107675,2.30626765 16.415812,2.30626765 17.2207391,3.08119706 Z"></path>\n</svg>',eraserActive:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M21,17 L21,20.3333333 C21,20.7015232 20.7015232,21 20.3333333,21 L17,21 L21,17 Z M7.38295622,11.1492165 L13.2127535,16.7617518 L19.4694277,10.7382482 L19.4694277,6.64921654 L16.4920144,3.78276397 C16.0895509,3.39529926 15.4370286,3.39529926 15.0345651,3.78276397 L7.38295622,11.1492165 Z M6.65423156,11.8507835 L4.83241993,13.6047007 C4.42995641,13.9921654 4.42995641,14.6203699 4.83241993,15.0078346 L9.20476785,19.217236 C9.60723137,19.6047007 10.2597536,19.6047007 10.6622172,19.217236 L12.4840288,17.4633187 L6.65423156,11.8507835 Z M17.2207391,3.08119706 L20.1981524,5.94764963 C20.3914222,6.13371675 20.5,6.38607791 20.5,6.64921654 L20.5,10.7382482 C20.5,11.0013868 20.3914222,11.253748 20.1981524,11.4398151 L11.3909418,19.9188029 C10.5860148,20.6937324 9.28097023,20.6937324 8.4760432,19.9188029 L4.10369527,15.7094015 C3.29876824,14.9344721 3.29876824,13.6780632 4.10369527,12.9031338 L14.3058404,3.08119706 C15.1107675,2.30626765 16.415812,2.30626765 17.2207391,3.08119706 Z"></path>\n</svg>',highlighter:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M10.7952814,18.5092424 C10.276114,17.9900751 8.65163556,18.5315679 7.25974747,19.923456 L6.90619408,20.2770094 L6.55264069,19.923456 L5.13842712,21.3376695 L2.31,19.923456 L4.43132034,17.8021356 L4.07776695,17.4485822 L4.43132034,17.0950288 C5.82320843,15.7031408 6.36470126,14.0786623 5.84553391,13.5594949 L15.0379221,4.36710678 C15.4284464,3.97658249 16.0616113,3.97658249 16.4521356,4.36710678 L17.8663492,2.95289322 C18.2568735,2.56236893 18.8900385,2.56236893 19.2805627,2.95289322 L21.4018831,5.07421356 C21.7924074,5.46473785 21.7924074,6.09790283 21.4018831,6.48842712 L19.9876695,7.90264069 C20.3781938,8.29316498 20.3781938,8.92632996 19.9876695,9.31685425 L10.7952814,18.5092424 Z M9.66154795,17.375509 L6.97926733,14.6932284 C6.81203031,15.5594498 6.28071807,16.541067 5.48179693,17.4383986 L6.91637767,18.8729794 C7.81370927,18.0740582 8.79532652,17.542746 9.66154795,17.375509 Z M19.2805627,8.60974747 L15.7450288,5.07421356 L7.25974747,13.5594949 L10.7952814,17.0950288 L19.2805627,8.60974747 Z M17.1592424,5.07421356 L19.2805627,7.19553391 L20.6947763,5.78132034 L18.573456,3.66 L17.1592424,5.07421356 Z M5.13842712,18.5092424 L3.95991582,19.6877537 L4.90272486,20.1591582 L5.84553391,19.2163492 L5.13842712,18.5092424 Z"></path>\n</svg>',highlighterActive:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M10.7952814,18.5092424 C10.276114,17.9900751 8.65163556,18.5315679 7.25974747,19.923456 L6.90619408,20.2770094 L6.55264069,19.923456 L5.13842712,21.3376695 L2.31,19.923456 L4.43132034,17.8021356 L4.07776695,17.4485822 L4.43132034,17.0950288 C5.82320843,15.7031408 6.36470126,14.0786623 5.84553391,13.5594949 L15.0379221,4.36710678 C15.4284464,3.97658249 16.0616113,3.97658249 16.4521356,4.36710678 L17.8663492,2.95289322 C18.2568735,2.56236893 18.8900385,2.56236893 19.2805627,2.95289322 L21.4018831,5.07421356 C21.7924074,5.46473785 21.7924074,6.09790283 21.4018831,6.48842712 L19.9876695,7.90264069 C20.3781938,8.29316498 20.3781938,8.92632996 19.9876695,9.31685425 L10.7952814,18.5092424 Z M9.66154795,17.375509 L6.97926733,14.6932284 C6.81203031,15.5594498 6.28071807,16.541067 5.48179693,17.4383986 L6.91637767,18.8729794 C7.81370927,18.0740582 8.79532652,17.542746 9.66154795,17.375509 Z M19.2805627,8.60974747 L15.7450288,5.07421356 L7.25974747,13.5594949 L10.7952814,17.0950288 L19.2805627,8.60974747 Z M17.1592424,5.07421356 L19.2805627,7.19553391 L20.6947763,5.78132034 L18.573456,3.66 L17.1592424,5.07421356 Z M5.13842712,18.5092424 L3.95991582,19.6877537 L4.90272486,20.1591582 L5.84553391,19.2163492 L5.13842712,18.5092424 Z M21,17 L21,20.3333333 C21,20.7015232 20.7015232,21 20.3333333,21 L17,21 L21,17 Z"></path>\n</svg>',lineWidthForPencil:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path fill="none" stroke-width="60" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\n\tM103.838,412.014c1.052-0.417,115.321,7.997,229.143,100.341c121.267,98.387,281.252,160.34,257.786,7.168\n\tc-26.701-174.281,204.56-90.446,329.395,64.506"/>\n</svg>',lineWidthForHighlighter:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path fill="none" stroke-width="300" stroke-linejoin="round" stroke-miterlimit="10" d="M179,704.622l666-385.244\n\t"/>\n</svg>',more:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M12,10 C13.104,10 14,10.896 14,12 C14,13.104 13.104,14 12,14 C10.896,14 10,13.104 10,12 C10,10.896 10.896,10 12,10 Z M4,10 C5.104,10 6,10.896 6,12 C6,13.104 5.104,14 4,14 C2.896,14 2,13.104 2,12 C2,10.896 2.896,10 4,10 Z M20,10 C21.104,10 22,10.896 22,12 C22,13.104 21.104,14 20,14 C18.896,14 18,13.104 18,12 C18,10.896 18.896,10 20,10 Z"></path>\n</svg>',path:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M712,652c-26.123,0-48.335,16.699-56.572,40H372c-44.182,0-80-35.818-80-80s35.818-80,80-80h280\n      c66.274,0,120-53.725,120-120s-53.726-120-120-120H368.572c-8.238-23.302-30.449-40-56.572-40c-33.138,0-60,26.862-60,60\n      s26.862,60,60,60c26.123,0,48.335-16.699,56.572-40H652c44.182,0,80,35.818,80,80s-35.818,80-80,80H372\n      C305.726,492,252,545.726,252,612s53.726,120,120,120h283.427C663.665,755.301,685.877,772,712,772c33.138,0,60-26.862,60-60\n      C772,678.862,745.138,652,712,652z"/>\n</svg>',pen:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M10.2469445,13.0382255 C9.59688692,12.0570512 9.70409779,10.7220757 10.5685771,9.85760297 C11.5554458,8.87074181 13.1554761,8.87074181 14.1423448,9.85760297 C15.1292135,10.8444641 15.1292135,12.4444822 14.1423448,13.4313434 C13.2778654,14.2958162 11.9428798,14.4030262 10.9616981,13.7529736 L5.3766561,19.337973 L14.9231837,16.1558213 L19.9891688,8.55690162 L15.443056,4.01082349 L7.84407845,9.07676996 L4.66190257,18.6232249 L10.2469445,13.0382255 Z M16.1578096,3.2960754 L20.7039223,7.84215354 C21.0446318,8.18286038 21.0974915,8.71668749 20.830217,9.11759615 L15.5718518,17.0050838 L3.66523081,20.9739273 C3.40042616,21.0621948 3.11420404,20.9190848 3.02593582,20.6542822 C2.99135473,20.5505397 2.99135473,20.4383796 3.02593582,20.3346371 L6.9948095,8.42810681 L14.8823572,3.1697817 C15.283269,2.90250926 15.8171001,2.95536856 16.1578096,3.2960754 Z M11.2833307,12.7165953 C11.8754519,13.308712 12.83547,13.308712 13.4275913,12.7165953 C14.0197125,12.1244786 14.0197125,11.1644678 13.4275913,10.5723511 C12.83547,9.98023436 11.8754519,9.98023436 11.2833307,10.5723511 C10.6912095,11.1644678 10.6912095,12.1244786 11.2833307,12.7165953 Z"></path>\n</svg>',penActive:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M10.2469445,13.0382255 C9.59688692,12.0570512 9.70409779,10.7220757 10.5685771,9.85760297 C11.5554458,8.87074181 13.1554761,8.87074181 14.1423448,9.85760297 C15.1292135,10.8444641 15.1292135,12.4444822 14.1423448,13.4313434 C13.2778654,14.2958162 11.9428798,14.4030262 10.9616981,13.7529736 L5.3766561,19.337973 L14.9231837,16.1558213 L19.9891688,8.55690162 L15.443056,4.01082349 L7.84407845,9.07676996 L4.66190257,18.6232249 L10.2469445,13.0382255 Z M16.1578096,3.2960754 L20.7039223,7.84215354 C21.0446318,8.18286038 21.0974915,8.71668749 20.830217,9.11759615 L15.5718518,17.0050838 L3.66523081,20.9739273 C3.40042616,21.0621948 3.11420404,20.9190848 3.02593582,20.6542822 C2.99135473,20.5505397 2.99135473,20.4383796 3.02593582,20.3346371 L6.9948095,8.42810681 L14.8823572,3.1697817 C15.283269,2.90250926 15.8171001,2.95536856 16.1578096,3.2960754 Z M11.2833307,12.7165953 C11.8754519,13.308712 12.83547,13.308712 13.4275913,12.7165953 C14.0197125,12.1244786 14.0197125,11.1644678 13.4275913,10.5723511 C12.83547,9.98023436 11.8754519,9.98023436 11.2833307,10.5723511 C10.6912095,11.1644678 10.6912095,12.1244786 11.2833307,12.7165953 Z M21,17 L21,20.3333333 C21,20.7015232 20.7015232,21 20.3333333,21 L17,21 L21,17 Z"></path>\n</svg>',redo:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n<g transform="translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) translate(2.000000, 5.000000)">\n  <path d="M4,13 L14,13 C16.7799121,13 19,10.9649194 19,8.5 C19,6.03508061 16.7799121,4 14,4 L4,4 L4,3 L14,3 C17.3137085,3 20,5.46243388 20,8.5 C20,11.5375661 17.3137085,14 14,14 L4,14 L4,13 Z M4,13 L14,13 C16.7799121,13 19,10.9649194 19,8.5 C19,6.03508061 16.7799121,4 14,4 L4,4 L4,3 L14,3 C17.3137085,3 20,5.46243388 20,8.5 C20,11.5375661 17.3137085,14 14,14 L4,14 L4,13 Z"></path>\n  <polygon points="0 3.5 7 0 7 7"></polygon>\n</g>\n</svg>',save:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M711.999,272H312.001c-22.09,0-40,17.908-40,40v400c0,22.09,17.91,40,40,40h399.998\n\t\t\tc22.094,0,40-17.91,40-40V312C751.999,289.908,734.093,272,711.999,272z M392.003,312h240v160h-240V312z M711.999,712H312.001V312\n\t\t\th40.002v160c0,22.09,17.906,40,40,40h240c22.09,0,40-17.91,40-40V312h39.996V712z M552.001,432h40v-80h-40V432z"/>\n</svg>',saving:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n<path d="M568.154,319.288c0,26.118-21.169,47.288-47.288,47.288c-26.116,0-47.288-21.169-47.288-47.288\n\tC473.581,293.17,494.75,272,520.866,272C546.982,272,568.154,293.172,568.154,319.288z M520.866,669.249\n\tc-22.853,0-41.375,18.525-41.375,41.375S498.016,752,520.866,752c22.85,0,41.375-18.525,41.375-41.375\n\tS543.719,669.249,520.866,669.249z M716.537,544.512c-16.324,0-29.555-13.229-29.555-29.555c0-16.324,13.232-29.555,29.555-29.555\n\tc16.326,0,29.555,13.232,29.555,29.555C746.09,531.28,732.858,544.512,716.537,544.512z M372.483,514.956\n\tc0-26.116-21.17-47.288-47.288-47.288c-26.116,0-47.288,21.169-47.288,47.288c0,26.116,21.17,47.288,47.288,47.288\n\tC351.314,562.244,372.483,541.072,372.483,514.956z M415.947,343.162c18.467,18.467,18.467,48.408,0,66.872\n\tc-18.467,18.467-48.408,18.467-66.875,0s-18.467-48.408,0-66.875S397.48,324.692,415.947,343.162z M634.149,628.239\n\tc-13.85,13.85-13.85,36.306-0.003,50.156c13.851,13.85,36.306,13.85,50.156,0c13.851-13.851,13.851-36.306,0-50.156\n\tC670.454,614.385,647.999,614.385,634.149,628.239z M675.947,393.316c-9.234,9.234-24.206,9.234-33.435,0\n\tc-9.236-9.236-9.236-24.206,0-33.437c9.227-9.233,24.192-9.237,33.425-0.01c0.003,0.003,0.006,0.007,0.01,0.01\n\tC685.18,369.112,685.18,384.085,675.947,393.316z M415.947,619.878c-18.467-18.467-48.408-18.467-66.875,0s-18.467,48.408,0,66.872\n\tc18.467,18.467,48.408,18.467,66.872,0C434.412,668.286,434.412,638.345,415.947,619.878z"/>\n</svg>',shape:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n\t <path d="M8,10.6666667 L10.7142857,17 L14.4160437,17 C14.1484475,16.3875377 14,15.7111047 14,15 C14,12.2385763 16.2385763,10 19,10 C19.7111047,10 20.3875377,10.1484475 21,10.4160437 L21,5 L8,5 L8,10.6666667 Z M7.05488956,11 L7,11 L7,10.8719244 L6,8.53859104 L1.51653902,19 L10.483461,19 L7.05488956,11 Z M7,8.33333333 L7,4 L22,4 L22,10.9996338 C23.2144467,11.9118401 24,13.3641822 24,15 C24,17.7614237 21.7614237,20 19,20 C17.3641822,20 15.9118401,19.2144467 14.9996338,18 L11.1428571,18 L12,20 L0,20 L6,6 L7,8.33333333 Z M19,19 C21.209139,19 23,17.209139 23,15 C23,12.790861 21.209139,11 19,11 C16.790861,11 15,12.790861 15,15 C15,17.209139 16.790861,19 19,19 Z"></path>\n</svg>',stylus:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 1024 1024" xml:space="preserve">\n\t <path d="M735.126,304.908c-33.309-33.649-85.432-36.06-119.128-6.524L562.072,242L391.444,411.558l28.074,28.286\n\t    l140.37-141.422l27.89,28.1L279.15,637.834L262.072,782l143.41-16.888l332.082-335.534\n\t    C770.978,395.84,769.886,340.026,735.126,304.908z M384.774,730.328L302.072,742l13.242-83.634l147.812-147.812l70.711,70.711\n\t    L384.774,730.328z M717.684,397.416L562.122,552.98l-70.711-70.71l155.564-155.564c16.968-16.966,43.168-13.226,63.672,7.28\n\t    C731.148,354.488,734.652,380.45,717.684,397.416z"/>\n</svg>',undo:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t viewBox="0 0 24 24" xml:space="preserve">\n<g transform="translate(2.000000, 5.000000)">\n  <path d="M4,13 L14,13 C16.7799121,13 19,10.9649194 19,8.5 C19,6.03508061 16.7799121,4 14,4 L4,4 L4,3 L14,3 C17.3137085,3 20,5.46243388 20,8.5 C20,11.5375661 17.3137085,14 14,14 L4,14 L4,13 Z M4,13 L14,13 C16.7799121,13 19,10.9649194 19,8.5 C19,6.03508061 16.7799121,4 14,4 L4,4 L4,3 L14,3 C17.3137085,3 20,5.46243388 20,8.5 C20,11.5375661 17.3137085,14 14,14 L4,14 L4,13 Z"/>\n  <polygon points="0 3.5 7 0 7 7"/>\n</g>\n</svg>'};t.exports=n},function(t,e,n){var r;!function(){"use strict";function o(t,e,n){var r=e.x,o=e.y,i=n.x-r,a=n.y-o;if(0!==i||0!==a){var s=((t.x-r)*i+(t.y-o)*a)/(i*i+a*a);s>1?(r=n.x,o=n.y):s>0&&(r+=i*s,o+=a*s)}return(i=t.x-r)*i+(a=t.y-o)*a}function i(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,a){for(var s,u=i,c=n+1;c<r;c++){var l=o(e[c],e[n],e[r]);l>u&&(s=c,u=l)}u>i&&(s-n>1&&t(e,n,s,i,a),a.push(e[s]),r-s>1&&t(e,s,r,i,a))}(t,0,n,e,r),r.push(t[n]),r}function a(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=i(t=n?t:function(t,e){for(var n,r,o,i,a,s=t[0],u=[s],c=1,l=t.length;c<l;c++)n=t[c],o=s,i=void 0,a=void 0,i=(r=n).x-o.x,a=r.y-o.y,i*i+a*a>e&&(u.push(n),s=n);return s!==n&&u.push(n),u}(t,r),r)}void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){var r=n(6),o=n(3).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){e.f=n(8)},function(t,e,n){var r=n(66)("keys"),o=n(43);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(33);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(6),o=n(5),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(31)(Function.call,n(27).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(6),o=n(95).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){"use strict";var r=n(26),o=n(34);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(26),o=n(34);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(44),o=n(0),i=n(14),a=n(18),s=n(53),u=n(137),c=n(52),l=n(49),f=n(8)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,y,v,d,g){u(n,e,y);var _,b,m,w=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",x="values"==v,O=!1,E=t.prototype,T=E[f]||E["@@iterator"]||v&&E[v],C=T||w(v),L=v?x?w("entries"):C:void 0,A="Array"==e&&E.entries||T;if(A&&(m=l(A.call(new t)))!==Object.prototype&&m.next&&(c(m,S,!0),r||"function"==typeof m[f]||a(m,f,p)),x&&T&&"values"!==T.name&&(O=!0,C=function(){return T.call(this)}),r&&!g||!h&&!O&&E[f]||a(E,f,C),s[e]=C,s[S]=p,v)if(_={values:x?C:w("values"),keys:d?C:w("keys"),entries:L},g)for(b in _)b in E||i(E,b,_[b]);else o(o.P+o.F*(h||O),e,_);return _}},function(t,e,n){var r=n(104),o=n(34);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var r=n(6),o=n(33),i=n(8)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(8)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(53),o=n(8)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(10),o=n(42);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(62),o=n(8)("iterator"),i=n(53);t.exports=n(12).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";var r=n(15),o=n(46),i=n(9);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:o(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(54),o=n(141),i=n(53),a=n(19);t.exports=n(102)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r,o,i=n(71),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(t){var e,n,r,o,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),c&&(e=u.lastIndex),r=a.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),t.exports=u},function(t,e,n){"use strict";var r=n(101)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,o,i,a=n(31),s=n(131),u=n(94),c=n(89),l=n(3),f=l.process,h=l.setImmediate,p=l.clearImmediate,y=l.MessageChannel,v=l.Dispatch,d=0,g={},_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){_.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++d]=function(){s("function"==typeof t?t:Function(t),e)},r(d),d},p=function(t){delete g[t]},"process"==n(33)(f)?r=function(t){f.nextTick(a(_,t,1))}:v&&v.now?r=function(t){v.now(a(_,t,1))}:y?(i=(o=new y).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){"use strict";var r=n(3),o=n(11),i=n(44),a=n(77),s=n(18),u=n(57),c=n(4),l=n(56),f=n(26),h=n(9),p=n(149),y=n(48).f,v=n(10).f,d=n(109),g=n(52),_="prototype",b="Wrong index!",m=r.ArrayBuffer,w=r.DataView,S=r.Math,x=r.RangeError,O=r.Infinity,E=m,T=S.abs,C=S.pow,L=S.floor,A=S.log,k=S.LN2,P=o?"_b":"buffer",M=o?"_l":"byteLength",I=o?"_o":"byteOffset";function j(t,e,n){var r,o,i,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?C(2,-24)-C(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for((t=T(t))!=t||t===O?(o=t!=t?1:0,r=u):(r=L(A(t)/k),t*(i=C(2,-r))<1&&(r--,i*=2),(t+=r+c>=1?l/i:l*C(2,1-c))*i>=2&&(r++,i/=2),r+c>=u?(o=0,r=u):r+c>=1?(o=(t*i-1)*C(2,e),r+=c):(o=t*C(2,c-1)*C(2,e),r=0));e>=8;a[f++]=255&o,o/=256,e-=8);for(r=r<<e|o,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function N(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,a=i>>1,s=o-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-O:O;r+=C(2,e),l-=a}return(c?-1:1)*r*C(2,l-e)}function R(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function D(t){return[255&t]}function B(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function F(t){return j(t,52,8)}function H(t){return j(t,23,4)}function U(t,e,n){v(t[_],e,{get:function(){return this[n]}})}function G(t,e,n,r){var o=p(+n);if(o+e>t[M])throw x(b);var i=t[P]._b,a=o+t[I],s=i.slice(a,a+e);return r?s:s.reverse()}function V(t,e,n,r,o,i){var a=p(+n);if(a+e>t[M])throw x(b);for(var s=t[P]._b,u=a+t[I],c=r(+o),l=0;l<e;l++)s[u+l]=c[i?l:e-l-1]}if(a.ABV){if(!c(function(){m(1)})||!c(function(){new m(-1)})||c(function(){return new m,new m(1.5),new m(NaN),"ArrayBuffer"!=m.name})){for(var z,Y=(m=function(t){return l(this,m),new E(p(t))})[_]=E[_],Z=y(E),q=0;Z.length>q;)(z=Z[q++])in m||s(m,z,E[z]);i||(Y.constructor=m)}var X=new w(new m(2)),K=w[_].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||u(w[_],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else m=function(t){l(this,m,"ArrayBuffer");var e=p(t);this._b=d.call(new Array(e),0),this[M]=e},w=function(t,e,n){l(this,w,"DataView"),l(t,m,"DataView");var r=t[M],o=f(e);if(o<0||o>r)throw x("Wrong offset!");if(o+(n=void 0===n?r-o:h(n))>r)throw x("Wrong length!");this[P]=t,this[I]=o,this[M]=n},o&&(U(m,"byteLength","_l"),U(w,"buffer","_b"),U(w,"byteLength","_l"),U(w,"byteOffset","_o")),u(w[_],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return R(G(this,4,t,arguments[1]))},getUint32:function(t){return R(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,D,e)},setUint8:function(t,e){V(this,1,t,D,e)},setInt16:function(t,e){V(this,2,t,B,e,arguments[2])},setUint16:function(t,e){V(this,2,t,B,e,arguments[2])},setInt32:function(t,e){V(this,4,t,W,e,arguments[2])},setUint32:function(t,e){V(this,4,t,W,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,H,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,F,e,arguments[2])}});g(m,"ArrayBuffer"),g(w,"DataView"),s(w[_],a.VIEW,!0),e.ArrayBuffer=m,e.DataView=w},function(t,e,n){var r=n(359),o=n(365);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(81),o=n(51),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e,n){var r=n(158);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(116),o=n(163);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(39),f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,a(e).call(this,t)))._iconHtml=t.iconHtml,n._text=t.text,n}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l),n=e,(r=[{key:"_createElement",value:function(){var t=this._createButtonContainer();if(t.innerHTML=this._iconHtml,this._text){var e=document.createElement("span");e.innerText=this._text,c.css(t,{width:"auto"}),c.addClass(e,u.CLASS.TOOLBAR.BUTTON_LABEL),t.appendChild(e)}return t}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(21),i=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.time=r||(new Date).getTime(),this.force=o}var e,n,i;return e=t,(n=[{key:"velocityFrom",value:function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1}},{key:"distanceTo",value:function(t){return o.getDistance(this,t)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(476),a=n(87),s=n(175),u=n(21),c=function t(e,n,r){o(this,t),this.x=e,this.y=n,this.lineWidth=r},l=function(){function t(e,n,r){var u=this;o(this,t),this.velocityFilterWeight=n.velocityFilterWeight||.3,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this._options=n,this._lastPoints=[],this._resultPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2;var c=n.tolerance||1;if(1==e.length)e[0].lineWidth=this._lastWidth,this._resultPoints=[e[0],e[0]];else{if(n&&n.cubicsOnly);else for(var l=0;l<e.length-1;l++){var f=e[l],h=e[l+1],p=this._calculateCurveWidths(f,h);f.lineWidth=p.start,h.lineWidth=p.end,1==l?e[0].lineWidth=f.lineWidth:l==e.length-2&&(h.lineWidth=f.lineWidth)}var y=this._calculatePointsNeedToBeSimplified(e,r),v=y.left,d=y.points;d.length>5&&(d=a(d,c,!0));var g=v.concat(d);this._simplifiedPoints=g.concat([]);var _=s(g),b=_.startPoint,m=_.cubics;if(n&&n.cubicsOnly)this._cubics=m,this._startPoint=b;else{var w=g[0];m.forEach(function(t){var e=new i(w,t[0],t[1],t[2],w.lineWidth,t[2].lineWidth);u._drawCurve(e),w=t[2]})}}}var e,n,u;return e=t,(n=[{key:"_calculatePointsNeedToBeSimplified",value:function(t,e){var n={left:[],points:t};if(!e)return n;if(e.length<6)return n;var r=e[e.length-5],o=e.slice(0,e.length-5),i=r.id;if(!i)return n;var a=t.findIndex(function(t){return t.id==i});return-1==a?n:{left:o,points:t.slice(a)}}},{key:"_calculateCurveWidths",value:function(t,e){var n=this._options.lineWidthWeight||1,r=(this.maxWidth+this.minWidth)/2;if(void 0!==t.force&&void 0!==e.force)return{start:r+(this.maxWidth-this.minWidth)*(t.force-.5)*n,end:r+(this.maxWidth-this.minWidth)*(t.force-.5)*n};var o=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(o),a={end:i,start:this._lastWidth};return this._lastVelocity=o,this._lastWidth=i,a}},{key:"_strokeWidth",value:function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}},{key:"_drawCurveSegment",value:function(t,e,n){this._resultPoints.push(new c(t,e,n))}},{key:"_drawCurve",value:function(t){var e=t.endWidth-t.startWidth,n=Math.floor(t.length());n<2&&(n=2);for(var r=0;r<n;r+=1){var o=r/n,i=o*o,a=i*o,s=1-o,u=s*s,c=u*s,l=c*t.startPoint.x;l+=3*u*o*t.control1.x,l+=3*s*i*t.control2.x,l+=a*t.endPoint.x;var f=c*t.startPoint.y;f+=3*u*o*t.control1.y,f+=3*s*i*t.control2.y,f+=a*t.endPoint.y;var h=Math.min(t.startWidth+a*e,this.maxWidth);this._drawCurveSegment(l,f,h)}}},{key:"result",value:function(){return this._resultPoints}},{key:"simplifiedPoints",value:function(){return this._simplifiedPoints}},{key:"cubics",value:function(){return this._cubics}},{key:"startPoint",value:function(){return this._startPoint}}])&&r(e.prototype,n),u&&r(e,u),t}();t.exports=function(t,e,n){t=t.concat([]);var r=new l(t,e,n);if(e&&e.cubicsOnly){var o=r.simplifiedPoints(),i=r.cubics();return{startPoint:r.startPoint(),cubics:i,simplifiedPoints:o,options:e}}var a=r.result(),s=r.simplifiedPoints();return paths=function(t){if(0==t.length)return[];var e=t[0];e.lineWidth||console.error("invalid point");for(var n=[],r={lineWidth:e.lineWidth,points:[{x:e.x,y:e.y}]},o=1;o<t.length;o++){var i=t[o];Math.abs(r.lineWidth-i.lineWidth)>.2?(r.points.push({x:i.x,y:i.y}),n.push(r),r={lineWidth:i.lineWidth,points:[i]}):r.points.push({x:i.x,y:i.y})}return n.push(r),(n=n.filter(function(t){return t.points.length>1})).reduce(function(t,e){return t+e.points.length},0),n.forEach(function(t){for(var e=t.points,n=e.length-2;n>0;n--){var r=e[n+1],o=e[n],i=e[n-1];u.getAngle(i,o,r)>=179&&e.splice(n,1)}}),n.reduce(function(t,e){return t+e.points.length},0),n.forEach(function(t){t.points.forEach(function(t){})}),n}(a),{paths:paths,simplifiedPoints:s,options:e}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(1);var u=n(172),c=n(176),l=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=i(this,a(e).call(this)))._recognizable=!1,t._strokeLinecap="round",t.init(),t}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"init",value:function(){this.brushStatus={start:!1,draw:!1,x:0,y:0},this.data=null}},{key:"start",value:function(t){this.brushStatus.x=t.x,this.brushStatus.y=t.y,this.brushStatus.start=!0;var e={color:this.color,lineWidth:this.lineWidth,opacity:this.opacity,recognizable:this._recognizable,strokeLinecap:this._strokeLinecap,bottomMost:this.bottomMost};return this.data=new this.dataObj([],!1,e),this.data.addPoint(t),this.data}},{key:"move",value:function(t){this.brushStatus.start&&(this.brushStatus.draw=!0,this.data.addPoint(t))}},{key:"end",value:function(t){var e=this.data;if(this.brushStatus.start&&!this.brushStatus.draw){var n={x:this.brushStatus.x,y:this.brushStatus.y};this.data.addPoint(n)}return this.data&&this.data.end(t),this.brushStatus.start=!1,this.brushStatus.draw=!1,this.data=null,e}},{key:"dataObj",get:function(){return c}},{key:"recognizable",set:function(t){this._recognizable=!!t}}])&&o(n.prototype,r),l&&o(n,l),e}();t.exports=l},function(t,e,n){t.exports=!n(11)&&!n(4)(function(){return 7!=Object.defineProperty(n(89)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(3),o=n(12),i=n(44),a=n(90),s=n(10).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(17),o=n(19),i=n(67)(!1),a=n(91)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(10),o=n(5),i=n(45);t.exports=n(11)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(19),i=n(48).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(o(t))}},function(t,e,n){"use strict";var r=n(45),o=n(68),i=n(61),a=n(15),s=n(60),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var h,p=s(arguments[c++]),y=l?r(p).concat(l(p)):r(p),v=y.length,d=0;v>d;)f.call(p,h=y[d++])&&(n[h]=p[h]);return n}:u},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(32),o=n(6),i=n(131),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function r(){var o=n.concat(a.call(arguments));return this instanceof r?function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,o.length,o):i(e,o,t)};return o(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3).parseInt,o=n(69).trim,i=n(96),a=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(3).parseFloat,o=n(69).trim;t.exports=1/r(n(96)+"-0")!=-1/0?function(t){var e=o(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(33);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(6),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(47),o=n(42),i=n(52),a={};n(18)(a,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(5);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(32),o=n(15),i=n(60),a=n(9);t.exports=function(t,e,n,s,u){r(e);var c=o(t),l=i(c),f=a(c.length),h=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(h in l){s=l[h],h+=p;break}if(h+=p,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=p)h in l&&(s=e(s,l[h],h,c));return s}},function(t,e,n){"use strict";var r=n(15),o=n(46),i=n(9);t.exports=[].copyWithin||function(t,e){var n=r(this),a=i(n.length),s=o(t,a),u=o(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(111);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(11)&&"g"!=/./g.flags&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(71)})},function(t,e,n){"use strict";var r,o,i,a,s=n(44),u=n(3),c=n(31),l=n(62),f=n(0),h=n(6),p=n(32),y=n(56),v=n(74),d=n(63),g=n(113).set,_=n(294)(),b=n(145),m=n(295),w=n(75),S=n(146),x=u.TypeError,O=u.process,E=O&&O.versions,T=E&&E.v8||"",C=u.Promise,L="process"==l(O),A=function(){},k=o=b.f,P=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(8)("species")]=function(t){t(A,A)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(o||(2==t._h&&R(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(x("Promise-chain cycle")):(i=M(n))?i.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&j(t)})}},j=function(t){g.call(u,function(){var e,n,r,o=t._v,i=N(t);if(i&&(e=m(function(){L?O.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=L||N(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){g.call(u,function(){var e;L?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},B=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x("Promise can't be resolved itself");(n=M(e))?_(function(){var o={_w:r,_d:!1};try{n.call(e,c(t,o,1),c(D,o,1))}catch(t){D.call(o,t)}}):(r._v=e,r._s=1,I(r,!1))}catch(t){D.call({_w:r,_d:!1},t)}}};P||(C=function(t){y(this,C,"Promise","_h"),p(t),r.call(this);try{t(c(B,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(57)(C.prototype,{then:function(t,e){var n=k(d(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(B,t,1),this.reject=c(D,t,1)},b.f=k=function(t){return t===C||t===a?new i(t):o(t)}),f(f.G+f.W+f.F*!P,{Promise:C}),n(52)(C,"Promise"),n(55)("Promise"),a=n(12).Promise,f(f.S+f.F*!P,"Promise",{reject:function(t){var e=k(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function(t){return S(s&&this===a?C:this,t)}}),f(f.S+f.F*!(P&&n(70)(function(t){C.all(t).catch(A)})),"Promise",{all:function(t){var e=this,n=k(e),r=n.resolve,o=n.reject,i=m(function(){var n=[],i=0,a=1;v(t,!1,function(t){var s=i++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=k(e),r=n.reject,o=m(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){"use strict";var r=n(32);function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){var r=n(5),o=n(6),i=n(145);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(10).f,o=n(47),i=n(57),a=n(31),s=n(56),u=n(74),c=n(102),l=n(141),f=n(55),h=n(11),p=n(37).fastKey,y=n(50),v=h?"_s":"size",d=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,n,t[c],t)});return i(l.prototype,{clear:function(){for(var t=y(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=y(this,e),r=d(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(t){y(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!d(y(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return y(this,e)[v]}}),l},def:function(t,e,n){var r,o,i=d(t,e);return i?i.v=n:(t._l=i={i:o=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[v]++,"F"!==o&&(t._i[o]=i)),t},getEntry:d,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=y(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(57),o=n(37).getWeak,i=n(5),a=n(6),s=n(56),u=n(74),c=n(29),l=n(17),f=n(50),h=c(5),p=c(6),y=0,v=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},g=function(t,e){return h(t.a,function(t){return t[0]===e})};d.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=y++,t._l=void 0,null!=r&&u(r,n,t[i],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=o(t);return!0===n?v(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=o(t);return!0===n?v(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=o(i(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){var r=n(26),o=n(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(48),o=n(68),i=n(5),a=n(3).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(9),o=n(98),i=n(34);t.exports=function(t,e,n,a){var s=String(i(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var f=l-u,h=o.call(c,Math.ceil(f/c.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){var r=n(45),o=n(19),i=n(61).f;t.exports=function(t){return function(e){for(var n,a=o(e),s=r(a),u=s.length,c=0,l=[];u>c;)i.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var r=n(347),o=n(404)(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){var r=n(115)(n(58),"Map");t.exports=r},function(t,e,n){var r=n(58).Symbol;t.exports=r},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(88))},function(t,e,n){var r=n(117),o=n(80);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(115),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(389)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(390),o=n(64),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(58),i=n(392),a="object"==r(e)&&e&&!e.nodeType&&e,s=a&&"object"==r(t)&&t&&!t.nodeType&&t,u=s&&s.exports===a?o.Buffer:void 0,c=(u?u.isBuffer:void 0)||i;t.exports=c}).call(this,n(24)(t))},function(t,e,n){var r=n(394),o=n(395),i=n(396),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e,n){var r=n(400),o=n(402),i=n(118);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=n(t);return!!(e=null==e?r:e)&&("number"==i||"symbol"!=i&&o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r,o,i=n(440),a=n(441),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==h){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var y=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,d=y-s+(v-u)/1e4;if(d<0&&void 0===t.clockseq&&(h=h+1&16383),(d<0||y>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=y,u=v,o=h;var g=(1e4*(268435455&(y+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var _=y/4294967296*1e4&268435455;l[c++]=_>>>8&255,l[c++]=255&_,l[c++]=_>>>24&15|16,l[c++]=_>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var b=0;b<6;++b)l[c+b]=f[b];return e||a(l)}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(2),a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._controller=e,this._layer=null,this._container=null,this._splitLineList=[],this._initOptions(n),this._init()}var e,n,a;return e=t,(n=[{key:"_init",value:function(){this._layer=document.createElement(o.TAG.TMP_TAG),i.addClass(this._layer,o.CLASS.TOOLBAR.LAYER),this._container=document.createElement("div"),i.addClass(this._container,o.CLASS.TOOLBAR.CONTAINER),this._layer.appendChild(this._container),this._controller.rootContainer.appendChild(this._layer),this.setViewMode(),this.update()}},{key:"_initOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isSmallViewer=!!t.isSmallViewer,this._menuGroup=t.menuGroup}},{key:"_createSplitLine",value:function(){var t=this._splitLineList.shift();return t||((t=document.createElement("div")).isSplit=!0,i.css(t,{width:"2px",height:"32px","background-color":"#ECECEC"}),i.addClass(t,o.CLASS.TOOLBAR.BUTTON),t)}},{key:"_showSubMenu",value:function(t,e){console.log("showSubMenu"),console.log(t),console.log(e)}},{key:"destroy",value:function(){}},{key:"setViewMode",value:function(){this._isSmallViewer?i.addClass(this._container,"small"):i.removeClass(this._container,"small")}},{key:"update",value:function(t){for(t&&(this._initOptions(t),this.setViewMode());this._container.firstChild;){var e=this._container.firstChild;e.isSplit&&this._splitLineList.push(e),i.remove(e)}if(this._menuGroup)for(var n=!1,r=0;r<this._menuGroup.length;r++){var o=this._menuGroup[r];if(n){var a=this._createSplitLine();this._container.appendChild(a),n=!1}for(var s=0;s<o.length;s++){var u=o[s];u.showSubMenu=this._showSubMenu,this._container.appendChild(u.element),n=!0}}}},{key:"layer",get:function(){return this._layer}}])&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(7),l=n(173),f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=i(this,a(e).call(this)))._properties={color:!0,lineWidth:!0,size:!1},t}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l),n=e,(r=[{key:"initToolData",value:function(){var t=this.storageData;if(!t){var e=u.TOOL_LINE_WIDTH[this.type],n=e.list[e.default];t={color:this.defaultColorData,lineWidth:n}}t.lineWidth=c.fixLineWidth(t.lineWidth,this.type),this.toolData=t}},{key:"bottomMost",get:function(){return!!this._bottomMost}},{key:"color",get:function(){var t=this.toolData.color;return t.list[t.index]},set:function(t){var e=t.index,n=t.color,r=this.toolData.color;r.index=e,r.list[e]=n,this.toolData=this.toolData}},{key:"colorForButton",get:function(){return this.color}},{key:"colorData",get:function(){return this.toolData.color}},{key:"defaultColorData",get:function(){return u.TOOL_COLOR.COMMON}},{key:"lineWidth",get:function(){return this.toolData.lineWidth},set:function(t){this.toolData.lineWidth=c.fixLineWidth(t,this.type),this.toolData=this.toolData}},{key:"opacity",get:function(){return 1}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(13),i=n(1),a=n(84),s=i.STORAGE.PRE+"_tool_",u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="",this._handler={},this._properties={}}var e,n,i;return e=t,(n=[{key:"saveStorageData",value:function(t){a.set(this.storageToolName,t)}},{key:"initToolData",value:function(){o(!1)}},{key:"start",value:function(){return o(!1),null}},{key:"move",value:function(){o(!1)}},{key:"end",value:function(){o(!1)}},{key:"storageToolName",get:function(){return s+this.type}},{key:"storageData",get:function(){return a.get(this.storageToolName)}},{key:"toolData",get:function(){return this._toolData||this.initToolData(),this._toolData},set:function(t){this._toolData=t,this.saveStorageData(t)}},{key:"properties",get:function(){return this._properties}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=u},function(t,e,n){var r=n(121);t.exports=function(t,e,n,o){e.correctLines?o(r(t,e,n)):o({paths:[{points:t,lineWidth:(e.maxWidth+e.minWidth)/2}],simplifiedPoints:[]})}},function(t,e,n){n(21);t.exports=function(t){for(var e=[],n=0;n<t.length;n++)(o=t[n]).x=parseFloat(o.x),o.y=parseFloat(o.y);n=0;for(var r=t.length;n<r-1;n++){var o=[t[n-1],t[n],t[n+1],t[n+2]];0===n&&(o[0]=t[0]),n===r-2&&(o[3]={x:t[r-2].x,y:t[r-2].y}),n===r-1&&(o[2]={x:t[r-1].x,y:t[r-1].y},o[3]={x:t[r-1].x,y:t[r-1].y});var i={x:(-o[0].x+6*o[1].x+o[2].x)/6,y:(-o[0].y+6*o[1].y+o[2].y)/6},a={x:(o[1].x+6*o[2].x-o[3].x)/6,y:(o[1].y+6*o[2].y-o[3].y)/6},s=o[2];(isNaN(i.x)||isNaN(i.y)||isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&console.error("invalid path"),e.push([i,a,s])}return{startPoint:t[0],cubics:e}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(65),f=n(30),h=n(2),p=n(41),y=n(478),v=n(480),d=n(178),g=n(481),_=n(482),b=n(483),m=n(484),w=n(22),S=c.DATA_TYPE.PATH,x=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,s(e).call(this,r)))._type=S,o._points=t,o._closed=n,o._recognizable=r.recognizable,o._strokeLinecap=r.strokeLinecap,o}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,p),n=e,c=[{key:"fromOriginalData",value:function(t){return new e(t.points,t.closed,t)}},{key:"fromSvgElement",value:function(t){var n=h.fromSvgPath(t);return new e(n.points,n.closed,n)}}],(r=[{key:"addPoint",value:function(t){this._points.push(t),this._updateSvgElement(),this._bound=null}},{key:"_createSvgElement",value:function(){return 0===this._points.length?null:h.createPath({d:h.getSvgPathFromPoints(this._points,this._closed),color:this.color,lineWidth:this.lineWidth,opacity:this.opacity,strokeLinecap:this._strokeLinecap,bottomMost:this.bottomMost},this.dataType)}},{key:"split",value:function(t,e,n,r){var o=this,i=this._points;this._closed&&(i=i.concat([])).push(i[0]);var a=l.splitPath(i,t,e,n,this.lineWidth,r);return a?a.map(function(t){return new o.dataClass(t,!1,o._options)}):null}},{key:"recognize",value:function(){if(!this._recognizable)return null;var t=[],e=y(this._points,this._id,this.lineWidth),n=Object.assign({},this._options,{srcDataId:this._id});if(e.circle){var r=e.circle;t.push(new v(r.center,r.radius,n))}if(e.ellipse){var o=e.ellipse;t.push(new g(o.center,o.radiusX,o.radiusY,o.rotation,n))}if(e.line){var i=e.line,a=[i.start,i.end];t.push(new _(a,n))}if(e.polygon){var s=e.polygon,u=s.points,c=s.closed;t.push(new this.dataClass(u,c,n))}if(e.curve){var l=e.curve;t.push(new d(l.points,n))}if(e.vertex){var f=e.vertex,h=[f.start,f.center,f.end];t.push(new this.dataClass(h,!1,n))}if(e.arrow){var p=e.arrow,w=Object.assign({},n,{extraSrcDataId:p.extraSrcDataId});t.push(new m(p.paths,w))}var S=null;if(e.scribble){var x=e.scribble;S=new b(x.points,n)}return{scribble:S,shapes:t}}},{key:"_updateSvgElement",value:function(){this._svgElement&&this._svgElement.setAttribute("d",h.getSvgPathFromPoints(this._points,this._closed))}},{key:"drawOnCanvas",value:function(t){var e=this._points;if(0!=e.length){t.beginPath(),t.lineWidth=this._lineWidth,t.strokeStyle=this._color;var n=t.globalAlpha;this._opacity&&(t.globalAlpha=this._opacity),t.moveTo(e[0].x,e[0].y);for(var r=1;r<e.length;r++)t.lineTo(e[r].x,e[r].y);this._closed&&t.closePath(),t.stroke(),t.globalAlpha=n}}},{key:"originalData",get:function(){var t=this._points.map(function(t){return{x:t.x,y:t.y}});return{type:this._type,points:t,closed:!!this._closed,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){if(this._bound)return this._bound;var t=this._points.map(function(t){return t.x}),e=this._points.map(function(t){return t.y}),n=Math.min.apply(Math,o(e)),r=Math.min.apply(Math,o(t)),i=Math.max.apply(Math,o(e)),a=Math.max.apply(Math,o(t));return new f(n,r,i,a)}},{key:"dataClass",get:function(){return e}},{key:"dataType",get:function(){return S}}])&&i(n.prototype,r),c&&i(n,c),e}();t.exports=x,w.registerData(S,x)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(41),l=n(30),f=n(21),h=n(2),p=n(22),y=u.DATA_TYPE.ARC,v=function(t){function e(t,n,r,o,s,u,c){var l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(l=i(this,a(e).call(this,c)))._type=y,l._center=t,l._radiusX=n,l._radiusY=r,l._rotation=o,l._startAngle=s,l._endAngle=u,l}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,u=[{key:"fromOriginalData",value:function(t){return new e(t.center,t.radiusX,t.radiusY,t.rotation,t.startAngle,t.endAngle,t)}},{key:"fromSvgElement",value:function(t){var n=t.getAttribute("wiz-data").split("|");if(7!==n.length)return null;var r=parseFloat(n[0]),o=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),s=parseFloat(n[4]),u=parseFloat(n[5]),c=parseFloat(n[6]),l=t.getAttribute("stroke"),h=parseFloat(t.getAttribute("stroke-width")),p=parseFloat(t.getAttribute("stroke-opacity")),y=!!t.getAttribute("bottom-most");return new e({x:r,y:o},i,a,f.degreesToRadians(s),u,c,{color:l,lineWidth:h,opacity:p,bottomMost:y})}}],(r=[{key:"_createSvgElement",value:function(){var t=this,e=function(e,n,r){var o=f.degreesToRadians(e),i=t._radiusX*Math.sin(o)+n.x,a=t._radiusY*Math.cos(o)+n.y;return r&&t._radiusX!=t._radiusY?f.rotate(n.x,n.y,i,a,r):{x:i,y:a}},n=this._center,r=f.radiansToDegrees(this._startAngle)+60,o=f.radiansToDegrees(this._endAngle)+60,i=f.radiansToDegrees(-this._rotation),a=this._radiusX,s=this._radiusY,u=e(r,n,i),c=e(o,n,i),l=Math.abs(o-r)>=180?1:0,p=f.radiansToDegrees(this._rotation),v="M ".concat(u.x.toFixed(2)," ").concat(u.y.toFixed(2))+" A ".concat(a.toFixed(2)," ").concat(s.toFixed(2)," ").concat(p," ").concat(l," 0 ").concat(c.x.toFixed(2)," ").concat(c.y.toFixed(2)),d=h.createSvgElement("path",y);d.setAttribute("d",v),d.setAttribute("stroke-width",this.lineWidth),d.setAttribute("stroke",this.color),d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),d.setAttributeNS(null,"stroke-opacity",this.opacity),this.bottomMost&&d.setAttribute("bottom-most",this.bottomMost);var g="".concat(this._center.x.toFixed(2),"|").concat(this._center.y.toFixed(2),"|").concat(this._radiusX.toFixed(2),"|").concat(this._radiusY.toFixed(2),"|").concat(this._rotation.toFixed(2),"|").concat(this._startAngle.toFixed(2),"|").concat(this._endAngle.toFixed(2));return d.setAttribute("wiz-data",g),d}},{key:"recognize",value:function(){return assert(!1),null}},{key:"split",value:function(t,n,r,o){var i=this,a=this._center,s=f.radiansToDegrees(this._startAngle),u=f.radiansToDegrees(this._endAngle),c=f.radiansToDegrees(-this._rotation);if(s>u){var l=s;s=u,u=l}for(var h=this._radiusX,p=this._radiusY,y=Math.max(h,p),v=360/y,d=Math.round(s/360*y),g=Math.round(u/360*y),_=v*d+60,b=u+60,m=[],w=d;w<=g;w++){var S=v*w+60,x=S*(Math.PI/180),O=a.x+h*Math.sin(x),E=a.y+p*Math.cos(x),T=f.rotate(a.x,a.y,O,E,c);if(f.getDistance(t,T)>r/2)if(f.getDistance(n,T)>r/2)if(f.getAngle(t,T,n)<179)continue;if(o)return[];var C=r/2/f.getDistance(T,a),L=Math.atan(C),A=f.radiansToDegrees(L),k={center:a,radiusX:h,radiusY:p,rotation:c,startAngle:_,endAngle:S-A};m.push(k),_=k.endAngle+A}if(0===m.length)return null;var P={center:a,radiusX:h,radiusY:p,rotation:c,startAngle:_,endAngle:b};m.push(P),m=m.filter(function(t){return t.endAngle-t.startAngle>3});var M=[];return m.forEach(function(t){var n=f.degreesToRadians(t.startAngle-60),r=f.degreesToRadians(t.endAngle-60),o=new e(i._center,i._radiusX,i._radiusY,i._rotation,n,r,i._options);M.push(o)}),M}},{key:"drawOnCanvas",value:function(t){t.beginPath(),t.lineWidth=this._lineWidth,t.strokeStyle=this._color,t.ellipse(this._center.x,this._center.y,this._radiusX,this._radiusY,this._rotation,this._startAngle,this._endAngle),t.stroke()}},{key:"originalData",get:function(){return{type:this._type,center:this._center,radiusX:this._radiusX,radiusY:this._radiusY,rotation:this._rotation,startAngle:this._startAngle,endAngle:this._endAngle,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){var t=this._center,e={top:t.y-this._radiusY,left:t.x-this._radiusX,bottom:t.y+this._radiusY,right:t.x+this._radiusX},n={x:e.left,y:e.top},r={x:e.right,y:e.top},o={x:e.left,y:e.bottom},i={x:e.right,y:e.bottom},a=f.radiansToDegrees(-this._rotation);n=f.rotate(t.x,t.y,n.x,n.y,a),r=f.rotate(t.x,t.y,r.x,r.y,a),o=f.rotate(t.x,t.y,o.x,o.y,a),i=f.rotate(t.x,t.y,i.x,i.y,a);var s=Math.min(n.x,r.x,o.x,i.x),u=Math.min(n.y,r.y,o.y,i.y),c=Math.max(n.x,r.x,o.x,i.x),h=Math.max(n.y,r.y,o.y,i.y);return new l(u,s,h,c)}}])&&o(n.prototype,r),u&&o(n,u),e}();t.exports=v,p.registerData(y,v)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(41),f=n(30),h=n(65),p=n(2),y=n(22),v=n(87),d=n(175),g=c.DATA_TYPE.CURVE,_=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,s(e).call(this,n)))._type=g,n&&n.noSimplify?r._points=t.concat():r._points=v(t,3,!1);var o=d(r._points),i=o.cubics,u=o.startPoint;return r._cubics=i,r._startPoint=u,r._strokeLinecap=n.strokeLinecap,r}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,l),n=e,c=[{key:"fromOriginalData",value:function(t){var n=Object.assign({},t);return t.noSimplify=!0,new e(t.points,n)}},{key:"fromSvgElement",value:function(t){var n=t.getAttribute("wiz-data").split(" ");n.length%2!=0&&console.error("invalid value number");for(var r=[],o=0;o<n.length/2;o++){var i={x:n[2*o],y:n[2*o+1]};r.push(i)}return new e(r,{color:t.getAttribute("stroke"),lineWidth:parseFloat(t.getAttribute("stroke-width")),opacity:parseFloat(t.getAttribute("stroke-opacity")),bottomMost:!!t.getAttribute("bottom-most"),noSimplify:!0})}}],(r=[{key:"_cubics2Path",value:function(t){for(var e=this._startPoint,n=e.x,r=e.y,o="M".concat(n.toFixed(2),", ").concat(r.toFixed(2)),i=0;i<t.length;i++){var a=t[i];o+=" C".concat(a[0].x.toFixed(2),",").concat(a[0].y.toFixed(2)," ").concat(a[1].x.toFixed(2),",").concat(a[1].y.toFixed(2)," ").concat(a[2].x.toFixed(2),",").concat(a[2].y.toFixed(2))}return o}},{key:"_createSvgElement",value:function(){var t=p.createSvgElement("path",g);if(this._cubics&&this._cubics.length>0){var e=this._cubics2Path(this._cubics);t.setAttribute("d",e)}t.setAttribute("stroke",this.color),t.setAttribute("stroke-width",this.lineWidth),t.setAttribute("fill","none"),t.setAttributeNS(null,"stroke-opacity",this.opacity),t.setAttribute("stroke-linecap",this._strokeLinecap),this.bottomMost&&t.setAttribute("bottom-most",this.bottomMost);var n=this._points.map(function(t){return"".concat(t.x.toFixed(2)," ").concat(t.y.toFixed(2))}).join(" ");return t.setAttribute("wiz-data",n),t}},{key:"split",value:function(t,n,r,o){var i=this,a=h.splitPath(this._points,t,n,r,this.lineWidth,o);return a?(a=a.filter(function(t){return t.length>=2})).map(function(t){return new e(t,Object.assign({},i._options,{noSimplify:!0}))}):null}},{key:"drawOnCanvas",value:function(t){t.beginPath(),t.lineWidth=this._lineWidth,t.strokeStyle=this._color;var e=this._cubics,n=this._startPoint,r=n.x,o=n.y;t.moveTo(r,o);for(var i=0;i<e.length;i++){var a=e[i];t.bezierCurveTo(a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[0].y)}t.stroke()}},{key:"originalData",get:function(){var t=this._points.map(function(t){return{x:t.x,y:t.y}});return{type:this._type,points:t,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){if(this._bound)return this._bound;if(!this._points)return new f(0,0,0,0);var t=this._points.map(function(t){return t.x}),e=this._points.map(function(t){return t.y}),n=Math.min.apply(Math,o(e)),r=Math.min.apply(Math,o(t)),i=Math.max.apply(Math,o(e)),a=Math.max.apply(Math,o(t));return new f(n,r,i,a)}}])&&i(n.prototype,r),c&&i(n,c),e}();t.exports=_,y.registerData(g,_)},function(t,e,n){n(180),n(346);var r=n(153),o=n(1),i=n(413),a=n(417),s=function(t,e,n){o.LANG=new i(t.lang),o.PAGE.MIN_HEIGHT=t.minHeight||100,o.PAGE.MAX_UNDO=t.maxUndo||100;var s=r({},o.TOOL_TYPE);document.title=o.LANG.Title;var u=new a(t.clientType,e,t.callback),c={version:o.version,destroy:function(){u.destroy()},importData:function(t,e){"string"==typeof t&&t.length>0&&(t=JSON.parse(t)),u.destroy(),c.editor.on(t,function(){"function"==typeof e&&e()})},save:function(t){return u.savePage({},t)},page:{getStatus:function(){return u.getPageStatus()},getSvgSize:function(){var t=u.getCurPage();return{width:t.svgDom.viewBox.baseVal.width,height:t.svgDom.viewBox.baseVal.height}},setSvgSize:function(t,e){u.getCurPage().setSvgSize(t,e)}},editor:{on:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;!1!==u.readonly&&(u.readonly=!1,u.init({noteHtml:t.noteHtml,svgIndex:t.svgIndex,svgList:t.svgList},function(){"function"==typeof e&&e()}))},getSvgData:function(){return u.getAllSvgData()},viewPage:function(t){u.viewPage(t-1)},redo:function(){u.redo()},undo:function(){u.undo()}},editorTools:{ToolType:s,cur:function(){return u.tools.curTool},getToolByType:function(t){return u.tools.getToolByType(t)},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.tools.curToolType=t;var n=e.index,r=void 0===n?0:n,i=e.color,a=e.lineWidth,s=e.clearFullPath,c=e.highlighterOnly;t===o.TOOL_TYPE.ERASER&&(void 0!==c&&(u.tools.curTool.highlighterOnly=c),void 0!==s&&(u.tools.curTool.clearFullPath=s)),i&&(u.tools.curTool.color={index:r,color:i}),a&&(u.tools.curTool.lineWidth=a)},setColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;void 0!==u.tools.curTool.color&&(u.tools.curTool.color={index:e,color:t})},setLineWidth:function(t){void 0!==u.tools.curTool.lineWidth&&(u.tools.curTool.lineWidth=t)},setClearFullPath:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0!==u.tools.curTool.clearFullPath&&(u.tools.curTool.clearFullPath=!!t)},setHighlighterOnly:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0!==u.tools.curTool.highlighterOnly&&(u.tools.curTool.highlighterOnly=!!t)},setScrollMode:function(t){u.setScrollMode(t)},clearPage:function(){u.clearPage()},getStylusMode:function(){return u.stylusMode},setStylusMode:function(t){u.stylusMode=!!t},redo:function(){u.redo()},undo:function(){u.undo()},getMinAreaFromPath:function(){return u.getCurPage().getMinAreaFromPath()},fixSvgHtmlViewBox:function(t,e,n,r,o){return u.getCurPage().fixSvgHtmlViewBox(t,e,n,r,o)}},reader:{on:function(t,e){!0!==u.readonly&&(u.readonly=!0)}}};return n&&n(),setTimeout(function(){u.sendInitiated()},0),c};window.WizSvgPainter=s,s.version=o.version,t.exports=s},function(t,e,n){"use strict";(function(t){n(181),n(325),n(327),n(329),n(331),n(333),n(335),n(337),n(339),n(341),n(345),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(this,n(88))},function(t,e,n){n(182),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(263),n(264),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(110),n(288),n(142),n(289),n(143),n(290),n(291),n(292),n(293),n(144),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),t.exports=n(12)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(3),i=n(17),a=n(11),s=n(0),u=n(14),c=n(37).KEY,l=n(4),f=n(66),h=n(52),p=n(43),y=n(8),v=n(90),d=n(124),g=n(184),_=n(93),b=n(5),m=n(6),w=n(19),S=n(36),x=n(42),O=n(47),E=n(127),T=n(27),C=n(10),L=n(45),A=T.f,k=C.f,P=E.f,M=o.Symbol,I=o.JSON,j=I&&I.stringify,N=y("_hidden"),R=y("toPrimitive"),D={}.propertyIsEnumerable,B=f("symbol-registry"),W=f("symbols"),F=f("op-symbols"),H=Object.prototype,U="function"==typeof M,G=o.QObject,V=!G||!G.prototype||!G.prototype.findChild,z=a&&l(function(){return 7!=O(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(H,e);r&&delete H[e],k(t,e,n),r&&t!==H&&k(H,e,r)}:k,Y=function(t){var e=W[t]=O(M.prototype);return e._k=t,e},Z=U&&"symbol"==r(M.iterator)?function(t){return"symbol"==r(t)}:function(t){return t instanceof M},q=function(t,e,n){return t===H&&q(F,e,n),b(t),e=S(e,!0),b(n),i(W,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=O(n,{enumerable:x(0,!1)})):(i(t,N)||k(t,N,x(1,{})),t[N][e]=!0),z(t,e,n)):k(t,e,n)},X=function(t,e){b(t);for(var n,r=g(e=w(e)),o=0,i=r.length;i>o;)q(t,n=r[o++],e[n]);return t},K=function(t){var e=D.call(this,t=S(t,!0));return!(this===H&&i(W,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(W,t)||i(this,N)&&this[N][t])||e)},$=function(t,e){if(t=w(t),e=S(e,!0),t!==H||!i(W,e)||i(F,e)){var n=A(t,e);return!n||!i(W,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=P(w(t)),r=[],o=0;n.length>o;)i(W,e=n[o++])||e==N||e==c||r.push(e);return r},Q=function(t){for(var e,n=t===H,r=P(n?F:w(t)),o=[],a=0;r.length>a;)!i(W,e=r[a++])||n&&!i(H,e)||o.push(W[e]);return o};U||(u((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0);return a&&V&&z(H,t,{configurable:!0,set:function e(n){this===H&&e.call(F,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),z(this,t,x(1,n))}}),Y(t)}).prototype,"toString",function(){return this._k}),T.f=$,C.f=q,n(48).f=E.f=J,n(61).f=K,n(68).f=Q,a&&!n(44)&&u(H,"propertyIsEnumerable",K,!0),v.f=function(t){return Y(y(t))}),s(s.G+s.W+s.F*!U,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)y(tt[et++]);for(var nt=L(y.store),rt=0;nt.length>rt;)d(nt[rt++]);s(s.S+s.F*!U,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=M(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!U,"Object",{create:function(t,e){return void 0===e?O(t):X(O(t),e)},defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),I&&s(s.S+s.F*(!U||l(function(){var t=M();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(m(e)||void 0!==t)&&!Z(t))return _(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),r[1]=e,j.apply(I,r)}}),M.prototype[R]||n(18)(M.prototype,R,M.prototype.valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(o.JSON,"JSON",!0)},function(t,e,n){t.exports=n(66)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(45),o=n(68),i=n(61);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(47)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperty:n(10).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperties:n(126)})},function(t,e,n){var r=n(19),o=n(27).f;n(28)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){var r=n(15),o=n(49);n(28)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(15),o=n(45);n(28)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){n(28)("getOwnPropertyNames",function(){return n(127).f})},function(t,e,n){var r=n(6),o=n(37).onFreeze;n(28)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(6),o=n(37).onFreeze;n(28)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(6),o=n(37).onFreeze;n(28)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(6);n(28)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(6);n(28)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(6);n(28)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(128)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(129)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(95).set})},function(t,e,n){"use strict";var r=n(62),o={};o[n(8)("toStringTag")]="z",o+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(130)})},function(t,e,n){var r=n(10).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(11)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(6),o=n(49),i=n(8)("hasInstance"),a=Function.prototype;i in a||n(10).f(a,i,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),o=n(132);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(t,e,n){var r=n(0),o=n(133);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(t,e,n){"use strict";var r=n(3),o=n(17),i=n(33),a=n(97),s=n(36),u=n(4),c=n(48).f,l=n(27).f,f=n(10).f,h=n(69).trim,p=r.Number,y=p,v=p.prototype,d="Number"==i(n(47)(v)),g="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=g?e.trim():h(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>o)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(d?u(function(){v.valueOf.call(n)}):"Number"!=i(n))?a(new y(_(e)),n,p):_(e)};for(var b,m=n(11)?c(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;m.length>w;w++)o(y,b=m[w])&&!o(p,b)&&f(p,b,l(y,b));p.prototype=v,v.constructor=p,n(14)(r,"Number",p)}},function(t,e,n){"use strict";var r=n(0),o=n(26),i=n(134),a=n(98),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},y=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=i(this,l),c=o(t),v="",d="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*y(2,69,1))-69)<0?u*y(2,-e,1):u/y(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(y(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),d=p()}else f(0,n),f(1<<-e,0),d=p()+a.call("0",c);return d=c>0?v+((s=d.length)<=c?"0."+a.call("0",c-s)+d:d.slice(0,s-c)+"."+d.slice(s-c)):v+d}})},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(134),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),o=n(3).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(135)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(135),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(133);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(t,e,n){var r=n(0),o=n(132);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,n){var r=n(0),o=n(136),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,e,n){var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(99);r(r.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,n){var r=n(0),o=n(100);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(227)})},function(t,e,n){var r=n(99),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),u=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=Math.abs(t),c=r(t);return o<u?c*(o/u/a+1/i-1/i)*u*a:(n=(e=(1+a/i)*o)-(e-o))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,i=0,a=0,s=arguments.length,u=0;a<s;)u<(n=o(arguments[a++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(i)}})},function(t,e,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(136)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(99)})},function(t,e,n){var r=n(0),o=n(100),i=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),o=n(100),i=Math.exp;r(r.S,"Math",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),o=n(46),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),o=n(19),i=n(9);r(r.S,"String",{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(69)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(101)(!0);n(102)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),o=n(101)(!1);r(r.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(103),a="".endsWith;r(r.P+r.F*n(105)("endsWith"),"String",{endsWith:function(t){var e=i(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(e.length),s=void 0===n?r:Math.min(o(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(0),o=n(103);r(r.P+r.F*n(105)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(98)})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(103),a="".startsWith;r(r.P+r.F*n(105)("startsWith"),"String",{startsWith:function(t){var e=i(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(16)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(16)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(16)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(16)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(16)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(16)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(16)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(16)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(16)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),o=n(15),i=n(36);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=o(this),n=i(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),o=n(262);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(t,e,n){"use strict";var r=n(4),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},function(t,e,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(14)(r,"toString",function(){var t=i.call(this);return t==t?o.call(this):"Invalid Date"})},function(t,e,n){var r=n(8)("toPrimitive"),o=Date.prototype;r in o||n(18)(o,r,n(265))},function(t,e,n){"use strict";var r=n(5),o=n(36);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(93)})},function(t,e,n){"use strict";var r=n(31),o=n(0),i=n(15),a=n(138),s=n(106),u=n(9),c=n(107),l=n(108);o(o.S+o.F*!n(70)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,h=i(t),p="function"==typeof this?this:Array,y=arguments.length,v=y>1?arguments[1]:void 0,d=void 0!==v,g=0,_=l(h);if(d&&(v=r(v,y>2?arguments[2]:void 0,2)),null==_||p==Array&&s(_))for(n=new p(e=u(h.length));e>g;g++)c(n,g,d?v(h[g],g):h[g]);else for(f=_.call(h),n=new p;!(o=f.next()).done;g++)c(n,g,d?a(f,v,[o.value,g],!0):o.value);return n.length=g,n}})},function(t,e,n){"use strict";var r=n(0),o=n(107);r(r.S+r.F*n(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(19),i=[].join;r(r.P+r.F*(n(60)!=Object||!n(23)(i)),"Array",{join:function(t){return i.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),o=n(94),i=n(33),a=n(46),s=n(9),u=[].slice;r(r.P+r.F*n(4)(function(){o&&u.call(o)}),"Array",{slice:function(t,e){var n=s(this.length),r=i(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var o=a(t,n),c=a(e,n),l=s(c-o),f=new Array(l),h=0;h<l;h++)f[h]="String"==r?this.charAt(o+h):this[o+h];return f}})},function(t,e,n){"use strict";var r=n(0),o=n(32),i=n(15),a=n(4),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(23)(s)),"Array",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(0),o=n(29)(0),i=n(23)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(274);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(6),o=n(93),i=n(8)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),o=n(29)(1);r(r.P+r.F*!n(23)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(29)(2);r(r.P+r.F*!n(23)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(29)(3);r(r.P+r.F*!n(23)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(29)(4);r(r.P+r.F*!n(23)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(139);r(r.P+r.F*!n(23)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),o=n(139);r(r.P+r.F*!n(23)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(67)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(23)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(19),i=n(26),a=n(9),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(23)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=o(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(140)}),n(54)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(109)}),n(54)("fill")},function(t,e,n){"use strict";var r=n(0),o=n(29)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)("find")},function(t,e,n){"use strict";var r=n(0),o=n(29)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)(i)},function(t,e,n){n(55)("Array")},function(t,e,n){var r=n(3),o=n(97),i=n(10).f,a=n(48).f,s=n(104),u=n(71),c=r.RegExp,l=c,f=c.prototype,h=/a/g,p=/a/g,y=new c(h)!==h;if(n(11)&&(!y||n(4)(function(){return p[n(8)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),i=void 0===e;return!n&&r&&t.constructor===c&&i?t:o(y?new l(r&&!i?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&i?u.call(t):e),n?this:f,c)};for(var v=function(t){t in c||i(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},d=a(l),g=0;d.length>g;)v(d[g++]);f.constructor=c,c.prototype=f,n(14)(r,"RegExp",c)}n(55)("RegExp")},function(t,e,n){"use strict";n(143);var r=n(5),o=n(71),i=n(11),a=/./.toString,s=function(t){n(14)(RegExp.prototype,"toString",t,!0)};n(4)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";var r=n(5),o=n(9),i=n(112),a=n(72);n(73)("match",1,function(t,e,n,s){return[function(n){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var f,h=[],p=0;null!==(f=a(u,c));){var y=String(f[0]);h[p]=y,""===y&&(u.lastIndex=i(c,o(u.lastIndex),l)),p++}return 0===p?null:h}]})},function(t,e,n){"use strict";var r=n(5),o=n(15),i=n(9),a=n(26),s=n(112),u=n(72),c=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(73)("replace",2,function(t,e,n,y){return[function(r,o){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(t,e){var o=y(n,t,this,e);if(o.done)return o.value;var f=r(t),h=String(this),p="function"==typeof e;p||(e=String(e));var d=f.global;if(d){var g=f.unicode;f.lastIndex=0}for(var _=[];;){var b=u(f,h);if(null===b)break;if(_.push(b),!d)break;""===String(b[0])&&(f.lastIndex=s(h,i(f.lastIndex),g))}for(var m,w="",S=0,x=0;x<_.length;x++){b=_[x];for(var O=String(b[0]),E=c(l(a(b.index),h.length),0),T=[],C=1;C<b.length;C++)T.push(void 0===(m=b[C])?m:String(m));var L=b.groups;if(p){var A=[O].concat(T,E,h);void 0!==L&&A.push(L);var k=String(e.apply(void 0,A))}else k=v(O,h,E,T,L,e);E>=S&&(w+=h.slice(S,E)+k,S=E+O.length)}return w+h.slice(S)}];function v(t,e,r,i,a,s){var u=r+t.length,c=i.length,l=p;return void 0!==a&&(a=o(a),l=h),n.call(s,l,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>c){var h=f(l/10);return 0===h?n:h<=c?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):n}s=i[l-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var r=n(5),o=n(129),i=n(72);n(73)("search",1,function(t,e,n,a){return[function(n){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var l=i(s,u);return o(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]})},function(t,e,n){"use strict";var r=n(104),o=n(5),i=n(63),a=n(112),s=n(9),u=n(72),c=n(111),l=n(4),f=Math.min,h=[].push,p=!l(function(){RegExp(4294967295,"y")});n(73)("split",2,function(t,e,n,l){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(o,t,e);for(var i,a,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,l+"g");(i=c.call(y,o))&&!((a=y.lastIndex)>f&&(u.push(o.slice(f,i.index)),i.length>1&&i.index<o.length&&h.apply(u,i.slice(1)),s=i[0].length,f=a,u.length>=p));)y.lastIndex===i.index&&y.lastIndex++;return f===o.length?!s&&y.test("")||u.push(""):u.push(o.slice(f)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):y.call(String(o),n,r)},function(t,e){var r=l(y,t,this,e,y!==n);if(r.done)return r.value;var c=o(t),h=String(this),v=i(c,RegExp),d=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),_=new v(p?c:"^(?:"+c.source+")",g),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===h.length)return null===u(_,h)?[h]:[];for(var m=0,w=0,S=[];w<h.length;){_.lastIndex=p?w:0;var x,O=u(_,p?h:h.slice(w));if(null===O||(x=f(s(_.lastIndex+(p?0:w)),h.length))===m)w=a(h,w,d);else{if(S.push(h.slice(m,w)),S.length===b)return S;for(var E=1;E<=O.length-1;E++)if(S.push(O[E]),S.length===b)return S;w=m=x}}return S.push(h.slice(m)),S}]})},function(t,e,n){var r=n(3),o=n(113).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(33)(a);t.exports=function(){var t,e,n,c=function(){var r,o;for(u&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var f=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(147),o=n(50);t.exports=n(76)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(147),o=n(50);t.exports=n(76)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,o=n(3),i=n(29)(0),a=n(14),s=n(37),u=n(128),c=n(148),l=n(6),f=n(50),h=n(50),p=!o.ActiveXObject&&"ActiveXObject"in o,y=s.getWeak,v=Object.isExtensible,d=c.ufstore,g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(l(t)){var e=y(t);return!0===e?d(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,"WeakMap"),t,e)}},b=t.exports=n(76)("WeakMap",g,_,c,!0,!0);h&&p&&(u((r=c.getConstructor(g,"WeakMap")).prototype,_),s.NEED=!0,i(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];a(e,t,function(e,o){if(l(e)&&!v(e)){this._f||(this._f=new r);var i=this._f[t](e,o);return"set"==t?this:i}return n.call(this,e,o)})}))},function(t,e,n){"use strict";var r=n(148),o=n(50);n(76)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),o=n(77),i=n(114),a=n(5),s=n(46),u=n(9),c=n(6),l=n(3).ArrayBuffer,f=n(63),h=i.ArrayBuffer,p=i.DataView,y=o.ABV&&l.isView,v=h.prototype.slice,d=o.VIEW;r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(t){return y&&y(t)||c(t)&&d in t}}),r(r.P+r.U+r.F*n(4)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),o=s(void 0===e?n:e,n),i=new(f(this,h))(u(o-r)),c=new p(this),l=new p(i),y=0;r<o;)l.setUint8(y++,c.getUint8(r++));return i}}),n(55)("ArrayBuffer")},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(77).ABV,{DataView:n(114).DataView})},function(t,e,n){n(35)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(35)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(35)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),o=n(32),i=n(5),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=o(t),u=i(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(0),o=n(47),i=n(32),a=n(5),s=n(6),u=n(4),c=n(130),l=(n(3).Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!u(function(){l(function(){})});r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(h&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=o(s(u)?u:Object.prototype),y=Function.apply.call(t,p,e);return s(y)?y:p}})},function(t,e,n){var r=n(10),o=n(0),i=n(5),a=n(36);o(o.S+o.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){i(t),e=a(e,!0),i(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(27).f,i=n(5);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),o=n(5),i=function(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(137)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){var r=n(27),o=n(49),i=n(17),a=n(0),s=n(6),u=n(5);a(a.S,"Reflect",{get:function t(e,n){var a,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[n]:(a=r.f(e,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=o(e))?t(c,n,l):void 0}})},function(t,e,n){var r=n(27),o=n(0),i=n(5);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(49),i=n(5);r(r.S,"Reflect",{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(5),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(150)})},function(t,e,n){var r=n(0),o=n(5),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(10),o=n(27),i=n(49),a=n(17),s=n(0),u=n(42),c=n(5),l=n(6);s(s.S,"Reflect",{set:function t(e,n,s){var f,h,p=arguments.length<4?e:arguments[3],y=o.f(c(e),n);if(!y){if(l(h=i(e)))return t(h,n,s,p);y=u(0)}if(a(y,"value")){if(!1===y.writable||!l(p))return!1;if(f=o.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==y.set&&(y.set.call(p,s),!0)}})},function(t,e,n){var r=n(0),o=n(95);o&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(326),t.exports=n(12).Array.includes},function(t,e,n){"use strict";var r=n(0),o=n(67)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(54)("includes")},function(t,e,n){n(328),t.exports=n(12).String.padStart},function(t,e,n){"use strict";var r=n(0),o=n(151),i=n(75),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(330),t.exports=n(12).String.padEnd},function(t,e,n){"use strict";var r=n(0),o=n(151),i=n(75),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(332),t.exports=n(90).f("asyncIterator")},function(t,e,n){n(124)("asyncIterator")},function(t,e,n){n(334),t.exports=n(12).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(0),o=n(150),i=n(19),a=n(27),s=n(107);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=i(t),u=a.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=u(r,e=c[f++]))&&s(l,e,n);return l}})},function(t,e,n){n(336),t.exports=n(12).Object.values},function(t,e,n){var r=n(0),o=n(152)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){n(338),t.exports=n(12).Object.entries},function(t,e,n){var r=n(0),o=n(152)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){"use strict";n(144),n(340),t.exports=n(12).Promise.finally},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(3),a=n(63),s=n(146);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){n(342),n(343),n(344),t.exports=n(12)},function(t,e,n){var r=n(3),o=n(0),i=n(75),a=[].slice,s=/MSIE .\./.test(i),u=function(t){return function(e,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};o(o.G+o.B+o.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),o=n(113);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){for(var r=n(110),o=n(45),i=n(14),a=n(3),s=n(18),u=n(53),c=n(8),l=c("iterator"),f=c("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=o(p),v=0;v<y.length;v++){var d,g=y[v],_=p[g],b=a[g],m=b&&b.prototype;if(m&&(m[l]||s(m,l,h),m[f]||s(m,f,g),u[g]=h,_))for(d in r)m[d]||i(m,d,r[d],!0)}},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n){"use strict";var r,o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l="object"===e(t),f=n.regeneratorRuntime;if(f)l&&(t.exports=f);else{(f=n.regeneratorRuntime=l?t.exports:{}).wrap=w;var h="suspendedStart",p="suspendedYield",y="executing",v="completed",d={},g={};g[s]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(M([])));b&&b!==o&&i.call(b,s)&&(g=b);var m=E.prototype=x.prototype=Object.create(g);O.prototype=m.constructor=E,E.constructor=O,E[c]=O.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},f.awrap=function(t){return{__await:t}},T(C.prototype),C.prototype[u]=function(){return this},f.AsyncIterator=C,f.async=function(t,e,n,r){var o=new C(w(t,e,n,r));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},T(m),m[c]="Generator",m[s]=function(){return this},m.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function w(t,e,n,r){var o=e&&e.prototype instanceof x?e:x,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(t,e,n){var r=h;return function(o,i){if(r===y)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=y;var u=S(t,e,n);if("normal"===u.type){if(r=n.done?v:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=v,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function S(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function O(){}function E(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){var n;this._invoke=function(r,o){function a(){return new Promise(function(n,a){!function n(r,o,a,s){var u=S(t[r],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===e(l)&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):Promise.resolve(l).then(function(t){c.value=t,a(c)},function(t){return n("throw",t,a,s)})}s(u.arg)}(r,o,n,a)})}return n=n?n.then(a,a):a()}}function L(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,L(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=S(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this||"object"===("undefined"==typeof self?"undefined":e(self))&&self}()||Function("return this")())}).call(this,n(24)(t))},function(t,e,n){},function(t,e,n){var r=n(348),o=n(157),i=n(379),a=n(381),s=n(51),u=n(167),c=n(166);t.exports=function t(e,n,l,f,h){e!==n&&i(n,function(i,u){if(s(i))h||(h=new r),a(e,n,u,l,t,f,h);else{var p=f?f(c(e,u),i,u+"",e,n,h):void 0;void 0===p&&(p=i),o(e,u,p)}},u)}},function(t,e,n){var r=n(78),o=n(354),i=n(355),a=n(356),s=n(357),u=n(358);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(79),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(79);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(79);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(79);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(78);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(78),o=n(154),i=n(366),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(116),o=n(362),i=n(51),a=n(364),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(155),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(363),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(58)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(367),o=n(374),i=n(376),a=n(377),s=n(378);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(368),o=n(78),i=n(154);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(369),o=n(370),i=n(371),a=n(372),s=n(373);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(82);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(82),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(82),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(82),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(83);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(83);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(83);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(380)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(157),o=n(382),i=n(383),a=n(386),s=n(387),u=n(161),c=n(162),l=n(391),f=n(164),h=n(116),p=n(51),y=n(393),v=n(165),d=n(166),g=n(397);t.exports=function(t,e,n,_,b,m,w){var S=d(t,n),x=d(e,n),O=w.get(x);if(O)r(t,n,O);else{var E=m?m(S,x,n+"",t,e,w):void 0,T=void 0===E;if(T){var C=c(x),L=!C&&f(x),A=!C&&!L&&v(x);E=x,C||L||A?c(S)?E=S:l(S)?E=a(S):L?(T=!1,E=o(x,!0)):A?(T=!1,E=i(x,!0)):E=[]:y(x)||u(x)?(E=S,u(S)?E=g(S):p(S)&&!h(S)||(E=s(x))):T=!1}T&&(w.set(x,E),b(E,x,_,m,w),w.delete(x)),r(t,n,E)}}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(58),i="object"==r(e)&&e&&!e.nodeType&&e,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,s=a&&a.exports===i?o.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(24)(t))},function(t,e,n){var r=n(384);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(385);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(58).Uint8Array;t.exports=r},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(388),o=n(159),i=n(160);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(51),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(81),o=n(64),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(118),o=n(64);t.exports=function(t){return o(t)&&r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(81),o=n(159),i=n(64),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(81),o=n(163),i=n(64),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(156),i="object"==r(e)&&e&&!e.nodeType&&e,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,s=a&&a.exports===i&&o.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(this,n(24)(t))},function(t,e,n){var r=n(398),o=n(167);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(399),o=n(117);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(117),o=n(80),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(401),o=n(161),i=n(162),a=n(164),s=n(168),u=n(165),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),p=n||l||f||h,y=p?r(t.length,String):[],v=y.length;for(var d in t)!e&&!c.call(t,d)||p&&("length"==d||f&&("offset"==d||"parent"==d)||h&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||s(d,v))||y.push(d);return y}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(51),o=n(160),i=n(403),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(405),o=n(412);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(169),o=n(406),i=n(408);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(407),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(409),o=n(411)(r);t.exports=o},function(t,e,n){var r=n(410),o=n(158),i=n(169),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(80),i=n(118),a=n(168),s=n(51);t.exports=function(t,e,n){if(!s(n))return!1;var u=r(e);return!!("number"==u?i(n)&&a(e,n.length):"string"==u&&e in n)&&o(n[e],t)}},function(t,e,n){var r={en:n(414),"zh-cn":n(415),"zh-tw":n(416)};t.exports=function(t){var e={};for(var n in t||(t=window.navigator.language.replace("_","-").toLowerCase(),t=/^zh-/.test(t)?/(hant)|(tw)|(hk)/.test(t)?"zh-tw":"zh-cn":/^zh/.test(t)?"zh-cn":"en"),t=t.toLowerCase().replace("_","-"),r[t]||(t="en"),r[t])r[t].hasOwnProperty(n)&&(e[n]=r[t][n]);return e}},function(t,e){t.exports={version:"en",ClearPage:"Clear Page",Default:"Default",EraseHighlighterOnly:"Erase Highlighter Only",StylusMode:"Stylus Mode",StylusModePrompt:'Please switch off the Stylus Mode at "Menu" - "More" first.',PageNumbers:"Page Numbers",Redo:"Redo",SaveSuccess:"Saved!",SaveSvg:"Save to note",SvgTemplate:"Template",Title:"Handwriting | WizNote"}},function(t,e){t.exports={version:"zh-cn",ClearPage:"",Default:"",EraseHighlighterOnly:"",StylusMode:"",StylusModePrompt:"   ",PageNumbers:"",Redo:"",SaveSuccess:"",SaveSvg:"",SvgTemplate:"",Title:" | "}},function(t,e){t.exports={version:"zh-cn",ClearPage:"",Default:"",EraseHighlighterOnly:"",StylusMode:"",StylusModePrompt:"   ",PageNumbers:"",Redo:"",SaveSuccess:"",SaveSvg:"",SvgTemplate:"",Title:" | "}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(153),i=n(1),a=n(418),s=n(7),u=n(2),c=n(443),l=n(84),f=n(444),h=n(449),p=n(473),y=i.STORAGE.PRE+"_stylus_mode",v={buttons:"",customData:"",hideToolbar:!1,host:"",isCreateNote:!1,isNoteMarker:!1,style:"wiz"},d=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=o({},v,r),this.options.isNoteMarker&&(this.options.hideToolbar=!0,i.PAGE.WIDTH=document.body.offsetWidth,i.PAGE.HEIGHT=i.PAGE.HEIGHT_FOR_NOTE_MARKER),this._autoSaveStartTime=null,this._autoSaveTimer=null,this._callback=s,this._clientRouter=new a(e,this),this._rootContainer=null,this._pagesContainer=null,this._curPageIndex=-1,this._event=new c,this._infoLayer=null,this._infoLayerTimer=null,this._noteHtml="",this._pages=[],this._readonly=null,this._stylusMode=null,this._svgList=[],this._toolbar=null,this._tools=new p(this.options.isNoteMarker),this._handler={onSaveToNote:function(t){n._save(t)}}}var e,n,d;return e=t,(n=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(this._noteHtml=t.noteHtml||"",this._svgList=t.svgList||[],this._svgList.length>0&&!isNaN(t.svgIndex)?this._curPageIndex=parseInt(t.svgIndex):this._curPageIndex=0,!this._rootContainer){var n=document.getElementById(i.ID.ROOT);n||((n=document.createElement(i.TAG.MARKER)).id=i.ID.ROOT,document.body.appendChild(n)),this._rootContainer=n}if(this._toolbar||this.options.hideToolbar||(this._toolbar=h.getCurToolbar(this)),!this._pagesContainer){var r=document.getElementById(i.ID.SKETCHPAD);r||((r=document.createElement("div")).id=i.ID.SKETCHPAD,this._rootContainer.appendChild(r)),this._pagesContainer=r}var o=this._svgList[this._curPageIndex];if(o&&o.id){var a={fileName:o.fileName,callback:this._createLoadCallback(o.fileName,e)};this.clientRouter.sendCmdToWizClient(i.CLIENT_EVENT.WIZ_LOAD_SVG,a)}else this.initPage("","",t.originalActions,t.originalData),this._afterInit(e);this._infoLayer=document.createElement(i.TAG.TMP_TAG),u.addClass(this._infoLayer,i.CLASS.PAINTER_INFO),this._rootContainer.appendChild(this._infoLayer)}},{key:"insertOriginalAction",value:function(t){this.getCurPage().insertOriginalAction(t)}},{key:"deleteOriginalActions",value:function(t){this.getCurPage().deleteOriginalActions(t)}},{key:"requestDeleteActions",value:function(t){var e=t.map(function(t){return t.guid});this._clientRouter.options.needOriginalActions&&this._clientRouter.requestDeleteActions(e)}},{key:"initPage",value:function(t,e,n,r){var o=new f(this,t,e,n,r);this._pages[this._curPageIndex]=o}},{key:"destroy",value:function(){this._unbind();for(var t=0;t<this._pages.length;t++){var e=this._pages[t];e&&e.destroy()}this._pages=[],this._noteHtml="",this._svgList=[],this._readonly=null}},{key:"clearPage",value:function(){var t=this.getCurPage();t&&t.clear()}},{key:"getAllSvgData",value:function(){for(var t=[],e=0;e<this._pages.length;e++){var n=this._pages[e];n&&t.push(n.svgData)}return t}},{key:"getCurPage",value:function(){return this._pages[this._curPageIndex]}},{key:"getPageStatus",value:function(){return{pageCount:this._pages.length,curPageIndex:this._curPageIndex}}},{key:"getPluginButtons",value:function(){return this._clientRouter.options.pluginButtons}},{key:"redo",value:function(){var t=this.getCurPage();t&&t.redo()}},{key:"resetPage",value:function(t){this.getCurPage().reset(t)}},{key:"savePage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._autoSaveStartTime=null,clearTimeout(this._autoSaveTimer);for(var n,r,o=null,a=[],s=null,u=0;u<this._pages.length;u++){var c=this._pages[u];if(c){if(c.isNew||c.isModified){var l=void 0,f=this.clientRouter.options;f&&f.needOriginalActions&&(l=c.originalActions),c.createFileName();var h=c.svgHtml;if(o=c.svgData,s={page:c,svgHtml:h,originalActions:l},c.isNew=!1,!this.options.isCreateNote)break}this.options.isCreateNote&&(c.isDeleted||(o?a.push("<div>"+o.htmlForNote+"</div><div><br/></div>"):a.push("<div>"+c.svgHtmlForSave.htmlForNote+"</div><div><br/></div>")))}}var p=!1,y={isManual:!!t.isManual};for(var v in e)e.hasOwnProperty(v)&&(y[v]=e[v],p=!0);return s?(o&&(y.oldFileName=o.oldFileName,y.fileName=o.fileName,y.originalActions=s.originalActions,r=o.svgHtml),this.options.isCreateNote?(y.isFullHtml=!1,n='<body class="wiz-editor-body">'.concat(a.join(""),"</body>")):o&&this._noteHtml&&(y.isFullHtml=!0,this._noteHtml=function(t,e,n){var r=new RegExp("<img [^>]*(id\\s*=\\s*(['\"])".concat(t.escapeRegex(),"\\2) [^>]*>"),"ig");return n.replace(r,e)}(s.page.svgId,o.htmlForNote,this._noteHtml),n=this._noteHtml),(n||y.originalActions)&&(s.page.setUnModified(s.svgHtml),this.clientRouter.sendCmdToWizClient(i.CLIENT_EVENT.WIZ_SAVE_SVG,{saveOptions:y,svgData:r,htmlData:n})),!0):(p&&(r="",n="",this.clientRouter.sendCmdToWizClient(i.CLIENT_EVENT.WIZ_SAVE_SVG,{saveOptions:y,svgData:r,htmlData:n})),!1)}},{key:"sendInitiated",value:function(){this.clientRouter.sendCmdToWizClient(i.CLIENT_EVENT.WIZ_PAINTER_INITIATED,{})}},{key:"setScrollMode",value:function(t){var e=this.getCurPage();t?(e.unbindPaint(),e.unbind()):e.bind()}},{key:"showInfo",value:function(t){var e=this;window.clearTimeout(this._infoLayerTimer),this._infoLayer.innerHTML=t,u.addClass(this._infoLayer,i.CLASS.ACTIVE),this._infoLayerTimer=setTimeout(function(){u.removeClass(e._infoLayer,i.CLASS.ACTIVE)},2500)}},{key:"showStylusHelp",value:function(){var t=this,e=i.STORAGE.PRE+"_stylus_mode_prompt";l.get(e)||(l.set(e,1),this.showInfo(i.LANG.StylusModePrompt),setTimeout(function(){t._toolbar.showMoreMenu()},500))}},{key:"toImage",value:function(t,e){return this.getCurPage().toImage(t,e)}},{key:"undo",value:function(){var t=this.getCurPage();t&&t.undo()}},{key:"viewPage",value:function(t){this._unbind(),t<0?t=0:t>this._pages.length-1&&(t=this._pages.length-1);var e=this._pages[this._curPageIndex],n=this._pages[t];if(n&&u.hasClass(n.pageContainer,i.CLASS.ACTIVE))this.options.isNoteMarker&&this._bind();else{e&&u.removeClass(e.pageContainer,i.CLASS.ACTIVE),this._curPageIndex=t,u.css(n.pageContainer,{visibility:"hidden"}),u.addClass(n.pageContainer,i.CLASS.ACTIVE);var r=(this._pagesContainer.clientWidth-36)/n.svgDom.viewBox.baseVal.width;r>1&&(r=1),n.setZoom(r),u.css(n.pageContainer,{visibility:null}),this._bind()}}},{key:"_afterInit",value:function(t){this.viewPage(this._curPageIndex);var e,n=this.getCurPage(),r=this._svgList[this._curPageIndex];if(r&&!r.id){r.id=n.svgId;var o=n.svgHtmlForSave.htmlForNote+"<div><br/></div>";this._noteHtml=(e=o,this._noteHtml.replace(/<div [^>]*class\s*=\s*(['"])wiz-svg-template\1><\/div>/gi,e))}r&&(r.loaded=!0),this.event.addListener(i.EVENT.SAVE_TO_NOTE,this._handler.onSaveToNote),t&&t()}},{key:"_createLoadCallback",value:function(t,e){var n=this,r=s.createGuid("cb_");return window[r]=function(o){n.initPage(o,t),n._afterInit(e),delete window[r]},r}},{key:"_bind",value:function(){this._unbind();var t=this.getCurPage();t&&t.bind()}},{key:"_unbind",value:function(){var t=this.getCurPage();t&&t.unbind()}},{key:"_save",value:function(t){var e=this;if(clearTimeout(this._autoSaveTimer),t.isManual||this._clientRouter.options.saveImmediate)this.savePage(t);else{var n=(new Date).valueOf();this._autoSaveStartTime&&n-this._autoSaveStartTime>i.TIME.AUTO_SAVE_TIME?this.savePage(t):(this._autoSaveStartTime||(this._autoSaveStartTime=n),this._autoSaveTimer=setTimeout(function(){e.savePage(t)},i.TIME.AUTO_SAVE_TIME))}}},{key:"callback",get:function(){return this._callback}},{key:"clientRouter",get:function(){return this._clientRouter}},{key:"rootContainer",get:function(){return this._rootContainer}},{key:"container",get:function(){return this._pagesContainer}},{key:"event",get:function(){return this._event}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=!!t}},{key:"stylusMode",get:function(){return null===this._stylusMode&&(this._stylusMode=!!l.get(y)),this._stylusMode},set:function(t){this._stylusMode=t,l.set(y,t)}},{key:"tools",get:function(){return this._tools}}])&&r(e.prototype,n),d&&r(e,d),t}();t.exports=d},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(419),a=n(13),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"web",n=arguments.length>1?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._client=i.getCurrentClient(e,n),a(this._client,"unknown client type: ".concat(e))}var e,n,s;return e=t,(n=[{key:"sendCmdToWizClient",value:function(t,e){t===o.CLIENT_EVENT.WIZ_LOAD_SVG?this._client.loadData(e):t===o.CLIENT_EVENT.WIZ_PAINTER_INITIATED?this._client.onInitiated(e):t===o.CLIENT_EVENT.WIZ_SAVE_SVG?this._client.saveData(e):t===o.CLIENT_EVENT.WIZ_UPDATE_UNDO_STATUS?this._client.updateUndoRedoStatus(e):a(!1,"unknown command: ".concat(t))}},{key:"requestDeleteActions",value:function(t){this._client.deleteActions(t)}},{key:"client",get:function(){return this._client}},{key:"options",get:function(){return this._client.options}}])&&r(e.prototype,n),s&&r(e,s),t}();t.exports=s},function(t,e,n){var r=n(420),o=n(425),i=n(426),a=n(427),s=n(428),u=n(429),c=n(439),l=n(442),f=n(1);t.exports={getCurrentClient:function(t,e){if(/^windows|x86|x64/i.test(t))return f.CLIENT_TYPE.isWin=!0,new a(e);if(/^ios/i.test(t))return f.CLIENT_TYPE.isIOS=!0,new o(e);if(/^android/i.test(t))return f.CLIENT_TYPE.isAndroid=!0,new r(e);if(/^mac|linux/i.test(t)){var n=window.navigator.userAgent;return/Mac/i.test(n)||(f.CLIENT_TYPE.isLinux=!0),f.CLIENT_TYPE.isMac=!0,new i(e)}return/^standard/i.test(t)?(f.CLIENT_TYPE.isWeb=!0,new u(e)):/^rn/i.test(t)?(f.CLIENT_TYPE.isWeb=!0,new c(e)):/^wapp/i.test(t)?(f.CLIENT_TYPE.isWeb=!0,new l(e)):(f.CLIENT_TYPE.isWeb=!0,new s(e))}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"loadData",value:function(t){window.WizNote.loadData(t.fileName,t.callback)}},{key:"saveData",value:function(t){window.WizNote.saveData(JSON.stringify(t.saveOptions),t.svgData||"",t.htmlData||"")}},{key:"updateUndoRedoStatus",value:function(t){window.WizNote&&window.WizNote.updateUndoRedoStatus&&window.WizNote.updateUndoRedoStatus(JSON.stringify({canUndo:t.canUndo,canRedo:t.canRedo}))}}])&&o(n.prototype,r),c&&o(n,c),e}();t.exports=c},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])d(s)||!w(s)?a+=" "+s:a+=" "+u(s);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var a,s={};function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,t,r.depth)}function c(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function l(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return _(o)||(o=f(t,o,r)),o}var i=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(O(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var c,l="",w=!1,E=["{","}"];(y(n)&&(w=!0,E=["[","]"]),O(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(l=" "+RegExp.prototype.toString.call(n)),S(n)&&(l=" "+Date.prototype.toUTCString.call(n)),x(n)&&(l=" "+h(n)),0!==a.length||w&&0!=n.length?r<0?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=w?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)L(e,String(a))?i.push(p(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}(t,n,r,s,a):a.map(function(e){return p(t,n,r,s,e,w)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,l,E)):E[0]+l+E[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),L(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=d(n)?f(t,u.value,null):f(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),b(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function y(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function d(t){return null===t}function g(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return void 0===t}function m(t){return w(t)&&"[object RegExp]"===E(t)}function w(t){return"object"===r(t)&&null!==t}function S(t){return w(t)&&"[object Date]"===E(t)}function x(t){return w(t)&&("[object Error]"===E(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(a)&&(a=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=y,e.isBoolean=v,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=_,e.isSymbol=function(t){return"symbol"===r(t)},e.isUndefined=b,e.isRegExp=m,e.isObject=w,e.isDate=S,e.isError=x,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===r(t)||void 0===t},e.isBuffer=n(423);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(424),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(k,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,o(e)),n}}).call(this,n(422))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new y(t,e)),1!==c.length||l||s(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&"object"===n(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"loadData",value:function(t){window.webkit.messageHandlers.loadData.postMessage({fileName:t.fileName,callback:t.callback})}},{key:"saveData",value:function(t){window.webkit.messageHandlers.saveData.postMessage({saveOptions:t.saveOptions,svgData:t.svgData||"",htmlData:t.htmlData||""})}},{key:"updateUndoRedoStatus",value:function(t){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.updateUndoRedoStatus&&window.webkit.messageHandlers.updateUndoRedoStatus.postMessage({canUndo:t.canUndo,canRedo:t.canRedo})}}])&&o(n.prototype,r),c&&o(n,c),e}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"loadData",value:function(t){window.WizQtObject.loadData(t.fileName,t.callback)}},{key:"saveData",value:function(t){window.WizQtObject.saveData(JSON.stringify(t.saveOptions),t.svgData||"",t.htmlData||"")}}])&&o(n.prototype,r),c&&o(n,c),e}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"loadData",value:function(t){window.WizChromeBrowser.Execute("LoadData",t.fileName,t.callback,null,null)}},{key:"saveData",value:function(t){window.WizChromeBrowser.Execute("SaveData",JSON.stringify(t.saveOptions),t.svgData||"",t.htmlData||"",null)}}])&&o(n.prototype,r),c&&o(n,c),e}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,a(e).apply(this,arguments))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"loadData",value:function(t){console.log("load data")}},{key:"saveData",value:function(t){console.log("save data")}}])&&o(n.prototype,r),c&&o(n,c),e}();t.exports=c},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=(n(7),n(13)),l=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=i(this,a(e).call(this,t));var r=[],o=n._pageController.options.buttons;return o&&(o=o.split("|")).forEach(function(t){var e=t.split(","),o=e[0],i=e[1],a={text:o,iconHtml:i,onClick:function(){n.onClickPluginButton(o)}};r.push(a)}),n._options={needOriginalActions:!0,saveImmediate:!0,pluginButtons:r},window.addEventListener("message",function(t){n.onMessage(t)}),n.requestLoadData(),n}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"loadData",value:function(t){c(!1,"should not call loadData by painter")}},{key:"requestLoadData",value:function(){var t={type:"loadData",customData:this._pageController.options.customData},e=this._pageController.options.host;window.parent.postMessage(t,e)}},{key:"saveData",value:function(t){var e=t.saveOptions;if(e){var n=e.originalActions;if(n){var r={type:"saveData",customData:this._pageController.options.customData,actions:n},o=this._pageController.options.host;window.parent.postMessage(r,o)}}}},{key:"deleteActions",value:function(t){var e={type:"deleteActions",customData:this._pageController.options.customData,guids:t},n=this._pageController.options.host;window.parent.postMessage(e,n)}},{key:"onClickPluginButton",value:function(t){var e={type:"buttonClicked",customData:this._pageController.options.customData,text:t},n=this._pageController.options.host;window.parent.postMessage(e,n)}},{key:"onMessage",value:function(t){var e=this._pageController.options.host;if(t.origin===e){var n=t.data,r=n.type;"dataLoaded"===r?this._pageController.init({originalActions:n.actions}):"dataRefresh"===r?this._pageController.resetPage(n.actions):"insertAction"===r?this._pageController.insertOriginalAction(n.action):"deleteActions"===r?this._pageController.deleteOriginalActions(n.guids):"reload"===r?window.location.reload():c("unknown event type: ".concat(r))}}}])&&o(n.prototype,r),l&&o(n,l),e}();t.exports=l},function(t,e,n){var r=n(431),o=n(432),i=n(433),a=n(434),s=n(435),u=n(436),c=n(437);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=a,c.xor4096=s,c.tychei=u,t.exports=c},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,i,a){function s(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function u(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function c(t,e){var n=new s(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==o(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(20)&&n(59)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.alea=c}(0,"object"==o(t)&&t,n(20))}).call(this,n(24)(t))},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,i,a){function s(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function c(t,e){var n=new s(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==o(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(20)&&n(59)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.xor128=c}(0,"object"==o(t)&&t,n(20))}).call(this,n(24)(t))},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,i,a){function s(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function c(t,e){var n=new s(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==o(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(20)&&n(59)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.xorwow=c}(0,"object"==o(t)&&t,n(20))}).call(this,n(24)(t))},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,o,i){function a(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n(20)&&n(59)?void 0===(r=function(){return u}.call(e,n,e,o))||(o.exports=r):this.xorshift7=u}(0,"object"==o(t)&&t,n(20))}).call(this,n(24)(t))},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,o,i){function a(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,i=e.i;return e.w=r=r+1640531527|0,n=o[i+34&127],t=o[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,o,i,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),o=0,i=-32;i<u;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;t.w=a,t.X=s,t.i=o}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=u:n(20)&&n(59)?void 0===(r=function(){return u}.call(e,n,e,o))||(o.exports=r):this.xor4096=u}(0,"object"==o(t)&&t,n(20))}).call(this,n(24)(t))},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,i,a){function s(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function c(t,e){var n=new s(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==o(r)&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=c:n(20)&&n(59)?void 0===(r=function(){return c}.call(e,n,e,i))||(i.exports=r):this.tychei=c}(0,"object"==o(t)&&t,n(20))}).call(this,n(24)(t))},function(t,e,n){(function(t){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(i,a){var s,u=(0,eval)("this"),c=256,l=6,f="random",h=a.pow(c,l),p=a.pow(2,52),y=2*p,v=c-1;function d(t,e,n){var r=[],v=b(function t(e,n){var r,i=[],a=o(e);if(n&&"object"==a)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==a?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,m(i)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(c):(t=new Uint8Array(c),(u.crypto||u.msCrypto).getRandomValues(t)),m(t)}catch(t){var e=u.navigator,n=e&&e.plugins;return[+new Date,u,n,u.screen,m(i)]}}():t,3),r),d=new g(r),w=function(){for(var t=d.g(l),e=h,n=0;t<p;)t=(t+n)*c,e*=c,n=d.g(1);for(;t>=y;)t/=2,e/=2,n>>>=1;return(t+n)/e};return w.int32=function(){return 0|d.g(4)},w.quick=function(){return d.g(4)/4294967296},w.double=w,b(m(d.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&_(r,d),t.state=function(){return _(d,{})}),n?(a[f]=t,e):t})(w,v,"global"in e?e.global:this==a,e.state)}function g(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);o<c;)a[o]=o++;for(o=0;o<c;o++)a[o]=a[i=v&i+t[o%n]+(e=a[o])],a[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,a=r.S;t--;)e=a[o=v&o+1],n=n*c+a[v&(a[o]=a[i=v&i+e])+(a[i]=e)];return r.i=o,r.j=i,n})(c)}function _(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function b(t,e){for(var n,r=t+"",o=0;o<r.length;)e[v&o]=v&(n^=19*e[v&o])+r.charCodeAt(o++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(b(a.random(),i),"object"==o(t)&&t.exports){t.exports=d;try{s=n(438)}catch(t){}}else void 0===(r=function(){return d}.call(e,n,e,t))||(t.exports=r)}([],Math)}).call(this,n(24)(t))},function(t,e){},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)})}}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=n(38),f=(n(7),n(13)),h=n(170),p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,u(e).call(this,t)))._options={needOriginalActions:!0,saveImmediate:!0},n.requestLoadData(),window.painter_requestThumb=function(t){n._handleRequestThumb(t.width,t.height,t)},n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,l),n=e,(r=[{key:"loadData",value:function(t){f(!1,"should not call loadData by painter")}},{key:"requestLoadData",value:function(){var t=i(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={type:"loadData",customData:this._pageController.options.customData},t.next=3,this._postMessageToReactNative(e);case 3:n=t.sent,this._pageController.init({originalData:n});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"saveData",value:function(){var t=i(regeneratorRuntime.mark(function t(e){var n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.saveOptions){t.next=3;break}return t.abrupt("return");case 3:if(r=n.originalActions){t.next=6;break}return t.abrupt("return");case 6:return o={type:"saveData",customData:this._pageController.options.customData},i=[],r.forEach(function(t){t.visible&&t.data&&i.push(t.data)}),o.data=i,t.next=12,this._postMessageToReactNative(o);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_handleRequestThumb",value:function(t,e,n){var r={imageData:this._pageController.toImage(t,e),webViewCallbackId:n.webViewCallbackId};this._postMessageToReactNativeNoReturn(r)}},{key:"_postMessageToReactNative",value:function(t){return new Promise(function(e,n){var r="painter_".concat(h());window[r]=function(t){delete window[r],e(t)},t.htmlCallback=r,window.ReactNativeWebView.postMessage(JSON.stringify(t))})}},{key:"_postMessageToReactNativeNoReturn",value:function(t){window.ReactNativeWebView.postMessage(JSON.stringify(t))}}])&&a(n.prototype,r),o&&a(n,o),e}();t.exports=p},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(38),c=(n(7),n(13),function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=i(this,a(e).call(this,t));var r=[],o=n._pageController.options.buttons;return o&&(o=o.split("|")).forEach(function(t){var e=t.split(","),o=e[0],i=e[1],a=e[2],s={id:o,text:i,iconHtml:a,onClick:function(){n._onClickPluginButton(o)}};r.push(s)}),n._options={pluginButtons:r},window.addEventListener("message",function(t){n._handleWindowMessage(t)}),n}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"_onClickPluginButton",value:function(t){var e={type:"buttonClicked",customData:this._pageController.options.customData,id:t},n=this._pageController.options.host;window.parent.postMessage(e,n)}},{key:"loadData",value:function(t){var e={type:"loadData",options:t},n=this._pageController.options.host;window.parent.postMessage(e,n)}},{key:"onInitiated",value:function(t){var e={type:"onInitiated",options:t},n=this._pageController.options.host;window.parent.postMessage(e,n)}},{key:"saveData",value:function(t){var e={type:"saveData",options:t},n=this._pageController.options.host;window.parent.postMessage(e,n)}},{key:"_handleWindowMessage",value:function(t){var e=this._pageController.options.host;if(t.origin===e){var n=t.data,r=n.type;if("importData"===r)this._pageController.init(n.data);else if("dataLoaded"===r){var o=t.data.options.callback;(0,window[o])(t.data.data)}else"closeDialog"===r&&this._pageController.savePage({},n.data)}}}])&&o(n.prototype,r),c&&o(n,c),e}());t.exports=c},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._globalEvent={}}var e,r,o;return e=t,(r=[{key:"addListener",value:function(t,e){if(t&&e&&!this.checkFun(t,e)){var n=this._globalEvent[t];n||(n=[]),n.push(e),this._globalEvent[t]=n}}},{key:"call",value:function(t){var e,n,r=this._globalEvent[t];if(r&&0!==r.length){var o=[];for(e=0,n=r.length;e<n;e++)o.push(r[e]);for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];for(e=0,n=o.length;e<n;e++)o[e].apply(this,a)}}},{key:"checkFun",value:function(t,e){if(!t||!e)return!1;var n,r,o=this._globalEvent[t];if(!o||0===o.length)return!1;for(n=0,r=o.length;n<r;n++)if(o[n]===e)return!0;return!1}},{key:"removeListener",value:function(t,e){if(t&&e){var n,r,o=this._globalEvent[t];if(o&&0!==o.length)for(n=0,r=o.length;n<r;n++)o[n]===e&&o.splice(n,1)}}}])&&n(e.prototype,r),o&&n(e,o),t}();t.exports=r},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(7),a=n(2),s=(n(84),n(445)),u=n(446),c=n(448),l=function(t){var e=document.createElementNS(o.SVG_NS,"svg");return a.attr(e,{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",class:t.className,viewBox:"0 0 ".concat(t.width," ").concat(t.height)}),e.id=i.createGuid("svg_"),e},f=function(){function t(e,n,r,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._controller=e,this.tools=this._controller.tools,this._actions=new u(this),this._gestureDetected=!1,this._fileName=r||"",this._oldZoom=1,this._minZoom=0,this._originalHtml="",this._mouseDown=!1,this._penTouch=!1,this._penTouchId=-1,this._handTouchCount=0,this._xyRate=1,this._isEraserTool=!1,this.createPage(n),o?this._actions.loadOriginalActions(o):i&&(console.log("init page by original data"),this._actions.loadOriginalData(i)),this._handler={onGestureMove:function(t,e){a._onGestureMove(t,e)},onGestureStart:function(){a._onGestureStart()},onGestureZoom:function(t,e){a._onGestureZoom(t,e)},onModified:function(){a._onModified()},onMouseDown:function(t){a._onMouseDown(t)},onMouseMove:function(t){a._onMouseMove(t)},onMouseUp:function(t){a._onMouseUp(t)},onMouseWheel:function(t){a._onMouseWheel(t)},onPointerDown:function(t){a._onPointerDown(t)},onResize:function(){a._onResize()}},this._gestureTool=new c(this._handler),this.initStatus()}var e,n,f;return e=t,(n=[{key:"destroy",value:function(){if(this._controller.options.isNoteMarker){var t=this.getMinAreaFromPath();this.svgDom.viewBox.baseVal.height=t.maxHeight,this.svgMask.viewBox.baseVal.height=t.maxHeight}this.unbindPaint(),this.unbind(),this._controller.options.isNoteMarker||a.remove(this.pageContainer)}},{key:"insertOriginalAction",value:function(t){this._actions.insertOriginalAction(t)}},{key:"deleteOriginalActions",value:function(t){this._actions.deleteOriginalActions(t)}},{key:"requestDeleteActions",value:function(t){this._controller.requestDeleteActions(t)}},{key:"reset",value:function(t){this._actions.reset(t),this.sendUndoStatus()}},{key:"toImage",value:function(t,e){var n=document.createElement("canvas");n.width=window.devicePixelRatio*o.PAGE.WIDTH,n.height=window.devicePixelRatio*o.PAGE.HEIGHT;var r=n.getContext("2d");r.scale(window.devicePixelRatio,window.devicePixelRatio),r.fillStyle="white",r.fillRect(0,0,n.width,n.height),r.fillStyle="",this._actions.draw(r);return function(t,e,n){var r=document.createElement("canvas");r.width=e,r.height=n;var o=document.createElement("canvas"),i=o.getContext("2d");return o.width=.5*t.width,o.height=.5*t.height,i.drawImage(t,0,0,o.width,o.height),i.drawImage(o,0,0,.5*o.width,.5*o.height),r.getContext("2d").drawImage(o,0,0,.5*o.width,.5*o.height,0,0,e,n),r}(n,t,e).toDataURL("image/png")}},{key:"getZoom",value:function(){return(this.pageDiv.clientWidth-16)/this.svgDom.viewBox.baseVal.width}},{key:"setZoom",value:function(t){var e=16;this._controller.options.isNoteMarker?(t=1,e=0):t>2?t=2:t<1&&(t=Math.max(t,this._minZoom));var n=Math.round(this.svgDom.viewBox.baseVal.width*t);this.pageDiv.style.width="".concat(n+e,"px")}},{key:"createPage",value:function(t){var e,n,r,i,s,u,c=o.PAGE.WIDTH,f=o.PAGE.HEIGHT;this._controller.options.isNoteMarker&&(e=this._controller.container.querySelector("."+o.CLASS.SVG_PAGE_CONTAINER),n=this._controller.container.querySelector("."+o.CLASS.SVG_PAGE),r=this._controller.container.querySelector("."+o.CLASS.SVG_CONTAINER),s=this._controller.container.querySelector("svg"),i=this._controller.container.querySelector("."+o.CLASS.SVG_MASK_CONTAINER),u=this._controller.container.querySelector("."+o.CLASS.SVG_MASK)),s&&(o.PAGE.WIDTH=s.viewBox.baseVal.width,this._controller.options.isNoteMarker?o.PAGE.HEIGHT=Math.max(s.viewBox.baseVal.height,o.PAGE.HEIGHT_FOR_NOTE_MARKER):o.PAGE.HEIGHT=s.viewBox.baseVal.height,c=o.PAGE.WIDTH,f=o.PAGE.HEIGHT),e||(e=document.createElement("div"),a.attr(e,{class:o.CLASS.SVG_PAGE_CONTAINER}),this._controller.container.appendChild(e)),n||(n=document.createElement("div"),a.attr(n,{class:o.CLASS.SVG_PAGE}),e.appendChild(n)),r||(r=document.createElement("div"),a.attr(r,{class:o.CLASS.SVG_CONTAINER}),n.appendChild(r)),!s&&t?(this.isNew=!1,r.innerHTML=t,(s=r.querySelector("svg")).viewBox.baseVal.x=0,s.viewBox.baseVal.y=0,s.viewBox.baseVal.width=c,s.viewBox.baseVal.height=f):s?(s.viewBox.baseVal.width=c,s.viewBox.baseVal.height=f):(this.isNew=!0,s=l({className:o.CLASS.SVG_BASE,width:c,height:f}),r.appendChild(s)),i||(i=document.createElement(o.TAG.TMP_TAG),a.addClass(i,o.CLASS.SVG_MASK_CONTAINER),r.appendChild(i)),u||(u=l({className:o.CLASS.SVG_MASK,width:c,height:f}),i.appendChild(u)),s.style.height&&s.removeAttribute("style"),this.id=s.id,this.bg={},this.svgDom=s,this.svgMask=u,this.pageContainer=e,this.pageDiv=n,this.svgContainer=r}},{key:"initStatus",value:function(){this.layerIndex=0,this._actions.initActions(),this.setPageBackground(),this._handler.onResize(),this._originalHtml=this.svgHtml,this.sendUndoStatus()}},{key:"getMinAreaFromPath",value:function(){var t=null,e=null,n=this.svgDom.viewBox.baseVal.width,r=!0,i=!1,a=void 0;try{for(var s,u=this._actions._actions[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(c.data){var l=c.data.bound,f=c.data.lineWidth||c.data.maxWidth||1;t=null===t?l.top-f/2:Math.min(t,l.top-f/2),e=Math.max(e,l.bottom+f/2)}}}catch(t){i=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return(t=Math.floor(t)-20)<0&&(t=0),{minTop:t,maxHeight:e=(e=Math.floor(e)+20)>o.PAGE.HEIGHT?o.PAGE.HEIGHT:Math.max(e,o.PAGE.MIN_HEIGHT),width:n}}},{key:"fixSvgHtmlViewBox",value:function(t,e,n,r,o){if(t=t.replace(/(<svg [^>]*)(viewBox[\s]*=[\s]*"([^"]*)")([^>]*>)/i,'$1viewBox="'.concat(e," ").concat(n," ").concat(r," ").concat(o,'"$4')),this._controller.options.isNoteMarker){var i=/(<svg [^>]*)(style[\s]*=[\s]*"[^"]*")([^>]*>)/i,a='style="width:'.concat(r,"px;height:").concat(o,'px;"');t=i.test(t)?t.replace(i,function(t,e,n,r){return e+a+r}):t.replace(/<svg /i,"<svg "+a+" ")}return t}},{key:"bind",value:function(){this.svgDom&&(this.unbind(),this._controller.readonly||(this.svgDom.addEventListener("DOMSubtreeModified",this._handler.onModified),this.svgMask.addEventListener("pointerdown",this._handler.onPointerDown),this.svgMask.addEventListener("touchstart",this._handler.onMouseDown),this.svgMask.addEventListener("mousedown",this._handler.onMouseDown),this.svgMask.addEventListener("mousewheel",this._handler.onMouseWheel),this._controller.event.addListener(o.EVENT.RESIZE,this._handler.onResize)))}},{key:"unbind",value:function(){this.svgDom&&(this._controller.readonly||(this.svgDom.removeEventListener("DOMSubtreeModified",this._handler.onModified),this.svgMask.removeEventListener("touchstart",this._handler.onMouseDown),this.svgMask.removeEventListener("pointerdown",this._handler.onPointerDown),this.svgMask.removeEventListener("mousedown",this._handler.onMouseDown),this.svgMask.removeEventListener("mousewheel",this._handler.onMouseWheel),this._controller.event.removeListener(o.EVENT.RESIZE,this._handler.onResize)))}},{key:"bindPaint",value:function(t){this.unbindPaint(),this.svgMask.addEventListener("mouseout",this._handler.onMouseUp),/^pointer/i.test(t)?(this.svgMask.addEventListener("pointerup",this._handler.onMouseUp),this.svgMask.addEventListener("pointermove",this._handler.onMouseMove)):/^touch/i.test(t)?(this.svgMask.addEventListener("touchend",this._handler.onMouseUp),this.svgMask.addEventListener("touchmove",this._handler.onMouseMove)):(this.svgMask.addEventListener("mousemove",this._handler.onMouseMove),this.svgMask.addEventListener("mouseup",this._handler.onMouseUp))}},{key:"unbindPaint",value:function(){this.svgMask.removeEventListener("mouseout",this._handler.onMouseUp),this.svgMask.removeEventListener("mousemove",this._handler.onMouseMove),this.svgMask.removeEventListener("mouseup",this._handler.onMouseUp),this.svgMask.removeEventListener("touchend",this._handler.onMouseUp),this.svgMask.removeEventListener("touchmove",this._handler.onMouseMove),this.svgMask.removeEventListener("pointerup",this._handler.onMouseUp),this.svgMask.removeEventListener("pointermove",this._handler.onMouseMove)}},{key:"createFileName",value:function(){this._oldFileName=this._fileName,this._fileName=i.createGuid("svgFile_")+".svg"}},{key:"createNextLayerIndex",value:function(){return++this.layerIndex}},{key:"clear",value:function(){this.svgDom&&(s.destroy(),this._actions.clear(),this.sendUndoStatus())}},{key:"redo",value:function(){s.destroy(),this._actions.redo(),this.sendUndoStatus()}},{key:"sendUndoStatus",value:function(){var t=this.undoStatus;this._controller.event.call(o.EVENT.UNDO_REDO,t),this._controller.clientRouter.sendCmdToWizClient(o.CLIENT_EVENT.WIZ_UPDATE_UNDO_STATUS,t);var e=this._controller.callback.undo;e&&e(t)}},{key:"setPageBackground",value:function(){this._controller.options.isNoteMarker||(this.svgDom.style.backgroundColor="#ffffff")}},{key:"setSvgSize",value:function(t,e){this.svgDom&&(this.svgDom.viewBox.baseVal.width=t,this.svgDom.viewBox.baseVal.height=e),this.svgMask&&(this.svgMask.viewBox.baseVal.width=t,this.svgMask.viewBox.baseVal.height=e)}},{key:"setUnModified",value:function(t){t||(t=this.svgHtml),this._originalHtml=t}},{key:"splitStart",value:function(){this._actions.splitStart()}},{key:"split",value:function(t,e,n,r,o){this._actions.split(t,e,n,r,o)}},{key:"splitEnd",value:function(){this._actions.splitEnd()}},{key:"undo",value:function(){s.destroy(),this._actions.undo(),this.sendUndoStatus()}},{key:"_addDataToAction",value:function(t){var e=this.createNextLayerIndex();t&&t.bottomMost&&(e*=-1),this._actions.addData(e,t)}},{key:"_getHighlightSplitDiv",value:function(){if(this._highlightSplitDiv&&this._highlightSplitDiv.parentNode)return this._highlightSplitDiv;this._highlightSplitDiv=this.svgDom.querySelector(o.TAG.TMP_TAG),this._highlightSplitDiv||(this._highlightSplitDiv=document.createElement(o.TAG.TMP_TAG));for(var t=this.svgDom.firstElementChild;t;){if(!!!t.getAttribute("bottom-most"))break;t=t.nextElementSibling}return t?this.svgDom.insertBefore(this._highlightSplitDiv,t):this.svgDom.appendChild(this._highlightSplitDiv),this._highlightSplitDiv}},{key:"_getStylusTouch",value:function(t){if(!t)return null;for(var e=0;e<t.length;e++)if("stylus"===t[e].touchType)return t[e];return null}},{key:"_onGestureMove",value:function(t,e){if(this._controller.options.isNoteMarker)return document.body.scrollLeft-=t,document.body.scrollTop-=e,document.documentElement.scrollLeft-=t,void(document.documentElement.scrollTop-=e);this._controller.container.scrollLeft-=t,this._controller.container.scrollTop-=e}},{key:"_onGestureStart",value:function(){this._gestureDetected=!0,this._oldZoom=this.getZoom(),this._actions.rollback(),this.sendUndoStatus()}},{key:"_onGestureZoom",value:function(t,e){var n=this._oldZoom;void 0===t?n*=1+1.5*e/this._controller.container.clientWidth:n=this.getZoom()*(1+t),this.setZoom(n)}},{key:"_onModified",value:function(){this._mouseDown||this._controller.event.call(o.EVENT.SAVE_TO_NOTE,{isAuto:!0})}},{key:"_onMouseDown",value:function(t){if(this._penTouch&&this._penTouchId>-1&&t.pointerId!==this._penTouchId)i.stopEvent(t);else if(s.destroy(),this._mouseDown=!0,this._penTouch||(this._penTouch=!!this._getStylusTouch(t.touches)),this._gestureDetected=!1,this._penTouch||(this._gestureTool.enable(),this._gestureTool.onMouseDown(t)),this.bindPaint(t.type),this._gestureDetected)this._handTouchCount=0;else{if(this._controller.stylusMode&&!this._penTouch)return t.touches&&this._handTouchCount++,void(this._handTouchCount>3&&(this._handTouchCount=0,this._controller.showStylusHelp()));this._handTouchCount=0;var e=a.getXY(t,this.pageDiv,this.svgContainer,this._controller.container,this._getStylusTouch(t.touches)),n=this.curTool;this._xyRate=this.svgDom.viewBox.baseVal.width/this.svgDom.clientWidth;var r=n.start({x:e.x*this._xyRate,y:e.y*this._xyRate,force:e.force},this);r&&this._addDataToAction(r),i.stopEvent(t,!0)}}},{key:"_onMouseMove",value:function(t){if(this._penTouch&&this._penTouchId>-1&&t.pointerId!==this._penTouchId)i.stopEvent(t);else if(this._penTouch||this._controller.options.isNoteMarker||this._gestureTool.onMouseMove(t),!this._gestureDetected){this._actions.disableRollback();var e=this.curTool,n=a.getXY(t,this.pageDiv,this.svgContainer,this._controller.container,this._getStylusTouch(t.touches));e.move({x:n.x*this._xyRate,y:n.y*this._xyRate,force:n.force},this)}}},{key:"_onMouseUp",value:function(t){var e=this;if("mouseout"!==t.type||t.toElement!==this.svgMask&&!a.isParent(t.toElement,this.svgMask))if("mouseout"!==t.type&&this._penTouch&&this._penTouchId>-1&&t.pointerId!==this._penTouchId)i.stopEvent(t);else if(this._mouseDown=!1,this._penTouch=!1,this._gestureTool.onMouseUp(t),this.unbindPaint(),this._gestureDetected)this._moveMaskToMainSvg();else{this._actions.disableRollback();var n=a.getXY(t,this.pageDiv,this.svgContainer,this._controller.container,this._getStylusTouch(t.touches)),r=this.curTool.end({x:n.x*this._xyRate,y:n.y*this._xyRate,force:n.force},this);if(r){var o=r.recognize()||{},u=o.shapes;o.scribble?console.log("scribble"):u&&(1===u.length?this._actions.replaceData(r,u[0]):s.showInfo(this.pageDiv,r,u,{x:n.x,y:n.y},function(t,n){e._actions.replaceData(t,n)}))}this._moveMaskToMainSvg(),this._handler.onModified(),this.sendUndoStatus()}}},{key:"_moveMaskToMainSvg",value:function(){for(var t=this.curTool;this.svgMask.firstElementChild;)if(t.bottomMost){var e=this._getHighlightSplitDiv();this.svgDom.insertBefore(this.svgMask.firstElementChild,e)}else this.svgDom.appendChild(this.svgMask.firstElementChild)}},{key:"_onMouseWheel",value:function(t){this._gestureTool.onMouseWheel(t)}},{key:"_onPointerDown",value:function(t){this._penTouch||(this._isEraserTool=5===t.button,this._penTouch=/pen|mouse/i.test(t.pointerType),this._penTouch?(this._penTouchId=t.pointerId,this._onMouseDown(t)):this._penTouchId=-1)}},{key:"_onResize",value:function(){var t=(this._controller.container.clientHeight-16-48)/this.svgDom.viewBox.baseVal.height,e=(this._controller.container.clientWidth-16)/this.svgDom.viewBox.baseVal.width;this._minZoom=Math.min(t,e)}},{key:"curTool",get:function(){return this._isEraserTool?this.tools.eraserTool:this.tools.curTool}},{key:"handler",get:function(){return null},set:function(t){}},{key:"isDeleted",get:function(){return!1}},{key:"isModified",get:function(){return this.svgHtml!==this._originalHtml}},{key:"svgId",get:function(){return this.svgDom.id}},{key:"svgData",get:function(){var t={id:this.svgId,deleted:this.isDeleted};if(!t.deleted){var e=this.svgHtmlForSave;t.svgHtml=e.svgHtml,t.htmlForNote=e.htmlForNote,t.fileName=this._fileName||"",t.oldFileName=this._oldFileName||"",t.imgSrc=e.imgSrc,t.imgHeight=e.imgHeight}return t}},{key:"svgHtml",get:function(){if(!this.svgDom||this.isDeleted)return"";var t=this._getHighlightSplitDiv(),e=t.nextElementSibling;a.remove(t);var n=this.svgDom.outerHTML;return n||(n=this.svgDom.parentNode.innerHTML),this.svgDom.insertBefore(t,e),n}},{key:"originalActions",get:function(){return this._actions.originalActions}},{key:"svgHtmlForSave",get:function(){if(this.isDeleted)return null;var t=this.svgHtml,e=this.getMinAreaFromPath(),n=e.minTop,r=e.maxHeight,i=e.width;t=this.fixSvgHtmlViewBox(t,0,n,i,r-n),this._fileName||this.createFileName();var a="index_files/".concat(this._fileName),s=r;return{svgHtml:t,htmlForNote:'<img id="'.concat(this.svgId,'" class="').concat(o.CLASS.SVG_IMAGE," ").concat(o.CLASS.IMG_NOT_DRAG,'" src="').concat(a,'" width="').concat(i,'" height="').concat(s,'" />'),imgSrc:a,imgHeight:s}}},{key:"undoStatus",get:function(){return{canUndo:this._actions.canUndo(),canRedo:this._actions.canRedo()}}}])&&r(e.prototype,n),f&&r(e,f),t}();t.exports=f},function(t,e,n){var r,o,i,a,s,u=n(1),c=n(7),l=n(2),f={},h=function(t,e){f[t.id]={dom:t,fun:e},t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)},p=function(){if(function(){for(var t in f)if(f.hasOwnProperty(t)){var e=f[t];e.dom.removeEventListener("mousedown",e.fun),e.dom.removeEventListener("touchstart",e.fun)}f={}}(),r){var t=r.querySelector(".".concat(u.CLASS.SHAPE_ASST_CONTAINER));t&&(t.innerHTML="")}},y={destroy:p,showInfo:function(t,e,n,f,y){r=t,o=e,i=n,a=f,s=y,function(){var t=r.querySelector(".".concat(u.CLASS.SHAPE_ASST_CONTAINER));t?t.innerHTML="":((t=document.createElement("div")).className=u.CLASS.SHAPE_ASST_CONTAINER,r.appendChild(t)),l.css(t,{top:a.y+"px",left:a.x+"px"});for(var e=function(e){var n=i[e],r=document.createElement("div");r.id=c.createGuid("asstBtn_"),r.className=u.CLASS.SHAPE_ASST_BUTTON,r.appendChild(n.thumb),h(r,function(t){s(o,n),p(),c.stopEvent(t,!0)}),t.appendChild(r)},n=0;n<i.length;n++)e(n)}()}};t.exports=y},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(2),a=n(22),s=n(447),u=n(13),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._page=e,this._actions=[],this._duplicatedData=null,this._stepIndex=0,this._currentActionCursor=-1,this._elements=new Map,this._splitting=!1}var e,n,c;return e=t,(n=[{key:"loadOriginalActions",value:function(t){var e=this;t.forEach(function(t){e.insertOriginalAction(t,0)})}},{key:"loadOriginalData",value:function(t){var e=this;t.forEach(function(t){console.log(t);var n=a.dataFromOriginalData(t);console.log(n),e.addData(0,n)})}},{key:"reset",value:function(t){for(var e=this,n=this._page.svgDom;n.firstChild;)n.removeChild(n.firstChild);this._actions=[],t.forEach(function(t){e.insertOriginalAction(t,0)}),this._currentActionCursor=-1}},{key:"insertOriginalAction",value:function(t,e){var n,r,o=t.actionGuid,i=t.oldActionGuid,u=t.stepIndex,c=t.layerIndex,l=t.data;i&&(n=this._actions.find(function(t){return t.guid===i})),l&&(r=a.dataFromOriginalData(l)),void 0!==e&&(u=e);var f=new s(c,u,r,n,o);this._addAction(f)}},{key:"deleteOriginalActions",value:function(t){var e=this,n=function(t){if(t.data){var n=t.data.svgElement;e._page.svgDom.contains(n)&&e._page.svgDom.removeChild(n)}var r=e._actions.indexOf(t);-1!==r&&e._actions.splice(r,1)},r=!0,o=!1,i=void 0;try{for(var a,s=function(){var t=a.value,r=e._actions.find(function(e){return e.guid===t});if(r)for(n(r);r;){var o=e._actions.find(function(e){return e.oldAction&&e.oldAction.guid===t});o&&n(o),r=o}},u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)s()}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}this._currentActionCursor=-1,this._startNewAction(),this._repaint()}},{key:"draw",value:function(t){this._actions.forEach(function(e){e.data&&e.visible&&e.data.drawOnCanvas(t)})}},{key:"_startNewStep",value:function(){this._stepIndex=(new Date).valueOf()}},{key:"addData",value:function(t,e){this._duplicatedData={currentActionCursor:this._currentActionCursor,actions:this._actions.concat()},this._splitting||this._startNewStep();var n=new s(t,this._stepIndex,e);this._addAction(n)}},{key:"disableRollback",value:function(){this._duplicatedData=null}},{key:"rollback",value:function(){this._duplicatedData&&(this._removeActionElement(this._actions[this._actions.length-1]),this._currentActionCursor=this._duplicatedData.currentActionCursor,this._actions=this._duplicatedData.actions,this._duplicatedData=null)}},{key:"replaceData",value:function(t,e){var n=this;this._splitting||this._startNewStep();var r=[],o=this._actionFromData(t);u(o),r.push(o);var i=new s(o.layerIndex,this._stepIndex,e,o);if(this._addAction(i),e){var a=e.allSrcDataId,c={exceptStepIndex:this._stepIndex};a.forEach(function(t){var e=n._actionFromDataId(t,c);u(e),n._addAction(new s(e.layerIndex,n._stepIndex,null,e)),r.push(e)})}var l=this._page.svgDom;r.forEach(function(t){var e=n._elements.get(t.id);e&&l.contains(e)&&l.removeChild(e)})}},{key:"initActions",value:function(){var t=this;if(!(this._actions.length>0)){var e=a.dataListFromSvgDocument(this._page.svgDom);this._actions=e.map(function(e){var n=new s(0,0,e),r=n.svgElement;return t._elements.set(n.id,r),n.visible=!0,n})}}},{key:"clear",value:function(){this._startNewStep(),this._splitting=!0;for(var t=this._actions.length-1;t>=0;t--){var e=this._actions[t];e.visible&&this._addAction(new s(e.layerIndex,this._stepIndex,null,e))}this._splitting=!1}},{key:"currentActionCursor",value:function(){return-1===this._currentActionCursor?this._actions.length:this._currentActionCursor}},{key:"undo",value:function(){var t=this.currentActionCursor();if(0!==t){var e=this._actions[t-1].stepIndex;if(!e||0===e)return!1;if(1===t)return this._currentActionCursor=0,void this._repaint();for(var n=this._actions[t-2].stepIndex;t-2>=0&&n===e;)t--,n=this._actions[t-2].stepIndex;this._currentActionCursor=t-1,this._repaint()}}},{key:"redo",value:function(){var t=this.currentActionCursor();if(t!==this._actions.length){for(var e=t+1,n=this._actions[e-1].stepIndex;e<this._actions.length&&this._actions[e].stepIndex===n;)e++;this._currentActionCursor=e,this._repaint()}}},{key:"canUndo",value:function(){var t=this.currentActionCursor();if(0===t)return!1;var e=this._actions[t-1].stepIndex;return!(!e||0===e)}},{key:"canRedo",value:function(){return this.currentActionCursor()!==this._actions.length}},{key:"_startNewAction",value:function(){if(this.canRedo()){var t=this.currentActionCursor(),e=this._actions.splice(t);e.length>0&&this._page.requestDeleteActions(e)}}},{key:"_addAction",value:function(t){this._startNewAction(),this._actions.push(t),this._currentActionCursor=-1;var e=t.svgElement;e&&(this._elements.set(t.id,e),this._showActionElement(t),t.visible=!0),t.oldAction&&(t.oldAction.visible=!1,this._removeActionElement(t.oldAction))}},{key:"isVisible",value:function(t){var e=this._actions.indexOf(t);if(-1===e)return!1;for(var n=this.currentActionCursor(),r=e+1;r<n;r++){if(this._actions[r].oldAction===t)return!1}return!0}},{key:"splitStart",value:function(){this._startNewAction(),this._startNewStep(),this._splitting=!0}},{key:"split",value:function(t,e,n,r,i){i&&(n=o.TOOL_LINE_WIDTH.ERASER.list[1]);for(var a=this._actions.length,s=0;s<a;s++){var u=this._actions[s];if(u.data&&(u.visible&&(!r||u.data.bottomMost)&&u.data.bound.intersectsLine(t,e,n)&&this._page.svgDom.contains(u.svgElement))){var c=u.data.split(t,e,n,i);if(c)if(0===c.length)this.replaceData(u.data,null);else for(var l=0;l<c.length;l++){var f=c[l];this.replaceData(u.data,f)}}}}},{key:"splitEnd",value:function(){this._splitting=!1;for(var t=this._stepIndex,e=new Map,n=new Map,r=0;r<this._actions.length;r++){var o=this._actions[r];if(o.stepIndex!==t)e.set(o.id,o);else{var i=o;u(i.oldAction);for(var a=i.oldAction;a.stepIndex===t&&a.oldAction;)a=a.oldAction;var s=e.get(a.id);u(s),n.set(o,s)}}for(var c=new Set,l=this._actions.length-1;l>=0;l--){var f=this._actions[l];if(f.stepIndex===t)if(c.has(f))c.add(f.oldAction),this._actions.splice(l,1);else{u(f.oldAction),c.add(f.oldAction);var h=n.get(f);u(h),f._oldAction=h}}for(var p=new Set,y=this._actions.length-1;y>=0;y--){var v=this._actions[y];v.stepIndex===t&&(v.data||(p.has(v.oldAction.id)?this._actions.splice(y,1):p.add(v.oldAction.id)))}}},{key:"_compactSplitterAction",value:function(){}},{key:"_repaint",value:function(){for(var t=this,e=this._page.svgDom,n=function(e,n,r){for(var o=n+1;o<r;o++){if(t._actions[o].oldAction===e)return!1}return!0},r=this.currentActionCursor(),o=0;o<r;o++){var i=this._actions[o],a=this._elements.get(i.id),s=n(i,o,r);if(i.visible=s,s){if(!e.contains(a))i.svgElement&&this._showActionElement(i)}else a&&e.contains(a)&&e.removeChild(a)}for(var u=r;u<this._actions.length;u++){var c=this._actions[u];c.visible=!1;var l=this._elements.get(c.id);l&&e.contains(l)&&e.removeChild(l)}}},{key:"_actionFromData",value:function(t){return this._actions.find(function(e){return t===e.data})}},{key:"_actionFromDataId",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._actions.length-1;n>=0;n--){var r=this._actions[n];if(r&&(void 0===e.exceptStepIndex||r.stepIndex!==e.exceptStepIndex)){var o=r.data;if(o){if(o.id===t)return r;var i=r.oldData;if(i&&i.id===t)return r}}}return null}},{key:"_removeActionElement",value:function(t){this._page.svgDom&&i.remove(t.svgElement)}},{key:"_showActionElement",value:function(t){if(this._page.svgDom){var e=this._page.svgDom,n=this._page.curTool;this._page._mouseDown&&n.type!==o.TOOL_TYPE.ERASER&&(e=this._page.svgMask);var r=t.svgElement;if(r&&!r.parentNode)if(r.layerIndex=t.layerIndex,t.data&&t.data.bottomMost){for(var i=e.firstChild;i&&i.layerIndex<r.layerIndex;)i=i.nextElementSibling;e.insertBefore(r,i)}else{for(var a=e.lastChild;a&&a.layerIndex>r.layerIndex;)a=a.previousElementSibling;a&&(a=a.nextElementSibling),e.insertBefore(r,a)}}}},{key:"originalActions",get:function(){for(var t=[],e=0;e<this._actions.length;e++){var n=this._actions[e];if(0!==n.stepIndex){var r=n.guid,o=n.oldAction?n.oldAction.guid:null,i=n.layerIndex,a=n.stepIndex,s=n.data&&n.data.originalData,u={actionGuid:r,oldActionGuid:o,visible:n.visible,stepIndex:a,layerIndex:i,data:s};t.push(u)}}return t}}])&&r(e.prototype,n),c&&r(e,c),t}();t.exports=c},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(7),i=n(170),a=function(){function t(e,n,r,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=o.createGuid("wizPage_"),this._layerIndex=e,this._stepIndex=n,this._data=r,this._oldAction=a,this._visible=!1,this._data||this._oldAction||console.error("  DATA "),this._guid=s,this._guid||(this._guid=i())}var e,n,a;return e=t,(n=[{key:"svgElement",get:function(){return this._data?this._data.svgElement:null}},{key:"id",get:function(){return this._id}},{key:"guid",get:function(){return this._guid}},{key:"layerIndex",get:function(){return this._layerIndex}},{key:"stepIndex",get:function(){return this._stepIndex}},{key:"data",get:function(){return this._data}},{key:"oldData",get:function(){return this._oldAction&&this._oldAction._data}},{key:"oldAction",get:function(){return this._oldAction}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible=t}}])&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(7),a=n(2),s=n(21),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gestureStart=e.onGestureStart,this.gestureZoom=e.onGestureZoom,this.gestureMove=e.onGestureMove,this._enable=!1}var e,n,u;return e=t,(n=[{key:"enable",value:function(){this._enable=!0}},{key:"disable",value:function(){this._enable=!1}},{key:"onMouseDown",value:function(t){if(this._enable&&t.touches&&t.touches.length>1){if(2===t.touches.length){var e=t.touches[0]||t.changedTouches[0],n=t.touches[1]||t.changedTouches[1],r=a.getPageScroll();this._fingerSign={startPoint:[{x:e.pageX-r.left,y:e.pageY-r.top},{x:n.pageX-r.left,y:n.pageY-r.top}],startDistance:s.getDistance({x:e.pageX-r.left,y:e.pageY-r.top},{x:n.pageX-r.left,y:n.pageY-r.top}),zoomStart:!1,scrollStart:!1}}this.gestureStart(),i.stopEvent(t,!0)}}},{key:"onMouseMove",value:function(t){if(this._enable)if(t.touches&&t.touches.length>1&&2===t.touches.length){var e,n,r=a.getPageScroll(),o=t.touches[0]||t.changedTouches[0],i=t.touches[1]||t.changedTouches[1],u={x:o.pageX-r.left,y:o.pageY-r.top},c={x:i.pageX-r.left,y:i.pageY-r.top};if(this._fingerSign.scrollStart||(e=s.getDistance(u,c),n=Math.abs(this._fingerSign.startDistance-e)>30,this._fingerSign.zoomStart=this._fingerSign.zoomStart||n,!this._fingerSign.zoomStart))n=(e=s.getDistance(u,this._fingerSign.startPoint[0]))>30,this._fingerSign.scrollStart=this._fingerSign.scrollStart||n,this._fingerSign.scrollStart&&(this.gestureMove(u.x-this._fingerSign.startPoint[0].x,u.y-this._fingerSign.startPoint[0].y),this._fingerSign.startPoint=[u,c]);else{var l=e-this._fingerSign.startDistance;this.gestureZoom(void 0,l)}}else this._enable=!1}},{key:"onMouseUp",value:function(t){this._enable}},{key:"onMouseWheel",value:function(t){var e=o.CLIENT_TYPE.isMac&&!o.CLIENT_TYPE.isLinux||o.BROWSER.isMac;if((!e||t.metaKey)&&(e||t.ctrlKey)){var n=t.wheelDelta/120*10/100;i.stopEvent(t),this.gestureZoom(n)}}}])&&r(e.prototype,n),u&&r(e,u),t}();t.exports=u},function(t,e,n){n(7);var r=n(450),o=n(465);t.exports={getCurToolbar:function(t){return"huawei"===t.options.style?(o.initConst(),new o.Toolbar(t)):(r.initConst(),new r.Toolbar(t))}}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(2),a=n(25),s=n(171),u=n(451),c=n(452),l=n(453),f=n(454),h=n(85),p=n(455),y=n(456),v=n(457),d=n(458),g=n(459),_=n(460),b=n(461),m=n(462),w=n(463),S="wiz",x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(464),this._controller=e,this.tools=this._controller.tools,this.toolsList=this.tools.list,this.isSmallViewer=!1,this._toolbarImpl=new s(e),i.addClass(this.layer,S),this._initHandler(),this._initButtons(),this._updateToolbar(),this._bind()}var e,x,O;return e=t,(x=[{key:"destroy",value:function(){}},{key:"showMoreMenu",value:function(){this.moreBtn.showSubMenuForHelp()}},{key:"_bind",value:function(){this._unbind(),this._controller.event.addListener(o.EVENT.UNDO_REDO,this._handler.onUndoRedo),window.addEventListener("resize",this._handler.onResize)}},{key:"_unbind",value:function(){this._controller.event.removeListener(o.EVENT.UNDO_REDO,this._handler.onUndoRedo),window.removeEventListener("resize",this._handler.onResize)}},{key:"_checkViewMode",value:function(){var t=document.documentElement.clientWidth;this.isSmallViewer=t<640}},{key:"_getToolbarOptions",value:function(){return{isSmallViewer:this.isSmallViewer,menuGroup:this._getMenuGroup()}}},{key:"_getMenuGroup",value:function(){var t=this,e=this.tools.curTool,n=e.toolData,r=e.properties,i=[];i.push(this._brushButtonList);var a,s=[];if(r.color){var u=n.color;u&&(e.toolbarButton.color=u.list[u.index],this._colorButtons.forEach(function(e){e.color=u.list[e.index],e.active=e.index===u.index,(t.isSmallViewer&&e.active||!t.isSmallViewer)&&s.push(e)}))}return r.clearFullPath&&(this._eraserClearFullPathButton.active=e.clearFullPath,this._eraserClearFullPathButton.show(this.isSmallViewer),(this.isSmallViewer&&this._eraserClearFullPathButton.active||!this.isSmallViewer)&&s.push(this._eraserClearFullPathButton)),r.lineWidth&&(this._lineWidthButton.lineWidth=n.lineWidth,s=s.concat([this._lineWidthButton])),r.size&&this._eraserSizeButtons.forEach(function(r){r.active=!e.clearFullPath&&r.lineWidth===n.lineWidth,r.show(t.isSmallViewer),(t.isSmallViewer&&r.active||!t.isSmallViewer)&&s.push(r)}),i.push(s),this._moreBtn.show(this.isSmallViewer),a=this.isSmallViewer?[this._undoBtn,this._moreBtn]:[this._undoBtn,this._redoBtn,this._moreBtn],i.push(a),(o.CLIENT_TYPE.isWin||o.CLIENT_TYPE.isMac||o.CLIENT_TYPE.isWeb)&&(this.isSmallViewer||this._controller.clientRouter.options.needOriginalActions||i.push([this._saveBtn])),this._pluginButtons&&this._pluginButtons.length>0&&i.push(this._pluginButtons),i}},{key:"_initButtons",value:function(){var t=this;this._brushButtonList=[];for(var e=0;e<this.toolsList.length;e++){var n=this.toolsList[e],r={type:n.type,onClick:this._handler.onSelectTool};if(n.type===o.TOOL_TYPE.ERASER&&(this._eraserMenu=new b(this,{onSelect:this._handler.onSelectEraserSubMenu}),r.submenu=this._eraserMenu),!n.toolbarButton&&(n.toolbarButton=new u(r),n.properties.color)){var i=n.toolData.color;n.toolbarButton.color=i.list[i.index]}this._brushButtonList.push(n.toolbarButton)}this._colorButtons=[],this._colorMenu=new g(this,{onSelect:this._handler.onSelectColor});for(var s=0;s<3;s++)this._colorButtons.push(new c(this.tools,{index:s,onClick:this._handler.onSelectColor,submenu:this._colorMenu}));this._lineWidthMenu=new m(this,{onSelect:this._handler.onSelectLineWidth}),this._lineWidthButton=new p(this.tools,{submenu:this._lineWidthMenu}),this._eraserLineWidthMenu=new _(this,{onSelect:this._handler.onSelectEraserLineWidth}),this._eraserClearFullPathButton=new l(this.tools,{onClick:this._handler.onChangeClearFullPath,submenu:this._eraserLineWidthMenu}),this._eraserSizeButtons=[];for(var S=0;S<3;S++)this._eraserSizeButtons.push(new f({index:S,lineWidth:o.TOOL_LINE_WIDTH.ERASER.list[S],onClick:this._handler.onSelectLineWidth,submenu:this._eraserLineWidthMenu}));this._undoBtn=new h({type:"undo",iconHtml:a.undo,onClick:this._handler.onClickUndo}),this._redoBtn=new h({type:"redo",iconHtml:a.redo,onClick:this._handler.onClickRedo}),this._moreMenu=new w(this,{onSelect:this._handler.onSelectMore,stylusMode:this._controller.stylusMode}),this._moreBtn=new y({submenu:this._moreMenu}),this._saveBtn=new d({onClick:this._handler.onClickSave});var x=this._controller.getPluginButtons();x&&x.length>0&&(this._pluginButtons=[],x.forEach(function(e){var n=new v(e);t._pluginButtons.push(n)}))}},{key:"_initHandler",value:function(){var t=this;this._handler={onChangeClearFullPath:function(){t.tools.eraserTool.clearFullPath=!0,t._updateToolbar()},onClickRedo:function(){t._controller.redo()},onClickUndo:function(){t._controller.undo()},onResize:function(){t._updateToolbar(),t._colorMenu.hide(),t._eraserLineWidthMenu.hide(),t._eraserMenu.hide(),t._lineWidthMenu.hide(),t._moreMenu.hide(),t._controller.event.call(o.EVENT.RESIZE)},onClickSave:function(){t._saveBtn.saving||(t._saveBtn.saving=!0,t._controller.event.call(o.EVENT.SAVE_TO_NOTE,{isManual:!0}))},onSelectColor:function(e){t.tools.curTool.color=e,t._updateToolbar()},onSelectEraserLineWidth:function(e){e.lineWidth?t._handler.onSelectLineWidth(e.lineWidth):t._handler.onChangeClearFullPath()},onSelectEraserSubMenu:function(e){e===o.ERASER_MENU.CLEAR_PAGE?t._controller.clearPage():e===o.ERASER_MENU.CLEAR_HIGHLIGHTER&&(t.tools.eraserTool.highlighterOnly=!t.tools.eraserTool.highlighterOnly)},onSelectLineWidth:function(e){t.tools.curTool.lineWidth=e,t.tools.curTool===t.tools.eraserTool&&(t.tools.eraserTool.clearFullPath=!1),t._updateToolbar()},onSelectMore:function(e){e===o.MORE_MENU.REDO?t._handler.onClickRedo():e===o.MORE_MENU.SAVE?t._handler.onClickSave():e===o.MORE_MENU.STYLUS_MODE&&(t._controller.stylusMode=!t._controller.stylusMode,t._moreMenu.stylusMode=t._controller.stylusMode)},onSelectTool:function(e){e&&(t.tools.curToolType=e,t._updateToolbar())},onUndoRedo:function(e){t._undoBtn.disabled=!e.canUndo,t._redoBtn.disabled=!e.canRedo,t._moreMenu.redoEnable=e.canRedo}}}},{key:"_updateToolbar",value:function(){this._checkViewMode();var t=this.tools.curTool;this.toolsList.forEach(function(e){e.toolbarButton&&(e.toolbarButton.active=e===t)}),this._toolbarImpl.update(this._getToolbarOptions())}},{key:"layer",get:function(){return this._toolbarImpl.layer}}])&&r(e.prototype,x),O&&r(e,O),t}();t.exports={Toolbar:x,initConst:function(){o.CLASS.TOOLBAR.BUTTON_ICON_AREA="toolbar-btn-icon-area",o.CLASS.TOOLBAR.BUTTON_ICON_LINE="toolbar-btn-icon-line"}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(25),f=n(39),h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,a(e).call(this,t))).submenu=t.submenu,n.active=t.active||!1,n}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,(r=[{key:"destroy",value:function(){c.remove(this.element),this._element=null}},{key:"_createElement",value:function(){var t=this._createButtonContainer(),e="";switch(this.type){case u.TOOL_TYPE.PEN:e=l.penArea+l.penLine;break;case u.TOOL_TYPE.PENCIL:e=l.pencilArea+l.pencilLine;break;case u.TOOL_TYPE.HIGHLIGHTER:e=l.highlighterArea+l.highlighterLine;break;case u.TOOL_TYPE.ERASER:e=l.eraserArea+l.eraserLine;break;case u.TOOL_TYPE.SHAPE:e=l.shapeArea+l.shapeLine}return t.innerHTML=e,t.firstElementChild.setAttribute("class",u.CLASS.TOOLBAR.BUTTON_ICON_AREA),this.type===u.TOOL_TYPE.ERASER&&(t.firstElementChild.style.color="#5a5a5a"),t.lastElementChild.setAttribute("class",u.CLASS.TOOLBAR.BUTTON_ICON_LINE),t}},{key:"_showSubMenu",value:function(){return!(!this.active||!this._submenu)&&(this._submenu.show(this),!0)}},{key:"color",set:function(t){this._color=t;var e=this.element.firstElementChild;e&&(e.style.color=this._color)}},{key:"active",get:function(){return this._active},set:function(t){this._active=t;var e=this.element;t?c.addClass(e,u.CLASS.ACTIVE):c.removeClass(e,u.CLASS.ACTIVE)}},{key:"value",get:function(){return this.type}},{key:"submenu",set:function(t){this._submenu=t}}])&&o(n.prototype,r),h&&o(n,h),e}();t.exports=h},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(25),f=n(39),h=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,a(e).call(this,n)))._tools=t,r._index=n.index,r.color=n.color,r.submenu=n.submenu,r}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,(r=[{key:"_createElement",value:function(){var t=this._createButtonContainer();return t.innerHTML='<div class="'.concat(u.CLASS.TOOLBAR.BUTTON_COLOR_BG,'"></div><div class="').concat(u.CLASS.TOOLBAR.BUTTON_COLOR,'"></div>').concat(l.arrowDown),this._colorBgDom=t.firstElementChild,this._colorDom=this._colorBgDom.nextElementSibling,this._arrowDom=this._colorDom.nextElementSibling,this._arrowDom.setAttribute("class",u.CLASS.TOOLBAR.BUTTON_COLOR_ICON),t}},{key:"_showSubMenu",value:function(){return!!this.active&&(this._submenu.show(this),!0)}},{key:"index",get:function(){return this._index}},{key:"active",get:function(){return this._active},set:function(t){this._active=t;var e=this.element;t?c.addClass(e,u.CLASS.ACTIVE):c.removeClass(e,u.CLASS.ACTIVE)}},{key:"value",get:function(){return{index:this._index,color:this._color}}},{key:"color",get:function(){return this._color},set:function(t){if(t){this._color=t;this.element;var e=this._color;this._tools.curTool.type===u.TOOL_TYPE.HIGHLIGHTER?(e=u.HIGHLIGHTER_BUTTON_COLOR[this._color],c.css(this._arrowDom,{color:"#333333"}),c.css(this._colorBgDom,{"background-color":"#aaaaaa"})):(c.css(this._arrowDom,{color:"#FFFFFF"}),c.css(this._colorBgDom,{"background-color":e})),c.css(this._colorDom,{"background-color":e})}}},{key:"submenu",set:function(t){this._submenu=t}}])&&o(n.prototype,r),h&&o(n,h),e}();t.exports=h},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(25),f=n(39),h=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,a(e).call(this,n)))._tools=t,r.isEraserClearFullPath=!0,r.submenu=n.submenu,r}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,(r=[{key:"show",value:function(t){this._isSmallViewer=t;var e={};if(t){e["margin-left"]="24px",e["margin-right"]="16px"}else e["margin-left"]=null,e["margin-right"]=null;c.css(this.element,e)}},{key:"_createElement",value:function(){var t=this._createButtonContainer();return t.innerHTML=l.path,c.addClass(t,u.CLASS.TOOLBAR.BUTTON_ERASER_CLEAR),t}},{key:"_showSubMenu",value:function(){return!!this._isSmallViewer&&(this._submenu.show(this),!0)}},{key:"active",get:function(){return this._active},set:function(t){this._active=t;var e=this.element;t?c.addClass(e,u.CLASS.ACTIVE):c.removeClass(e,u.CLASS.ACTIVE)}},{key:"clearFullPath",get:function(){return!!this._tools.eraserTool.clearFullPath}},{key:"value",get:function(){return this.clearFullPath}},{key:"submenu",set:function(t){this._submenu=t}}])&&o(n.prototype,r),h&&o(n,h),e}();t.exports=h},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=(n(25),n(39)),f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,a(e).call(this,t))).isEraserLineWidth=!0,n._index=t.index,n._lineWidth=t.lineWidth,n.submenu=t.submenu,n}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l),n=e,(r=[{key:"show",value:function(t){this._isSmallViewer=t;var e={};if(t){var n=this._index<2?24:30;e["margin-left"]=(72-n)/2+"px",e["margin-right"]=(72-n)/2-8+"px"}else 0===this._index?(e["margin-left"]="3px",e["margin-right"]="0"):1===this._index?(e["margin-left"]="4px",e["margin-right"]="0"):2===this._index&&(e["margin-left"]="11px",e["margin-right"]="0");c.css(this.element,e)}},{key:"_createElement",value:function(){var t=this._createButtonContainer(),e={"min-width":this.lineWidth+"px"};return c.css(t,e),t.innerHTML='<div class="'.concat(u.CLASS.TOOLBAR.BUTTON_ERASER,'" style="width:').concat(this.lineWidth,"px;height:").concat(this.lineWidth,'px"></div>'),t}},{key:"_showSubMenu",value:function(){return!!this._isSmallViewer&&(this._submenu.show(this),!0)}},{key:"active",get:function(){return this._active},set:function(t){this._active=t;var e=this.element;t?c.addClass(e,u.CLASS.ACTIVE):c.removeClass(e,u.CLASS.ACTIVE)}},{key:"lineWidth",get:function(){return this._lineWidth}},{key:"submenu",set:function(t){this._submenu=t}},{key:"value",get:function(){return this.lineWidth}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=(n(7),n(2)),l=n(25),f=n(39),h=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,a(e).call(this,n)))._tools=t,r.submenu=n.submenu,r}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,(r=[{key:"_createElement",value:function(){this._emptyContainer=document.createElement("div");var t=this._createButtonContainer();return c.addClass(t,u.CLASS.TOOLBAR.BUTTON_LINE),this._emptyContainer.innerHTML="".concat(l.lineWidthForPencil).concat(l.lineWidthForHighlighter),this._pencilIcon=this._emptyContainer.firstElementChild,this._highlighterIcon=this._emptyContainer.lastElementChild,t}},{key:"_showSubMenu",value:function(){return this._submenu.show(this),!0}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){if(t){this._lineWidth=t;var e=this._tools.curTool.type,n=u.TOOL_LINE_WIDTH[e].list.indexOf(t),r=this.element;if(e===u.TOOL_TYPE.HIGHLIGHTER){var o=u.TOOL_LINE_WIDTH.HIGHLIGHTER_BUTTON_STROKE[n];this._highlighterIcon.firstElementChild.setAttribute("stroke-width",o),this._emptyContainer.appendChild(this._pencilIcon),r.appendChild(this._highlighterIcon)}else{var i=u.TOOL_LINE_WIDTH.PENCIL_BUTTON_STROKE[n];this._pencilIcon.firstElementChild.setAttribute("stroke-width",i),this._emptyContainer.appendChild(this._highlighterIcon),r.appendChild(this._pencilIcon)}}}},{key:"submenu",set:function(t){this._submenu=t}},{key:"value",get:function(){return this.lineWidth}}])&&o(n.prototype,r),h&&o(n,h),e}();t.exports=h},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(1),n(2);var u=n(25),c=n(85),l=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.iconHtml=u.more,(n=i(this,a(e).call(this,t))).submenu=t.submenu,n}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,(r=[{key:"show",value:function(t){this._isSmallViewer=t}},{key:"showSubMenuForHelp",value:function(){var t=this;this._submenu.forbidAutoHide=!0,this._showSubMenu(),setTimeout(function(){t._submenu.forbidAutoHide=!1},3e3)}},{key:"_showSubMenu",value:function(){return this._submenu.show(this),!0}},{key:"submenu",set:function(t){this._submenu=t}}])&&o(n.prototype,r),l&&o(n,l),e}();t.exports=l},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(85),u=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.type="plugin",o(this,i(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,s),e}();t.exports=u},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=(n(7),n(25)),f=n(2),h=n(85),p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.type="save",t.iconHtml=l.save,t.text=c.LANG.SaveSvg,(n=i(this,s(e).call(this,t)))._saving=!1,n}var n,r,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(r=[{key:"_createElement",value:function(){var t=a(s(e.prototype),"_createElement",this).call(this);this._saveIcon=t.firstChild,this._textSpan=t.lastChild,f.attr(this._saveIcon,{class:c.CLASS.TOOLBAR.BUTTON_SAVE_ICON});var n=document.createElement("div");return n.innerHTML=l.saving,this._savingIcon=n.firstChild,f.attr(this._savingIcon,{class:c.CLASS.TOOLBAR.BUTTON_SAVING_ICON}),f.before(this._savingIcon,this._saveIcon),n.innerHTML=l.done,this._savedIcon=n.firstChild,f.attr(this._savedIcon,{class:c.CLASS.TOOLBAR.BUTTON_SAVED_ICON}),f.before(this._savedIcon,this._saveIcon),t}},{key:"saving",get:function(){return this._saving},set:function(t){var e=this;if(this._saving=t,t){var n=this.element;f.addClass(n,c.CLASS.DOING),setTimeout(function(){f.removeClass(n,c.CLASS.DOING),f.addClass(n,c.CLASS.DONE),e._textSpan.innerHTML=c.LANG.SaveSuccess},1500),setTimeout(function(){e.saving=!1,f.removeClass(n,c.CLASS.DONE),e._textSpan.innerHTML=c.LANG.SaveSvg},3e3)}}}])&&o(n.prototype,r),p&&o(n,p),e}();t.exports=p},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(40),p=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r)))._tools=t.tools,n}var n,r,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;this.element;if(this._tools.curTool.type===c.TOOL_TYPE.HIGHLIGHTER){var n=!0,r=!1,o=void 0;try{for(var i,u=this._commonList[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;this._emptyContainer.appendChild(l)}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}var h=!0,p=!1,y=void 0;try{for(var v,d=this._highlighterList[Symbol.iterator]();!(h=(v=d.next()).done);h=!0){var g=v.value;g.color===t.color?f.addClass(g,c.CLASS.ACTIVE):f.removeClass(g,c.CLASS.ACTIVE),this._buttonsContainer.appendChild(g)}}catch(t){p=!0,y=t}finally{try{h||null==d.return||d.return()}finally{if(p)throw y}}}else{var _=!0,b=!1,m=void 0;try{for(var w,S=this._highlighterList[Symbol.iterator]();!(_=(w=S.next()).done);_=!0){var x=w.value;this._emptyContainer.appendChild(x)}}catch(t){b=!0,m=t}finally{try{_||null==S.return||S.return()}finally{if(b)throw m}}var O=!0,E=!1,T=void 0;try{for(var C,L=this._commonList[Symbol.iterator]();!(O=(C=L.next()).done);O=!0){var A=C.value;A.color===t.color?f.addClass(A,c.CLASS.ACTIVE):f.removeClass(A,c.CLASS.ACTIVE),this._buttonsContainer.appendChild(A)}}catch(t){E=!0,T=t}finally{try{O||null==L.return||L.return()}finally{if(E)throw T}}}a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this,e=["#333333","#de350b","#ff9604","#ffdf04","#20c820","#999999","#f266ff","#9966ff","#0052cc","#1ebef3"],n=["#40ff00","#fa00ff","#00f4ff","#fcff00","#ffbc00"];this._commonList=[],this._highlighterList=[];var r=function(e,n){var r=document.createElement("div");f.addClass(r,c.CLASS.TOOLBAR.SUBMENU_COLOR_ITEM),r.color=e,r.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.BUTTON_COLOR_BG,'"></div><div class="').concat(c.CLASS.TOOLBAR.BUTTON_COLOR,'"></div>');var o=n?c.HIGHLIGHTER_BUTTON_COLOR[e]:e,i=n?"#aaaaaa":e;f.css(r.firstElementChild,{"background-color":i}),f.css(r.lastElementChild,{"background-color":o});var a=t._getOnClickFun(r);return r.addEventListener("touchstart",a),r.addEventListener("mousedown",a),r};this._emptyContainer=document.createElement("div");for(var o=this._createSubmenuContainer(),i=0;i<e.length;i++){var a=e[i];this._commonList.push(r(a))}for(var s=0;s<n.length;s++){var u=n[s];this._highlighterList.push(r(u,!0))}return this._buttonsContainer=document.createElement("div"),f.addClass(this._buttonsContainer,"submenu_buttons_container"),o.appendChild(this._buttonsContainer),f.css(o,{width:"150px"}),o}},{key:"_getOnClickFun",value:function(t){var e=this;return function(n){e._anchorButton.color=t.color,e._onSelect(e._anchorButton.value),e.hide(),l.stopEvent(n,!0)}}},{key:"element",get:function(){return a(s(e.prototype),"element",this)}}])&&o(n.prototype,r),p&&o(n,p),e}();t.exports=p},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(25),p=n(40),y=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r)))._tools=t.tools,n._handler.onClick=function(t){n._onSelect(t)},n}var n,r,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,p),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;this.element;!!this._tools.eraserTool.clearFullPath?f.addClass(this._fullPathIcon,c.CLASS.ACTIVE):f.removeClass(this._fullPathIcon,c.CLASS.ACTIVE);var n=!0,r=!1,o=void 0;try{for(var i,u=this._lineList[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;l.lineWidth===t.lineWidth?f.addClass(l,c.CLASS.ACTIVE):f.removeClass(l,c.CLASS.ACTIVE)}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this,e=function(e){var n=document.createElement("div");n.lineWidth=e;var r={"min-width":e+"px"};f.css(n,r),n.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.BUTTON_ERASER,'" style="width:').concat(e,"px;height:").concat(e,'px"></div>'),f.addClass(n,c.CLASS.TOOLBAR.SUBMENU_ERASER_LINE_ITEM);var o=t._getOnClickFun(n);return n.addEventListener("touchstart",o),n.addEventListener("mousedown",o),n};this._lineList=[];var n=this._createSubmenuContainer();this._buttonsContainer=document.createElement("div"),f.addClass(this._buttonsContainer,"submenu_buttons_container"),n.appendChild(this._buttonsContainer),this._fullPathIcon=function(e,n){var r=document.createElement("div");r.innerHTML=e,r.clearFullPath=n,f.addClass(r,c.CLASS.TOOLBAR.SUBMENU_ICON),f.addClass(r,c.CLASS.TOOLBAR.BUTTON_ERASER_CLEAR);var o=t._getOnClickFun(r);return r.addEventListener("touchstart",o),r.addEventListener("mousedown",o),r}(h.path,!0),this._buttonsContainer.appendChild(this._fullPathIcon);var r=!0,o=!1,i=void 0;try{for(var a,s=c.TOOL_LINE_WIDTH.ERASER.list[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=e(a.value);this._buttonsContainer.appendChild(u),this._lineList.push(u)}}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"_getOnClickFun",value:function(t){var e=this;return function(n){e._handler.onClick(t),e.hide(),l.stopEvent(n,!0)}}},{key:"element",get:function(){return a(s(e.prototype),"element",this)}}])&&o(n.prototype,r),y&&o(n,y),e}();t.exports=y},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(40),p=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r)))._tools=t.tools,n}var n,r,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t,a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this._createSubmenuContainer(),e=c.LANG,n=document.createElement("ul"),r=document.createElement("li");return r.innerHTML='<span style="color:#de350b;">'.concat(e.ClearPage,"</span>"),n.appendChild(r),this._bind(c.ERASER_MENU.CLEAR_PAGE,r),(r=document.createElement("li")).innerHTML="<span>".concat(e.EraseHighlighterOnly,'</span><input type="checkbox" onclick="return false;" style="margin-left: 16px; float:right" />'),n.appendChild(r),this._eraseHighlighterOnlyFlag=r.lastElementChild,this._bind(c.ERASER_MENU.CLEAR_HIGHLIGHTER,r),this._changeEraseHighlighterOnlyFlag(),f.addClass(n,c.CLASS.TOOLBAR.SUBMENU_ITEM),t.appendChild(n),t}},{key:"_bind",value:function(t,e){var n=this,r=function(e){if(n._onSelect(t),t===c.ERASER_MENU.CLEAR_HIGHLIGHTER)return n._changeEraseHighlighterOnlyFlag(),void l.stopEvent(e);n.hide(),l.stopEvent(e,!0)};e.addEventListener("touchstart",r),e.addEventListener("mousedown",r)}},{key:"_changeEraseHighlighterOnlyFlag",value:function(){this._eraseHighlighterOnlyFlag.checked=this._tools.eraserTool.highlighterOnly}},{key:"element",get:function(){return a(s(e.prototype),"element",this)}}])&&o(n.prototype,r),p&&o(n,p),e}();t.exports=p},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(25),p=n(40),y=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r)))._tools=t.tools,n._handler.onClick=function(t){var e=n._tools.curTool.type,r=c.TOOL_LINE_WIDTH[e].list[t.index];n._anchorButton.lineWidth=r,n._onSelect(r)},n}var n,r,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,p),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;var n=this._tools.curTool.type,r=c.TOOL_LINE_WIDTH[n].list.indexOf(t.lineWidth);this.element;if(n===c.TOOL_TYPE.HIGHLIGHTER){var o=!0,i=!1,u=void 0;try{for(var l,h=this._pencilList[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var p=l.value;this._emptyContainer.appendChild(p)}}catch(t){i=!0,u=t}finally{try{o||null==h.return||h.return()}finally{if(i)throw u}}var y=!0,v=!1,d=void 0;try{for(var g,_=this._highlighterList[Symbol.iterator]();!(y=(g=_.next()).done);y=!0){var b=g.value;b.index===r?f.addClass(b,c.CLASS.ACTIVE):f.removeClass(b,c.CLASS.ACTIVE),this._buttonsContainer.appendChild(b)}}catch(t){v=!0,d=t}finally{try{y||null==_.return||_.return()}finally{if(v)throw d}}}else{var m=!0,w=!1,S=void 0;try{for(var x,O=this._highlighterList[Symbol.iterator]();!(m=(x=O.next()).done);m=!0){var E=x.value;this._emptyContainer.appendChild(E)}}catch(t){w=!0,S=t}finally{try{m||null==O.return||O.return()}finally{if(w)throw S}}var T=!0,C=!1,L=void 0;try{for(var A,k=this._pencilList[Symbol.iterator]();!(T=(A=k.next()).done);T=!0){var P=A.value;P.index===r?f.addClass(P,c.CLASS.ACTIVE):f.removeClass(P,c.CLASS.ACTIVE),this._buttonsContainer.appendChild(P)}}catch(t){C=!0,L=t}finally{try{T||null==k.return||k.return()}finally{if(C)throw L}}}a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this,e=c.TOOL_LINE_WIDTH.PENCIL_BUTTON_STROKE,n=c.TOOL_LINE_WIDTH.HIGHLIGHTER_BUTTON_STROKE;this._pencilList=[],this._highlighterList=[];var r=function(e,n,r){var o=document.createElement("div");o.innerHTML=e,o.index=r,f.addClass(o,c.CLASS.TOOLBAR.SUBMENU_ICON),f.addClass(o,c.CLASS.TOOLBAR.SUBMENU_LINE_ITEM),o.firstElementChild.firstElementChild.setAttribute("stroke-width",n);var i=t._getOnClickFun(o);return o.addEventListener("touchstart",i),o.addEventListener("mousedown",i),o};this._emptyContainer=document.createElement("div");var o=this._createSubmenuContainer(),i=0,a=!0,s=!1,u=void 0;try{for(var l,p=e[Symbol.iterator]();!(a=(l=p.next()).done);a=!0){var y=l.value;this._pencilList.push(r(h.lineWidthForPencil,y,i++))}}catch(t){s=!0,u=t}finally{try{a||null==p.return||p.return()}finally{if(s)throw u}}i=0;var v=!0,d=!1,g=void 0;try{for(var _,b=n[Symbol.iterator]();!(v=(_=b.next()).done);v=!0){var m=_.value;this._highlighterList.push(r(h.lineWidthForHighlighter,m,i++))}}catch(t){d=!0,g=t}finally{try{v||null==b.return||b.return()}finally{if(d)throw g}}return this._buttonsContainer=document.createElement("div"),f.addClass(this._buttonsContainer,"submenu_buttons_container"),o.appendChild(this._buttonsContainer),f.css(o,{width:"170px"}),o}},{key:"_getOnClickFun",value:function(t){var e=this;return function(n){e._handler.onClick(t),e.hide(),l.stopEvent(n,!0)}}},{key:"element",get:function(){return a(s(e.prototype),"element",this)}}])&&o(n.prototype,r),y&&o(n,y),e}();t.exports=y},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(25),p=n(40),y=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r))).stylusMode=!!r.stylusMode,n}var n,r,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,p),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;this.element;t._isSmallViewer?(f.removeClass(this._redo,c.CLASS.HIDE),f.removeClass(this._save,c.CLASS.HIDE)):(f.addClass(this._redo,c.CLASS.HIDE),f.addClass(this._save,c.CLASS.HIDE)),a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this._createSubmenuContainer(),e=c.LANG,n=document.createElement("ul");return this._redo=document.createElement("li"),this._redo.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.SUBMENU_LIST_ICON,'">').concat(h.redo,"</div><span>").concat(e.Redo,"</span>"),n.appendChild(this._redo),this._bind(c.MORE_MENU.REDO,this._redo),this.stylusModeLayer=document.createElement("li"),this.stylusModeLayer.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.SUBMENU_LIST_ICON,'">').concat(h.stylus,"</div><span>").concat(e.StylusMode,'</span><input type="checkbox" onClick="return false;" style="margin-left: 16px; float:right" />'),this.stylusModeCheckbox=this.stylusModeLayer.lastElementChild,n.appendChild(this.stylusModeLayer),this._bind(c.MORE_MENU.STYLUS_MODE,this.stylusModeLayer),this._changeStylusModeFlag(),(c.CLIENT_TYPE.isWin||c.CLIENT_TYPE.isMac||c.CLIENT_TYPE.isWeb)&&(this._save=document.createElement("li"),this._save.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.SUBMENU_LIST_ICON,'">').concat(h.save,"</div><span>").concat(e.SaveSvg,"</span>"),n.appendChild(this._save),this._bind(c.MORE_MENU.SAVE,this._save)),f.addClass(n,c.CLASS.TOOLBAR.SUBMENU_ITEM),t.appendChild(n),this.redoEnable=!1,t}},{key:"_bind",value:function(t,e){var n=this,r=function(e){n._onSelect(t),t!==c.MORE_MENU.REDO&&t!==c.MORE_MENU.STYLUS_MODE?(n.hide(),l.stopEvent(e,!0)):l.stopEvent(e)};e.addEventListener("touchstart",r),e.addEventListener("mousedown",r)}},{key:"_changeStylusModeFlag",value:function(){this.stylusModeCheckbox&&(this.stylusModeCheckbox.checked=this._stylusMode)}},{key:"redoEnable",set:function(t){t?f.removeClass(this._redo,c.CLASS.DISABLED):f.addClass(this._redo,c.CLASS.DISABLED)}},{key:"stylusMode",set:function(t){this._stylusMode=t,this._changeStylusModeFlag()}}])&&o(n.prototype,r),y&&o(n,y),e}();t.exports=y},function(t,e,n){},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(2),a=n(86),s=n(171),u=n(466),c=n(119),l=n(467),f=n(468),h=n(469),p=n(470),y=n(471),v="huawei",d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(472),this._controller=e,this.tools=this._controller.tools,this.toolsList=this.tools.list,this.lastBrush=this.tools.curTool,this.isSmallViewer=!1,this.isBottom=!1,this.isRecognizable=!1,this.pencilLineWidthRate=.8,this._toolbarImpl=new s(e),i.addClass(this.layer,v),(o.CLIENT_TYPE.isAndroid||o.CLIENT_TYPE.isIOS)&&(i.addClass(document.body,"toolbar-bottom"),this.isBottom=!0),this._initHandler(),this._initButtons(),this._updateToolbar(),this._bind()}var e,d,g;return e=t,(d=[{key:"destroy",value:function(){}},{key:"showMoreMenu",value:function(){this._moreBtn.showSubMenuForHelp()}},{key:"_bind",value:function(){this._unbind(),this._controller.event.addListener(o.EVENT.UNDO_REDO,this._handler.onUndoRedo),window.addEventListener("resize",this._handler.onResize)}},{key:"_unbind",value:function(){this._controller.event.removeListener(o.EVENT.UNDO_REDO,this._handler.onUndoRedo),window.removeEventListener("resize",this._handler.onResize)}},{key:"_checkViewMode",value:function(){this.isSmallViewer=!1}},{key:"_getToolbarOptions",value:function(){return{isSmallViewer:this.isSmallViewer,menuGroup:this._getMenuGroup()}}},{key:"_getMenuGroup",value:function(){var t,e=this.tools.curTool,n=e.toolData,r=e.properties,o=[];if(o.push([].concat(this._brushButtonList)),this.isBottom&&o[0].push(this._moreBtn),r.color){var i=n.color;i&&(e.toolbarButton.color=i.list[i.index])}return this._moreBtn.show(this.isSmallViewer),this.isBottom||(t=this.isSmallViewer?[this._undoBtn,this._moreBtn]:[this._undoBtn,this._redoBtn,this._moreBtn],o.push(t)),this._pluginButtons&&this._pluginButtons.length>0&&o.push(this._pluginButtons),o}},{key:"_initButtons",value:function(){var t=this;this._brushButtonList=[],this._colorAndLineWidthMenu=new h(this,{onSelect:this._handler.onSelectColorAndLineWidth});for(var e=null,n=null,r=0;r<this.toolsList.length;r++){var i=this.toolsList[r];if(i.type!==o.TOOL_TYPE.PENCIL){i.type===o.TOOL_TYPE.PEN&&(e=i);var s=this._handler.onSelectTool,v={type:i.type,onClick:s};if(i.type===o.TOOL_TYPE.PEN||i.type===o.TOOL_TYPE.HIGHLIGHTER?v.submenu=this._colorAndLineWidthMenu:i.type===o.TOOL_TYPE.ERASER&&(this._eraserMenu=new p(this,{onSelect:this._handler.onSelectEraserSubMenu}),v.submenu=this._eraserMenu),!i.toolbarButton&&(i.toolbarButton=new u(v),i.properties.color)){var d=i.toolData.color;i.toolbarButton.color=d.list[d.index]}this._brushButtonList.push(i.toolbarButton)}else n=i}n.toolbarButton=e.toolbarButton,this._undoBtn=new c({type:"undo",iconHtml:a.undo,onClick:this._handler.onClickUndo}),this._redoBtn=new c({type:"redo",iconHtml:a.redo,onClick:this._handler.onClickRedo}),this._moreMenu=new y(this,{onSelect:this._handler.onSelectMore,stylusMode:this._controller.stylusMode}),this._moreBtn=new l({submenu:this._moreMenu});var g=this._controller.getPluginButtons();g&&g.length>0&&(this._pluginButtons=[],g.forEach(function(e){var n=new f(e);t._pluginButtons.push(n)}))}},{key:"_initHandler",value:function(){var t=this;this._handler={onClickRedo:function(){t._controller.redo()},onClickUndo:function(){t._controller.undo()},onResize:function(){t._updateToolbar(),t._colorAndLineWidthMenu.hide(),t._eraserMenu.hide(),t._moreMenu.hide(),t._controller.event.call(o.EVENT.RESIZE)},onSelectColorAndLineWidth:function(e,n){e===o.COLOR_LINE_WIDTH_MENU.COLOR?t.tools.curTool.color=n:e===o.COLOR_LINE_WIDTH_MENU.LINE_WIDTH&&(t.tools.curTool.lineWidth=n,t.tools.curTool===t.tools.eraserTool&&(t.tools.eraserTool.clearFullPath=!1)),t._updateToolbar()},onSelectEraserSubMenu:function(e,n){e===o.ERASER_MENU.CLEAR_PAGE?t._controller.clearPage():e===o.ERASER_MENU.CLEAR_HIGHLIGHTER?t.tools.eraserTool.highlighterOnly=!t.tools.eraserTool.highlighterOnly:e===o.ERASER_MENU.LINE_WIDTH&&t._handler.onSelectLineWidth(n)},onSelectLineWidth:function(e){t.tools.curTool.lineWidth=e,t.tools.curTool===t.tools.eraserTool&&(t.tools.eraserTool.clearFullPath=!1),t._updateToolbar()},onSelectMore:function(e){e===o.MORE_MENU.REDO?t._handler.onClickRedo():e===o.MORE_MENU.STYLUS_MODE&&(t._controller.stylusMode=!t._controller.stylusMode,t._moreMenu.stylusMode=t._controller.stylusMode)},onSelectTool:function(e){if(e){var n,r=e===o.TOOL_TYPE.SHAPE;if(r?e=t._handler.onSetRecognizable():t.isRecognizable=!1,t.tools.curToolType=e,r&&t.lastBrush!==t.tools.curTool)t.tools.curTool.color={index:0,color:t.lastBrush.color},n=e===o.TOOL_TYPE.PENCIL?t.lastBrush.lineWidth*t.pencilLineWidthRate:t.lastBrush.lineWidth/t.pencilLineWidthRate,t.tools.curTool.lineWidth=n;t.tools.curTool.recognizable=t.isRecognizable,t._updateToolbar(),e!==o.TOOL_TYPE.ERASER&&(t.lastBrush=t.tools.curTool)}},onSetRecognizable:function(){return t.isRecognizable=!t.isRecognizable,t.tools.curTool.type===o.TOOL_TYPE.PEN||t.tools.curTool.type===o.TOOL_TYPE.PENCIL?t.isRecognizable?o.TOOL_TYPE.PENCIL:o.TOOL_TYPE.PEN:t.lastBrush.type},onUndoRedo:function(e){t._undoBtn.disabled=!e.canUndo,t._redoBtn.disabled=!e.canRedo,t._moreMenu.redoEnable=e.canRedo}}}},{key:"_updateToolbar",value:function(){var t=this;this._checkViewMode();var e=this.tools.curTool;this.toolsList.forEach(function(n){if(n.toolbarButton){if(n.type===o.TOOL_TYPE.PENCIL)return;n.type===o.TOOL_TYPE.SHAPE?n.toolbarButton.active=t.isRecognizable:n.type===o.TOOL_TYPE.PEN?n.toolbarButton.active=e.type===o.TOOL_TYPE.PEN||e.type===o.TOOL_TYPE.PENCIL:n.toolbarButton.active=n===e}}),this._toolbarImpl.update(this._getToolbarOptions())}},{key:"layer",get:function(){return this._toolbarImpl.layer}}])&&r(e.prototype,d),g&&r(e,g),t}();t.exports={Toolbar:d,initConst:function(){o.CLASS.TOOLBAR.BUTTON_ICON_COMMON="toolbar-btn-icon-common",o.CLASS.TOOLBAR.BUTTON_ICON_ACIVE="toolbar-btn-icon-active",o.TOOL_LINE_WIDTH.HIGHLIGHTER.list=[10,20,25,35,45],o.TOOL_LINE_WIDTH.PEN.list=[1,2,3,5,9],o.TOOL_LINE_WIDTH.PENCIL.list=[.8,1.6,2.4,4,7.2]}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(86),f=n(39),h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,a(e).call(this,t))).submenu=t.submenu,n.active=t.active||!1,n}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,(r=[{key:"destroy",value:function(){c.remove(this.element),this._element=null}},{key:"_createElement",value:function(){var t=this._createButtonContainer(),e="";switch(this.type){case u.TOOL_TYPE.PEN:e=l.pen+l.penActive;break;case u.TOOL_TYPE.HIGHLIGHTER:e=l.highlighter+l.highlighterActive;break;case u.TOOL_TYPE.ERASER:e=l.eraser+l.eraserActive;break;case u.TOOL_TYPE.SHAPE:e=l.shape+l.shape}return t.innerHTML=e,this._commonIcon=t.firstElementChild,this._commonIcon.setAttribute("class",u.CLASS.TOOLBAR.BUTTON_ICON_COMMON),this._activeIcon=t.lastElementChild,this._activeIcon.setAttribute("class",u.CLASS.TOOLBAR.BUTTON_ICON_ACIVE),t}},{key:"_showSubMenu",value:function(){return!(!this.active||!this._submenu)&&(this._submenu.show(this),!0)}},{key:"color",get:function(){return this._color},set:function(t){this._color=t}},{key:"active",get:function(){return this._active},set:function(t){this._active=t;var e=this.element;t?c.addClass(e,u.CLASS.ACTIVE):c.removeClass(e,u.CLASS.ACTIVE)}},{key:"value",get:function(){return this.type}},{key:"submenu",set:function(t){this._submenu=t}}])&&o(n.prototype,r),h&&o(n,h),e}();t.exports=h},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(1),n(2);var u=n(86),c=n(119),l=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.iconHtml=u.more,(n=i(this,a(e).call(this,t))).submenu=t.submenu,n}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,(r=[{key:"show",value:function(t){this._isSmallViewer=t}},{key:"showSubMenuForHelp",value:function(){var t=this;this._submenu.forbidAutoHide=!0,this._showSubMenu(),setTimeout(function(){t._submenu.forbidAutoHide=!1},3e3)}},{key:"_showSubMenu",value:function(){return this._submenu.show(this),!0}},{key:"submenu",set:function(t){this._submenu=t}}])&&o(n.prototype,r),l&&o(n,l),e}();t.exports=l},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(2),l=n(119),f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.type="plugin",i(this,s(e).call(this,t))}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,l),n=e,(r=[{key:"_createElement",value:function(){var t=a(s(e.prototype),"_createElement",this).call(this);return c.addClass(t,"plugin-button"),t}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(40),p=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r)))._tools=t.tools,n}var n,r,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;this.element;this._showLineWidth(),this._showColor(),a(s(e.prototype),"show",this).call(this)}},{key:"_showColor",value:function(){var t=this._tools.curTool.color;if(this._tools.curTool.type===c.TOOL_TYPE.HIGHLIGHTER){var e=!0,n=!1,r=void 0;try{for(var o,i=this._commonColorList[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this._emptyContainer.appendChild(a)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,u=!1,l=void 0;try{for(var h,p=this._highlighterColorList[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var y=h.value;y.color===t?f.addClass(y,c.CLASS.ACTIVE):f.removeClass(y,c.CLASS.ACTIVE),this._colorButtonsContainer.appendChild(y)}}catch(t){u=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(u)throw l}}}else{var v=!0,d=!1,g=void 0;try{for(var _,b=this._highlighterColorList[Symbol.iterator]();!(v=(_=b.next()).done);v=!0){var m=_.value;this._emptyContainer.appendChild(m)}}catch(t){d=!0,g=t}finally{try{v||null==b.return||b.return()}finally{if(d)throw g}}var w=!0,S=!1,x=void 0;try{for(var O,E=this._commonColorList[Symbol.iterator]();!(w=(O=E.next()).done);w=!0){var T=O.value;T.color===t?f.addClass(T,c.CLASS.ACTIVE):f.removeClass(T,c.CLASS.ACTIVE),this._colorButtonsContainer.appendChild(T)}}catch(t){S=!0,x=t}finally{try{w||null==E.return||E.return()}finally{if(S)throw x}}}}},{key:"_showLineWidth",value:function(){var t=this._tools.curTool.type,e=c.TOOL_LINE_WIDTH[t].list.indexOf(this._tools.curTool.lineWidth);if(t===c.TOOL_TYPE.HIGHLIGHTER){var n=!0,r=!1,o=void 0;try{for(var i,a=this._pencilLineWidthList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this._emptyContainer.appendChild(s)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var u=!0,l=!1,h=void 0;try{for(var p,y=this._highlighterLineWidthList[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var v=p.value;v.index===e?f.addClass(v,c.CLASS.ACTIVE):f.removeClass(v,c.CLASS.ACTIVE),this._lineWidthButtonsContainer.appendChild(v)}}catch(t){l=!0,h=t}finally{try{u||null==y.return||y.return()}finally{if(l)throw h}}}else{var d=!0,g=!1,_=void 0;try{for(var b,m=this._highlighterLineWidthList[Symbol.iterator]();!(d=(b=m.next()).done);d=!0){var w=b.value;this._emptyContainer.appendChild(w)}}catch(t){g=!0,_=t}finally{try{d||null==m.return||m.return()}finally{if(g)throw _}}var S=!0,x=!1,O=void 0;try{for(var E,T=this._pencilLineWidthList[Symbol.iterator]();!(S=(E=T.next()).done);S=!0){var C=E.value;C.index===e?f.addClass(C,c.CLASS.ACTIVE):f.removeClass(C,c.CLASS.ACTIVE),this._lineWidthButtonsContainer.appendChild(C)}}catch(t){x=!0,O=t}finally{try{S||null==T.return||T.return()}finally{if(x)throw O}}}}},{key:"_createElement",value:function(){var t=this._createSubmenuContainer();return this._emptyContainer=document.createElement("div"),this._createLineWidthElement(t),this._createColorElement(t),f.css(t,{width:"258px"}),t}},{key:"_createColorElement",value:function(t){var e=this,n=["#333333","#de350b","#ff9604","#ffdf04","#20c820","#999999","#f266ff","#9966ff","#0052cc","#1ebef3"],r=["#40ff00","#fa00ff","#00f4ff","#fcff00","#ffbc00"];this._commonColorList=[],this._highlighterColorList=[];for(var o=function(t,n,r){var o=document.createElement("div");f.addClass(o,c.CLASS.TOOLBAR.SUBMENU_COLOR_ITEM),o.color=n,o.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.BUTTON_COLOR_BG,'"></div><div class="').concat(c.CLASS.TOOLBAR.BUTTON_COLOR,'"></div>');var i=r?c.HIGHLIGHTER_BUTTON_COLOR[n]:n,a=r?"#aaaaaa":n;f.css(o.firstElementChild,{"background-color":a}),f.css(o.lastElementChild,{"background-color":i}),(t+1)%5==0&&f.addClass(o,"last");var s=e._getOnClickColorFun(o);return o.addEventListener("touchstart",s),o.addEventListener("mousedown",s),o},i=0;i<n.length;i++)this._commonColorList.push(o(i,n[i]));for(var a=0;a<r.length;a++)this._highlighterColorList.push(o(a,r[a],!0));this._colorButtonsContainer=document.createElement("div"),f.addClass(this._colorButtonsContainer,"submenu_buttons_container"),f.css(this._colorButtonsContainer,{margin:"0px 20px",padding:"20px 10px"}),t.appendChild(this._colorButtonsContainer)}},{key:"_createLineWidthElement",value:function(t){var e=this,n=c.TOOL_LINE_WIDTH.PEN.list,r=c.TOOL_LINE_WIDTH.HIGHLIGHTER.list;this._pencilLineWidthList=[],this._highlighterLineWidthList=[];var o=function(t,n){var r=document.createElement("div");t%2==1&&(t+=1),r.innerHTML='<div style="width:'.concat(t,"px;height:").concat(t,'px;"></div>'),r.index=n,f.addClass(r,c.CLASS.TOOLBAR.SUBMENU_LINE_ITEM);var o=e._getOnClickLineWidthFun(r);return r.addEventListener("touchstart",o),r.addEventListener("mousedown",o),r},i=0,a=!0,s=!1,u=void 0;try{for(var l,h=n[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var p=l.value;this._pencilLineWidthList.push(o(2*p,i++))}}catch(t){s=!0,u=t}finally{try{a||null==h.return||h.return()}finally{if(s)throw u}}i=0;var y=!0,v=!1,d=void 0;try{for(var g,_=r[Symbol.iterator]();!(y=(g=_.next()).done);y=!0){var b=g.value;this._highlighterLineWidthList.push(o(b/2.5,i++))}}catch(t){v=!0,d=t}finally{try{y||null==_.return||_.return()}finally{if(v)throw d}}this._lineWidthButtonsContainer=document.createElement("div"),f.addClass(this._lineWidthButtonsContainer,"submenu_buttons_container"),f.css(this._lineWidthButtonsContainer,{margin:"0px 20px",padding:"20px 10px"}),t.appendChild(this._lineWidthButtonsContainer)}},{key:"_getOnClickColorFun",value:function(t){var e=this;return function(n){e._anchorButton.color=t.color,e._onSelect(c.COLOR_LINE_WIDTH_MENU.COLOR,{index:0,color:t.color}),e.hide(),l.stopEvent(n,!0)}}},{key:"_getOnClickLineWidthFun",value:function(t){var e=this;return function(n){var r=e._tools.curTool.type,o=c.TOOL_LINE_WIDTH[r].list[t.index];e._anchorButton.lineWidth=o,e._onSelect(c.COLOR_LINE_WIDTH_MENU.LINE_WIDTH,o),e.hide(),l.stopEvent(n,!0)}}},{key:"element",get:function(){return a(s(e.prototype),"element",this)}}])&&o(n.prototype,r),p&&o(n,p),e}();t.exports=p},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(40),p=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r)))._tools=t.tools,n}var n,r,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;this.element;var n=!0,r=!1,o=void 0;try{for(var i,u=this._lineList[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;l.lineWidth===this._tools.curTool.lineWidth?f.addClass(l,c.CLASS.ACTIVE):f.removeClass(l,c.CLASS.ACTIVE)}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this._createSubmenuContainer(),e=c.LANG;this._createLineWidthElement(t);var n=document.createElement("ul"),r=document.createElement("li");return r.innerHTML='<span style="color:#de350b;">'.concat(e.ClearPage,"</span>"),n.appendChild(r),this._bind(c.ERASER_MENU.CLEAR_PAGE,r),(r=document.createElement("li")).innerHTML="<span>".concat(e.EraseHighlighterOnly,'</span><input type="checkbox" onclick="return false;" style="margin-left: 50px; float:right" />'),n.appendChild(r),this._eraseHighlighterOnlyFlag=r.lastElementChild,this._bind(c.ERASER_MENU.CLEAR_HIGHLIGHTER,r),this._changeEraseHighlighterOnlyFlag(),f.addClass(n,c.CLASS.TOOLBAR.SUBMENU_ITEM),t.appendChild(n),t}},{key:"_createLineWidthElement",value:function(t){var e=this,n=function(t,n){var r=document.createElement("div"),o=n/2;o%2==1&&(o+=1),r.innerHTML='<div style="width:'.concat(o,"px;height:").concat(o,'px;"></div>'),r.lineWidth=n,f.addClass(r,c.CLASS.TOOLBAR.SUBMENU_LINE_ITEM),(t+1)%3==0?f.css(r,{"margin-right":"0"}):f.css(r,{"margin-right":"50px"});var i=e._getOnClickLineWidthFun(n);return r.addEventListener("touchstart",i),r.addEventListener("mousedown",i),r};this._lineList=[],this._lineWidthButtonsContainer=document.createElement("div"),f.addClass(this._lineWidthButtonsContainer,"submenu_buttons_container"),f.css(this._lineWidthButtonsContainer,{margin:"0px 20px",padding:"20px 10px"}),t.appendChild(this._lineWidthButtonsContainer);for(var r=0;r<c.TOOL_LINE_WIDTH.ERASER.list.length;r++){var o=n(r,c.TOOL_LINE_WIDTH.ERASER.list[r]);this._lineWidthButtonsContainer.appendChild(o),this._lineList.push(o)}}},{key:"_bind",value:function(t,e){var n=this,r=function(e){if(n._onSelect(t),t===c.ERASER_MENU.CLEAR_HIGHLIGHTER)return n._changeEraseHighlighterOnlyFlag(),void l.stopEvent(e);n.hide(),l.stopEvent(e,!0)};e.addEventListener("touchstart",r),e.addEventListener("mousedown",r)}},{key:"_changeEraseHighlighterOnlyFlag",value:function(){this._eraseHighlighterOnlyFlag.checked=this._tools.eraserTool.highlighterOnly}},{key:"_getOnClickLineWidthFun",value:function(t){var e=this;return function(n){e._onSelect(c.ERASER_MENU.LINE_WIDTH,t),e.hide(),l.stopEvent(n,!0)}}},{key:"element",get:function(){return a(s(e.prototype),"element",this)}}])&&o(n.prototype,r),p&&o(n,p),e}();t.exports=p},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(7),f=n(2),h=n(86),p=n(40),y=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,s(e).call(this,t,r))).stylusMode=!!r.stylusMode,n}var n,r,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,p),n=e,(r=[{key:"show",value:function(t){this.anchorButton=t;this.element;t._isSmallViewer?f.removeClass(this._redo,c.CLASS.HIDE):f.addClass(this._redo,c.CLASS.HIDE),a(s(e.prototype),"show",this).call(this)}},{key:"_createElement",value:function(){var t=this._createSubmenuContainer(),e=c.LANG,n=document.createElement("ul");return this._redo=document.createElement("li"),this._redo.innerHTML='<div class="'.concat(c.CLASS.TOOLBAR.SUBMENU_LIST_ICON,'">').concat(h.redo,"</div><span>").concat(e.Redo,"</span>"),n.appendChild(this._redo),this._bind(c.MORE_MENU.REDO,this._redo),this.stylusModeLayer=document.createElement("li"),this.stylusModeLayer.innerHTML="<span>".concat(e.StylusMode,'</span><input type="checkbox" onClick="return false;" style="margin-left: 64px; float:right" />'),this.stylusModeCheckbox=this.stylusModeLayer.lastElementChild,n.appendChild(this.stylusModeLayer),this._bind(c.MORE_MENU.STYLUS_MODE,this.stylusModeLayer),this._changeStylusModeFlag(),f.addClass(n,c.CLASS.TOOLBAR.SUBMENU_ITEM),t.appendChild(n),this.redoEnable=!1,t}},{key:"_bind",value:function(t,e){var n=this,r=function(e){n._onSelect(t),t!==c.MORE_MENU.REDO&&t!==c.MORE_MENU.STYLUS_MODE?(n.hide(),l.stopEvent(e,!0)):l.stopEvent(e)};e.addEventListener("touchstart",r),e.addEventListener("mousedown",r)}},{key:"_changeStylusModeFlag",value:function(){this.stylusModeCheckbox&&(this.stylusModeCheckbox.checked=this._stylusMode)}},{key:"redoEnable",set:function(t){t?f.removeClass(this._redo,c.CLASS.DISABLED):f.addClass(this._redo,c.CLASS.DISABLED)}},{key:"stylusMode",set:function(t){this._stylusMode=t,this._changeStylusModeFlag()}}])&&o(n.prototype,r),y&&o(n,y),e}();t.exports=y},function(t,e,n){},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),i=n(84),a=n(474),s=n(477),u=n(487),c=n(489),l=n(490),f=o.STORAGE.PRE+"_cur_brush",h=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._curToolType=i.get(f),this._map={},this._map[o.TOOL_TYPE.PEN]=new a,this._map[o.TOOL_TYPE.PENCIL]=new s,this._map[o.TOOL_TYPE.HIGHLIGHTER]=new u,this._map[o.TOOL_TYPE.ERASER]=new c,this._map[o.TOOL_TYPE.SHAPE]=new l,this._map[this._curToolType]||(this._curToolType=e?o.TOOL_TYPE.PENCIL:o.TOOL_TYPE.PEN);var r=Object.keys(this._map);this._list=r.map(function(t){var e=n._map[t];return e.initToolData(),e})}var e,n,h;return e=t,(n=[{key:"getToolByType",value:function(t){return this._map[t]}},{key:"list",get:function(){return this._list}},{key:"curTool",get:function(){var t=this._map[this._curToolType];return t||(t=this._map[o.TOOL_TYPE.PENCIL]),t}},{key:"curToolType",set:function(t){this._curToolType=t,t!==o.TOOL_TYPE.ERASER&&i.set(f,t)}},{key:"eraserTool",get:function(){return this._map[o.TOOL_TYPE.ERASER]}}])&&r(e.prototype,n),h&&r(e,h),t}();t.exports=h},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(172),l=n(475),f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=i(this,a(e).call(this))).type=u.TOOL_TYPE.PEN,t.data=null,t}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,(r=[{key:"start",value:function(t){var e={color:this.color,lineWidth:this.lineWidth,opacity:this.opacity};return this.data=new l(null,e),this.data.addPoint(t),this.data}},{key:"move",value:function(t){this.data&&this.data.addPoint(t)}},{key:"end",value:function(t){this.data&&this.data.end(t);var e=this.data;return this.data=null,e}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(13),l=n(1),f=(n(7),n(65)),h=n(2),p=n(21),y=n(41),v=n(120),d=n(30),g=n(22),_=n(174),b=n(121),m=l.DATA_TYPE.INK,w=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,s(e).call(this,n)))._type=m,r._paths=t||[],r._orgPoints=[],r._simplifiedPoints=null,r._pointIdIndex=1,t&&1===t.length&&1===t[0].points.length&&c(!1,"invalid ink data"),void 0!==n.autoCorrectLines?r._autoCorrectLines=n.autoCorrectLines:r._autoCorrectLines=!0,r._options.lineWidthWeight=l.BROWSER.isIPad?1:1.2,r._options.tolerance=l.BROWSER.isIPad?1:.5,r}var n,r,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,y),n=e,g=[{key:"fromOriginalData",value:function(t){return new e(t.paths,t)}},{key:"fromSvgElement",value:function(t){var n=Array.from(t.childNodes),r=null,o=n.map(function(t){return{lineWidth:(r=h.fromSvgPath(t)).lineWidth,points:r.points}});return r?new e(o,{color:t.getAttribute("stroke")||r.color,opacity:r.opacity}):new e([],{})}}],(r=[{key:"addPoint",value:function(t){var e=this;if(this.svgElement){this._bound=null;var n=this._createPoint(t.x,t.y,0,t.force);n.id=this._pointIdIndex++,this._orgPoints.push(n);var r=Object.assign({},this._options);r.minWidth=.5*(this._options.lineWidth||1),r.maxWidth=1.5*(this._options.lineWidth||1),r.correctLines=this._autoCorrectLines,_(this._orgPoints,r,this._simplifiedPoints,function(t){var n=t.paths,r=t.simplifiedPoints;e._simplifiedPoints=r,e._updatePaths(n)})}}},{key:"end",value:function(t){}},{key:"_createSvgElement",value:function(){var t=h.createSvgElement("g",m);if(t.setAttributeNS(null,"stroke",this.color),t.setAttributeNS(null,"stroke-linecap","round"),t.setAttributeNS(null,"stroke-linejoin","round"),t.setAttributeNS(null,"fill","none"),this._paths.length>0)for(var e=0;e<this._paths.length;e++){var n=this._paths[e],r=e<this._paths.length-1&&this._paths[e+1],o=n.points.concat();if(r){var i=o[o.length-1],a=r.points[0];i!==a&&o.push(Object.assign({},a))}var s=document.createElementNS(l.SVG_NS,"path");s.setAttributeNS(null,"d",h.getSvgPathFromPoints(o)),s.setAttributeNS(null,"stroke-width",p.toFixed(n.lineWidth)),t.appendChild(s)}return t}},{key:"_updatePaths",value:function(t){for(var e=this._svgElement.children,n=0;n<e.length;n++){var r=e[n];if(n>=t.length)this._svgElement.removeChild(r);else{var o=r.getAttribute("d"),i=r.getAttribute("stroke-width"),a=t[n],s=h.getSvgPathFromPoints(a.points),u=p.toFixed(a.lineWidth);o===s&&i===u||(r.setAttributeNS(null,"d",s),r.setAttribute("stroke-width",u))}}for(;n<t.length;n++){var c=t[n],f=document.createElementNS(l.SVG_NS,"path");f.setAttributeNS(null,"d",h.getSvgPathFromPoints(c.points)),f.setAttributeNS(null,"stroke-width",p.toFixed(c.lineWidth)),this._svgElement.appendChild(f)}this._paths=t}},{key:"split",value:function(t,n,r,i){for(var a=this,s=function(t){return new e(t=t.filter(function(t){return t.points.length>0}),a._options)},u=[],c=function(t){var e=a._paths[t];e.points.forEach(function(t){return t.path=e}),u.push.apply(u,o(e.points))},l=0;l<this._paths.length;l++)c(l);var h=f.splitPath(u,t,n,r,this.lineWidth,i);if(!h)return null;var p=[],y=!0,v=!1,d=void 0;try{for(var g,_=h[Symbol.iterator]();!(y=(g=_.next()).done);y=!0){var b=g.value;if(0===b.length)return;var m=b[0],w=m.path,S=[m],x=[];for(l=1;l<b.length;l++){var O=b[l];O.path===w?(delete O.path,S.push(O)):(1===S.length?(S.push(Object.assign({},S[0])),x.push({points:S,lineWidth:w.lineWidth})):x.push({points:S,lineWidth:w.lineWidth}),S=[O],w=O.path,delete O.path)}1===S.length?(S.push(Object.assign({},S[0])),x.push({points:S,lineWidth:w.lineWidth})):x.push({points:S,lineWidth:w.lineWidth});var E=s(x);p.push(E)}}catch(t){v=!0,d=t}finally{try{y||null==_.return||_.return()}finally{if(v)throw d}}return p}},{key:"recognize",value:function(){if(this._autoCorrectLines)return null;var t=Object.assign({},this._options);t.minWidth=.5*(this._options.lineWidth||1),t.maxWidth=1.5*(this._options.lineWidth||1),t.correctLines=!0;var n=b(this._orgPoints,t).paths;return n?{shapes:[new e(n,Object.assign(this._options,{srcDataId:this.id}))]}:null}},{key:"_createPoint",value:function(t,e,n,r){return new v(t,e,n||(new Date).getTime(),r)}},{key:"drawOnCanvas",value:function(t){t.strokeStyle=this._color,this._paths.forEach(function(e){t.beginPath(),t.lineWidth=e.lineWidth;var n=e.points;if(0!=n.length){t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.stroke()}})}},{key:"originalData",get:function(){var t=this._paths.map(function(t){return{points:t.points.map(function(t){return{x:t.x,y:t.y}}),lineWidth:t.lineWidth}});return{type:this._type,paths:t,color:this._options.color,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){if(this._bound)return this._bound;var t=[],e=[];this._paths.forEach(function(n){var r=n.points;t=t.concat(r.map(function(t){return t.x})),e=e.concat(r.map(function(t){return t.y}))});var n=Math.min.apply(Math,o(e)),r=Math.min.apply(Math,o(t)),i=Math.max.apply(Math,o(e)),a=Math.max.apply(Math,o(t));return this._bound=new d(n,r,i,a),this._bound}}])&&i(n.prototype,r),g&&i(n,g),e}();t.exports=w,g.registerData(m,w)},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var i=n(120),a=function(){function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startPoint=e,this.control1=n,this.control2=r,this.endPoint=o,this.startWidth=i,this.endWidth=a}return o(t,null,[{key:"fromPoints",value:function(e,n){var r=this.calculateControlPoints(e[0],e[1],e[2]).c2,o=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],r,o,e[2],n.start,n.end)}},{key:"calculateControlPoints",value:function(t,e,n){var r=t.x-e.x,o=t.y-e.y,a=e.x-n.x,s=e.y-n.y,u=(t.x+e.x)/2,c=(t.y+e.y)/2,l=(e.x+n.x)/2,f=(e.y+n.y)/2,h=Math.sqrt(r*r+o*o),p=Math.sqrt(a*a+s*s),y=p/(h+p),v=l+(u-l)*y,d=f+(c-f)*y,g=e.x-v,_=e.y-d;return{c1:new i(u+g,c+_),c2:new i(l+g,f+_)}}}]),o(t,[{key:"length",value:function(){for(var t,e,n=0,r=0;r<=10;r+=1){var o=r/10,i=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=i-t,u=a-e;n+=Math.sqrt(s*s+u*u)}t=i,e=a}return n}},{key:"point",value:function(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}}]),t}();t.exports=a},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(122),l=n(486),f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=i(this,a(e).call(this))).type=u.TOOL_TYPE.PENCIL,t}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,(r=[{key:"dataObj",get:function(){return l}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(21),a=n(30),s=n(87),u=n(479),c=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._lastShapes=[],this._lineWidth=1}var e,n,c;return e=t,(n=[{key:"recognize",value:function(t,e,n){this._lineWidth=n||1;var r=this._getEllipse(t),o=this._getCircle(t),i=this._getLine(t),a=this._getPolygon(t),s=this._getCurve(t),c=this._getScribble(t),l=this._getArrow(t),f=this._getVertex(t);a&&a.regular&&(o=null,r=null),o&&(r=null,a=null),r&&(a=null),i&&(s=null,a=null),l&&(r=null,o=null,i=null,a=null,s=null,f=null),f&&(a=null,s=null,f.center.x<100&&f.center.y<100&&u());var h={ellipse:r,circle:o,line:i,polygon:a,curve:s,arrow:l,vertex:f,scribble:c};return Object.values(h).forEach(function(t){t&&(t.srcDataId=e)}),this._lastShapes.push(h),this._lastShapes.length>3&&this._lastShapes.shift(),h}},{key:"_isSameLine",value:function(t,e,n){return i.getAngle(t,e,n)>=165}},{key:"_getPolygon",value:function(t){var e=this;if(t.length<3)return null;if(3==t.length)return{points:t};for(var n=t[0],r=t[t.length-1],o=!1,a=s(t,1,!0),u=0;u<a.length-2;u++){var c=a[u],l=a[u+1],f=a[u+2];i.getAngle(c,l,f)<120&&(o=!0)}if(!o)return null;t=(t=s(t,7,!1)).concat([]);var h=function(){for(var n=t.length-3;n>=0;n--){var r=t[n+2],o=t[n+1],i=t[n];e._isSameLine(i,o,r)&&t.splice(n+1,1)}},p=function(e,n){for(var r=t.length-3;r>=0;r--){var o=t[r+2],a=t[r+1],s=t[r],u=i.getAngle(s,a,o),c=i.getDistance(s,a),l=i.getDistance(a,o);(c<e||l<e)&&u>n&&t.splice(r+1,1)}};h(),p(10,140),h();var y=!1;i.getDistance(n,r)<40&&(t[t.length-1]=n,y=!0,h(),p(30,130),h(),t.splice(t.length-1),t.length<=8&&p(1e7,140));var v=!1,d=!1;if(y){var g=this._getRegularPolygon(t);g&&(v=!0,t=g);var _=this._getPentagram(t);_&&(t=_,d=!0)}return{points:t,closed:y,regular:v,pentagram:d}}},{key:"_analyzePolygon",value:function(t){for(var e=1e5,n=-1,r=0;r<t.length;r++){var o=t[r];o.x<e&&(e=o.x,n=r)}var a,s,u,c=t[n];a=n<t.length-1?t[n+1]:t[0],s=n>0?t[n-1]:t[t.length-1],u=a.y>s.y?a:s;var l={x:1e7,y:c.y},f=i.getAngle(l,c,u);return u.y>l.y&&(f=360-f),f<10?f=0:f>80&&f<100?f=90:f>170&&f<190?f=180:f>260&&f<280?f=270:f>350&&(f=0),{fromPointIndex:n,fromPoint:c,rotation:f}}},{key:"_getRegularPolygon",value:function(t){var e=t.length;if(e<3)return null;for(var n=180-360/e,r=0,o=0;o<e;o++){var a=void 0,s=void 0,u=void 0;o<e-2?(a=t[o],s=t[o+1],u=t[o+2]):o<e-1?(a=t[o],s=t[o+1],u=t[0]):(a=t[o],s=t[0],u=t[1]);var c=i.getAngle(a,s,u);if(Math.abs(n-c)/n>.25)return null;r+=i.getDistance(a,s)}for(var l=r/e,f=0;f<e;f++){var h=void 0,p=void 0;f<e-1?(h=t[f],p=t[f+1]):(h=t[f],p=t[0]);var y=i.getDistance(h,p);if(Math.abs(y-l)/l>.3)return null}for(var v=this._analyzePolygon(t),d=v.fromPoint,g=v.rotation,_=[d],b=d,m=0;m<e-1;m++){var w=i.getPointByAngle(g+360/e*m+90,b,l);_.push(w),b=w}return _}},{key:"_getPentagram",value:function(t){var e=t.length;if(5!=e)return null;for(var n=0,r=0;r<e;r++){var o=void 0,a=void 0,s=void 0;if(r<e-2?(o=t[r],a=t[r+1],s=t[r+2]):r<e-1?(o=t[r],a=t[r+1],s=t[0]):(o=t[r],a=t[0],s=t[1]),i.getAngle(o,a,s)>60)return null;n+=i.getDistance(o,a)}for(var u=n/5,c=this._analyzePolygon(t),l=c.rotation,f=c.fromPoint,h=[f],p=f,y=0;y<e-1;y++){var v=i.getPointByAngle(l+720/e*y+90,p,u);h.push(v),p=v}return h}},{key:"_getCurve",value:function(t){if(t.length<10)return null;var e=!0,n=s(t,7,!1);if(n.length<3)return null;for(var r=0;r<n.length-2;r++){var o=n[r],a=n[r+1],u=n[r+2];i.getAngle(o,a,u)<100&&(e=!1)}if(!e)return null;var c=t[0],l=t[t.length-1];return i.getDistance(c,l)<20?null:{points:t}}},{key:"_getLine",value:function(t){if(t.length<3)return null;for(var e=(t=s(t,5,!1))[0],n=t[t.length-1],r=1;r<t.length-1;r++){var o=t[r];if(!this._isSameLine(e,o,n)){var a=i.getDistance(e,o),u=i.getDistance(o,n);if(a>30&&u>30)return null}}var c={x:e.x,y:e.y-i.getDistance(e,n)},l=i.getAngle(c,e,n);if(Math.abs(l)<=5)n.x=e.x;else if(Math.abs(l-90)<=5)n.y=e.y;else if(Math.abs(l-180)<=5)n.x=e.x;else if(Math.abs(Math.abs(l)-135)<=5||Math.abs(Math.abs(l)-45)<=5){var f=i.getDistance(e,n),h=Math.sqrt(f*f/2);n.x<e.x?n.x=e.x-h:n.x=e.x+h,n.y<e.y?n.y=e.y-h:n.y=e.y+h}return{start:{x:t[0].x,y:t[0].y},end:{x:t[t.length-1].x,y:t[t.length-1].y}}}},{key:"_getCircle",value:function(t){if(t.length<10)return null;var e=t[0],n=t[t.length-1];if(i.getDistance(e,n)>50)return null;var o=(t=s(t,5,!1)).map(function(t){return t.x}),u=t.map(function(t){return t.y}),c=Math.min.apply(Math,r(u)),l=Math.min.apply(Math,r(o)),f=Math.max.apply(Math,r(u)),h=Math.max.apply(Math,r(o)),p=new a(c,l,f,h);if(p.width<20&&p.height<20){var y=p.center,v=(p.width+p.height)/4;return v<2?null:{center:y,radius:v}}for(var d=0;d<t.length-2;d++){var g=t[d],_=t[d+1],b=t[d+2];if(i.getAngle(g,_,b)<110)return null}for(var m,w,S=0,x=0;x<t.length;x++)for(var O=t[x],E=0;E<t.length;E++){var T=t[E];if(x!=E){var C=Math.sqrt(Math.pow(O.x-T.x,2)+Math.pow(O.y-T.y,2));C>S&&(S=C,m=O,w=T)}}if(S<5)return null;for(var L=S/2,A=(m.x+w.x)/2,k=(m.y+w.y)/2,P={x:A,y:k},M=0;M<t.length;M++){var I=t[M],j=Math.sqrt(Math.pow(I.x-A,2)+Math.pow(I.y-k,2));if(Math.abs(j-L)>L/3)return null}return{center:P,radius:L*=.9}}},{key:"_getEllipse",value:function(t){if(t.length<10)return null;var e=(t=s(t,5,!1))[0],n=t[t.length-1];if(i.getDistance(e,n)>50)return null;for(var r=0;r<t.length-2;r++){var o=t[r],a=t[r+1],u=t[r+2];if(i.getAngle(o,a,u)<105)return null}for(var c,l,f=0,h=0;h<t.length;h++)for(var p=t[h],y=0;y<t.length;y++){var v=t[y];if(h!=y){var d=Math.sqrt(Math.pow(p.x-v.x,2)+Math.pow(p.y-v.y,2));d>f&&(f=d,c=p,l=v)}}if(f<5)return null;for(var g=f/2,_={x:(c.x+l.x)/2,y:(c.y+l.y)/2},b=1e8,m=0;m<t.length;m++){var w=t[m],S=i.getDistance(w,_);S<b&&(b=S)}if(b<10)return null;var x=c;return l.y>c.y&&(x=l),{center:_,radiusX:g,radiusY:b,rotation:i.getAngle(x,_,{x:1e9,y:_.y})*(Math.PI/180),p:x}}},{key:"_getScribble",value:function(t){for(var e=(t=s(t,7,!1)).length-3;e>=0;e--){var n=t[e],r=t[e+1],o=t[e+2];i.getAngle(n,r,o)>150&&t.splice(e+1,1)}for(var a=0,u=0,c=0;c<t.length-2;c++){var l=t[c],f=t[c+1],h=t[c+2];i.getAngle(l,f,h)<30&&u++,a++}return a>5&&u/a>.8?{points:t}:null}},{key:"_getVertex",value:function(t){for(var e=(t=s(t,5,!1)).length-3;e>=0;e--){var n=t[e],r=t[e+1],o=t[e+2];i.getAngle(n,r,o)>150&&t.splice(e+1,1)}if(3!=t.length)return null;var a=t[0],u=t[1],c=t[2],l=i.getAngle(a,u,c),f=i.getDistance(a,u),h=i.getDistance(c,u);return f<5||h<5?null:h/f>5?null:f/h>5?null:{start:a,center:u,end:c,angle:l}}},{key:"_getArrow",value:function(t){if(0==this._lastShapes.length)return null;var e=this._lastShapes[this._lastShapes.length-1],n=null,r=null,o=null;if(e.line?(n=e.line,r=this._getVertex(t),o=n):e.vertex&&(n=this._getLine(t),o=r=e.vertex),!n||!r)return this._getArrowBy3Lines(t);var a=r,s=a.start,u=a.center,c=a.end;if(a.angle>150)return null;var l=i.getDistance(n.start,u),f=i.getDistance(n.end,u);if(l>100&&f>100)return null;var h=!1;if(l<f&&(h=!0),i.getAngle(s,u,h?n.end:n.start)+i.getAngle(c,u,h?n.end:n.start)>150)return null;var p=h;return{paths:this._createArrowPathsFromLine(n,p),extraSrcDataId:[o.srcDataId]}}},{key:"_getArrowBy3Lines",value:function(t){if(this._lastShapes.length<2)return null;var e=this._lastShapes[this._lastShapes.length-1],n=this._lastShapes[this._lastShapes.length-2];if(!e.line||!n.line)return null;var r=this._getLine(t);if(!r)return null;var o=Object.assign({},e.line),a=Object.assign({},n.line),s=i.getDistance(o.start,o.end),u=i.getDistance(a.start,a.end),c=i.getDistance(r.start,r.end);if(s<5||u<5||c<5)return null;var l=Math.round(Math.max(s,u,c));if(l!=Math.round(s)&&l/s<3)return null;if(l!=Math.round(u)&&l/u<3)return null;if(l!=Math.round(c)&&l/c<3)return null;if(c>40&&s>40&&u>40)return null;for(var f=[Object.assign({},o.start,{centerPoint:o.end,line:o,swap:!1}),Object.assign({},a.start,{centerPoint:a.end,line:a,swap:!1}),Object.assign({},r.start,{centerPoint:r.end,line:r,swap:!1}),Object.assign({},o.end,{centerPoint:o.start,line:o,swap:!0}),Object.assign({},a.end,{centerPoint:a.start,line:a,swap:!0}),Object.assign({},r.end,{centerPoint:o.start,line:r,swap:!0})],h=0,p=null,y=null,v=!1,d=0;d<f.length;d++){for(var g=f[d],_=0,b=0;b<f.length;b++){var m=f[b];_+=i.getDistance(g,m)}_>h&&(h=_,p=g.centerPoint,y=g.line,v=g.swap)}for(var w=0;w<f.length;w++){var S=f[w];if(!S.line.tested)i.getDistance(p,S)<30&&(S.line.tested=!0)}for(var x=0;x<f.length;x++){if(!f[x].line.tested)return null}return{paths:this._createArrowPathsFromLine(y,v),extraSrcDataId:[o.srcDataId,a.srcDataId]}}},{key:"_createArrowPathsFromLine",value:function(t,e){var n=Object.assign(t);if(e){var r=n.start;n.start=n.end,n.end=r}var o,a=n.end;a.x===n.start.x?o=a.y>n.start.y?90:270:a.y===n.start.y?o=a.x>n.start.x?180:0:(o=i.getAngle(n.start,a,{x:1e5,y:a.y}),n.end.y<n.start.y&&(o=360-o));var s=(o+=90)-30,u=o+30,c=Math.max(3*this._lineWidth,10),l=i.getPointByAngle(s,a,c),f=i.getPointByAngle(u,a,c);return[{points:[n.start,n.end]},{points:[l,a,f]}]}}])&&o(e.prototype,n),c&&o(e,c),t}());t.exports=function(t,e,n){return c.recognize(t,e,n)}},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function r(){var t;return t=regeneratorRuntime.mark(function t(){var e,n,r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.getElementsByClassName("wiz-svg-base")[0],"//note.wiz.cn/recognition/recognize",n={lang:"zh_cn",svg:e.outerHTML},t.next=5,window.fetch("//note.wiz.cn/recognition/recognize",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return r=t.sent,t.next=8,r.json();case 8:o=t.sent,i=o.result,(a=i.result)&&a.forEach(function(t){var n=t.bound,r=t.text,o=n.split(","),i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"rect");a.setAttribute("x",o[0]),a.setAttribute("y",o[1]),a.setAttribute("width",Number.parseInt(o[2])-o[0]),a.setAttribute("height",Number.parseInt(o[3])-o[1]),a.setAttribute("style","fill:none;stroke-width:1;stroke:red"),e.appendChild(a);var s=document.createElementNS(i,"text");s.setAttribute("x",o[0]),s.setAttribute("y",o[1]),s.setAttribute("fill","red"),s.textContent=r,e.appendChild(s)});case 12:case"end":return t.stop()}},t,this)}),(r=function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,u,"next",t)}function u(t){n(a,o,i,s,u,"throw",t)}s(void 0)})}).apply(this,arguments)}t.exports=function(){return r.apply(this,arguments)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(41),l=n(30),f=n(21),h=n(2),p=n(177),y=n(22),v=u.DATA_TYPE.CIRCLE,d=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=i(this,a(e).call(this,r)))._type=v,o._center=t,o._radius=n,o}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,u=[{key:"fromOriginalData",value:function(t){return new e(t.center,t.radius,t)}},{key:"fromSvgElement",value:function(t){return new e({x:parseFloat(t.getAttribute("cx")),y:parseFloat(t.getAttribute("cy"))},parseFloat(t.getAttribute("r")),{color:t.getAttribute("stroke"),lineWidth:parseFloat(t.getAttribute("stroke-width")),opacity:parseFloat(t.getAttribute("stroke-opacity")),bottomMost:!!t.getAttribute("bottom-most")})}}],(r=[{key:"_createSvgElement",value:function(){var t=this._center,e=this._radius,n=h.createSvgElement("circle",v);return n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r",e),n.setAttribute("stroke",this.color),n.setAttribute("stroke-width",this.lineWidth),n.setAttribute("fill","none"),n.setAttributeNS(null,"stroke-opacity",this.opacity),this.bottomMost&&n.setAttribute("bottom-most",this.bottomMost),n}},{key:"split",value:function(t,e,n,r){var o=this,i=this._center,a=this._radius,s=f.radiansToDegrees(0),u=f.radiansToDegrees(2*Math.PI);if(s>u){var c=s;s=u,u=c}for(var l=4*this._radius,h=360/l,y=Math.round(s/360*l),v=Math.round(u/360*l),d=h*y+60,g=h*v+60,_=[],b=y;b<=v;b++){var m=h*b+60,w=m*(Math.PI/180),S={x:i.x+a*Math.sin(w),y:i.y+a*Math.cos(w)};if(f.getDistance(t,S)>n/2)if(f.getDistance(e,S)>n/2)if(f.getAngle(t,S,e)<179)continue;if(r)return[];var x=n/2/f.getDistance(S,i),O=Math.atan(x),E=f.radiansToDegrees(O),T={center:i,radius:a,startAngle:d,endAngle:m-E};_.push(T),d=T.endAngle+E}if(0===_.length)return null;var C={center:i,radius:a,startAngle:d,endAngle:g};_.push(C),_=_.filter(function(t){return t.endAngle-t.startAngle>3});var L=[];return _.forEach(function(t){var e=f.degreesToRadians(t.startAngle-60),n=f.degreesToRadians(t.endAngle-60),r=new p(t.center,o._radius,o._radius,0,e,n,o._options);L.push(r)}),L}},{key:"drawOnCanvas",value:function(t){t.beginPath(),t.lineWidth=this._lineWidth,t.strokeStyle=this._color,t.circle(this._center.x,this._center.y,this._radius),t.stroke()}},{key:"originalData",get:function(){return{type:this._type,center:this._center,radius:this._radius,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){var t=this._center;return new l(t.y-this._radius,t.x-this._radius,t.y+this._radius,t.x+this._radius)}}])&&o(n.prototype,r),u&&o(n,u),e}();t.exports=d,y.registerData(v,d)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(21),l=n(2),f=n(177),h=n(22),p=u.DATA_TYPE.ELLIPSE,y=function(t){function e(t,n,r,o,s){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=i(this,a(e).call(this,t,n,r,o,0,2*Math.PI,s)))._type=p,u}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,u=[{key:"fromOriginalData",value:function(t){return new e(t.center,t.radiusX,t.radiusY,t.rotation,t)}},{key:"fromSvgElement",value:function(t){var n=0,r=t.getAttribute("transform");if(r&&r.startsWith("rotate(")){var o=(r=r.substr(7)).split(",");3===o.length&&(n=parseFloat(o[0]))}var i=parseFloat(t.getAttribute("cx")),a=parseFloat(t.getAttribute("cy")),s=parseFloat(t.getAttribute("rx")),u=parseFloat(t.getAttribute("ry")),l=t.getAttribute("stroke"),f=parseFloat(t.getAttribute("stroke-width")),h=parseFloat(t.getAttribute("stroke-opacity")),p=!!t.getAttribute("bottom-most");return new e({x:i,y:a},s,u,c.degreesToRadians(n),{color:l,lineWidth:f,opacity:h,bottomMost:p})}}],(r=[{key:"_createSvgElement",value:function(){var t=c.radiansToDegrees(this._rotation),e=this._center,n=l.createSvgElement("ellipse",p);return n.setAttribute("transform","rotate(".concat(t,",").concat(e.x,",").concat(e.y,")")),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("rx",this._radiusX),n.setAttribute("ry",this._radiusY),n.setAttribute("stroke-width",this.lineWidth),n.setAttribute("stroke",this.color),n.setAttribute("fill","none"),n.setAttributeNS(null,"stroke-opacity",this.opacity),this.bottomMost&&n.setAttribute("bottom-most",this.bottomMost),n}},{key:"drawOnCanvas",value:function(t){t.beginPath(),t.lineWidth=this._lineWidth,t.strokeStyle=this._color,t.ellipse(this._center.x,this._center.y,this._radiusX,this._radiusY,this._rotation),t.stroke()}},{key:"originalData",get:function(){return{type:this._type,center:this._center,radiusX:this._radiusX,radiusY:this._radiusY,rotation:this._rotation,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}}])&&o(n.prototype,r),u&&o(n,u),e}();t.exports=y,h.registerData(p,y)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(13),f=n(65),h=n(30),p=n(2),y=n(41),v=n(22),d=c.DATA_TYPE.PATH,g=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,s(e).call(this,n)))._type=d,l(2===t.length),r._points=t,r}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,y),n=e,c=[{key:"fromOriginalData",value:function(t){return new e(t.points,t)}},{key:"fromSvgElement",value:function(t){var n=p.fromSvgPath(t);return new e(n.points,n)}}],(r=[{key:"_createSvgElement",value:function(){return 0===this._points.length?null:p.createPath({d:p.getSvgPathFromPoints(this._points),color:this.color,lineWidth:this.lineWidth,opacity:this.opacity,bottomMost:this.bottomMost},d)}},{key:"split",value:function(t,n,r,o){var i=this,a=f.splitPath(this._points,t,n,r,this.lineWidth,o);return a?a.map(function(t){return new e(t,i._options)}):null}},{key:"originalData",get:function(){var t=this._points.map(function(t){return{x:t.x,y:t.y}});return{type:this._type,points:t,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){if(this._bound)return this._bound;var t=this._points.map(function(t){return t.x}),e=this._points.map(function(t){return t.y}),n=Math.min.apply(Math,o(e)),r=Math.min.apply(Math,o(t)),i=Math.max.apply(Math,o(e)),a=Math.max.apply(Math,o(t));return new h(n,r,i,a)}}])&&i(n.prototype,r),c&&i(n,c),e}();t.exports=g,v.registerData(d,g)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(1),l=n(13),f=n(30),h=n(41),p=n(22),y=c.DATA_TYPE.SCRIBBLE,v=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,s(e).call(this,n)))._points=t,r}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,h),n=e,c=[{key:"fromSvgElement",value:function(t){l(!1)}}],(r=[{key:"bound",get:function(){if(this._bound)return this._bound;var t=this._points.map(function(t){return t.x}),e=this._points.map(function(t){return t.y}),n=Math.min.apply(Math,o(e)),r=Math.min.apply(Math,o(t)),i=Math.max.apply(Math,o(e)),a=Math.max.apply(Math,o(t));return new f(n,r,i,a)}}])&&i(n.prototype,r),c&&i(n,c),e}();t.exports=v,p.registerData(y,v)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(13);var c=n(1),l=n(7),f=n(21),h=n(65),p=n(2),y=(n(485),n(41)),v=(n(120),n(30)),d=n(22),g=c.DATA_TYPE.PATH_GROUP,_=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,s(e).call(this,n)))._type=g,r._paths=t||[],r}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,y),n=e,c=[{key:"fromOriginalData",value:function(t){return new e(t.paths,t)}},{key:"fromSvgElement",value:function(t){var n=Array.from(t.childNodes),r=null;return new e(n.map(function(t){return{points:(r=p.fromSvgPath(t)).points}}),{color:r.color,opacity:r.opacity,lineWidth:r.lineWidth})}}],(r=[{key:"_createSvgElement",value:function(){var t=p.createSvgElement("g",g);if(this._paths.length>0)for(var e=0;e<this._paths.length;e++){var n=this._paths[e],r=p.createPath({id:l.createGuid("path_"),d:p.getSvgPathFromPoints(n.points),color:this.color,lineWidth:n.lineWidth||this._lineWidth,opacity:this.opacity,bottomMost:this.bottomMost});t.appendChild(r)}return t}},{key:"split",value:function(t,n,r,o){for(var i=this,a=function(t){return new e(t=t.filter(function(t){return t.points.length>0}),i._options)},s=[],u=[],c=0;c<this._paths.length;c++){var l=this._paths[c],p=h.splitPath(l.points,t,n,r,this.lineWidth,o);if(p){if(o&&0===p.length)return[];p.length>0&&u.push({points:p[0]}),s.push(a(u));for(var y=1;y<p.length-1;y++){var v=[{points:p[y],lineWidth:l.lineWidth}];s.push(a(v))}u=[],p.length>1&&u.push({lineWidth:l.lineWidth,points:p[p.length-1]})}else u.push({points:l.points})}return 0===s.length?null:(u.length>0&&s.push(a(u)),s=s.filter(function(t){var e=0,n=!0,r=!1,o=void 0;try{for(var i,a=t._paths[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)for(var s=i.value.points,u=0;u<s.length-1;u++){var c=s[u],l=s[u+1];e+=f.getDistance(c,l)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!(e<5)&&t._paths.length>0}))}},{key:"drawOnCanvas",value:function(t){t.beginPath(),t.lineWidth=this._lineWidth,t.strokeStyle=this._color,this._paths.forEach(function(e){var n=e.points;if(0!=n.length){t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y)}}),t.stroke()}},{key:"originalData",get:function(){var t=this._paths.map(function(t){return{points:t.points.map(function(t){return{x:t.x,y:t.y}})}});return{type:this._type,paths:t,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"bound",get:function(){if(this._bound)return this._bound;var t=[],e=[];this._paths.forEach(function(n){var r=n.points;t=t.concat(r.map(function(t){return t.x})),e=e.concat(r.map(function(t){return t.y}))});var n=Math.min.apply(Math,o(e)),r=Math.min.apply(Math,o(t)),i=Math.max.apply(Math,o(e)),a=Math.max.apply(Math,o(t));return this._bound=new v(n,r,i,a),this._bound}}])&&i(n.prototype,r),c&&i(n,c),e}();t.exports=_,d.registerData(g,_)},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startPoint=e,this.control1=n,this.control2=r,this.endPoint=o}var e,r,o;return e=t,(r=[{key:"length",value:function(){for(var t=0,e=void 0,n=void 0,r=0;r<=10;r+=1){var o=r/10,i=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=i-e,u=a-n;t+=Math.sqrt(s*s+u*u)}e=i,n=a}return t}},{key:"_point",value:function(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}}])&&n(e.prototype,r),o&&n(e,o),t}();t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=(n(2),n(178)),l=n(22),f=(n(87),n(174)),h=(n(121),u.DATA_TYPE.PENCIL),p=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=i(this,a(e).call(this,t,r)))._orgPoints=[],o._simplifiedPoints=null,o._pointIdIndex=1,o._startPoint=null,o}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,(r=[{key:"addPoint",value:function(t){var e=this;if(this.svgElement){this._bound=null;var n={x:t.x,y:t.y};n.id=this._pointIdIndex++,this._orgPoints.push(n);var r=Object.assign({},this._options);r.cubicsOnly=!0,r.correctLines=!0,f(this._orgPoints,r,this._simplifiedPoints,function(t){var n=t.startPoint,r=t.cubics,o=t.simplifiedPoints;e._simplifiedPoints=o,e._startPoint=n,e._cubics=r,e._points=o,e._updateSvgElement(),e._bound=null})}}},{key:"_updateSvgElement",value:function(){if(this._svgElement&&this._cubics&&this._cubics.length>0){var t=this._cubics2Path(this._cubics);this._svgElement.setAttribute("d",t);var e=this._points.map(function(t){return"".concat(t.x.toFixed(2)," ").concat(t.y.toFixed(2))}).join(" ");this._svgElement.setAttribute("wiz-data",e)}}}])&&o(n.prototype,r),u&&o(n,u),e}();t.exports=p,l.registerData(h,p)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(122),l=n(488),f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=i(this,a(e).call(this))).type=u.TOOL_TYPE.HIGHLIGHTER,t._strokeLinecap="square",t._recognizable=!1,t._bottomMost=!0,t}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c),n=e,(r=[{key:"dataObj",get:function(){return l}},{key:"defaultColorData",get:function(){return u.TOOL_COLOR.HIGHLIGHTER}},{key:"colorForButton",get:function(){return u.HIGHLIGHTER_BUTTON_COLOR[this.color]}},{key:"opacity",get:function(){return.4}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(2),l=n(176),f=n(22),h=u.DATA_TYPE.HIGHLIGHTER,p=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=i(this,a(e).call(this,t,n,r)))._type=h,o}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l),n=e,u=[{key:"fromOriginalData",value:function(t){return new e(t.points,!1,t)}},{key:"fromSvgElement",value:function(t){var n=c.fromSvgPath(t);return new e(n.points,n.closed,n)}}],(r=[{key:"originalData",get:function(){var t=this._points.map(function(t){return{x:t.x,y:t.y}});return{type:this._type,points:t,color:this._options.color,lineWidth:this._options.lineWidth,opacity:this._options.opacity,bottomMost:this._options.bottomMost}}},{key:"dataClass",get:function(){return e}},{key:"dataType",get:function(){return h}}])&&o(n.prototype,r),u&&o(n,u),e}();t.exports=p,f.registerData(h,p)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(1),c=n(7),l=n(173),f=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=i(this,a(e).call(this))).type=u.TOOL_TYPE.ERASER,t._properties={color:!1,clearFullPath:!0,lineWidth:!1,size:!0},t.init(),t}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l),n=e,(r=[{key:"init",value:function(){this.brushStatus={enable:!1,x:0,y:0}}},{key:"initToolData",value:function(){var t=this.storageData;if(!t){var e=u.TOOL_LINE_WIDTH[this.type];t={lineWidth:e.list[e.default],highlighterOnly:!1,clearFullPath:!1}}this.toolData=t}},{key:"start",value:function(t,e){this.brushStatus.x=t.x,this.brushStatus.y=t.y,this.brushStatus.enable=!0,e.splitStart()}},{key:"move",value:function(t,e){if(this.brushStatus.enable){var n={start:{x:this.brushStatus.x,y:this.brushStatus.y},end:{x:t.x,y:t.y}};e.split(n.start,n.end,this.lineWidth,this.highlighterOnly,this.clearFullPath),this.brushStatus.x=t.x,this.brushStatus.y=t.y}}},{key:"end",value:function(t,e){this.brushStatus.enable&&e.splitEnd(),this.brushStatus.enable=!1}},{key:"clearFullPath",get:function(){return this.toolData.clearFullPath},set:function(t){this.toolData.clearFullPath=t,this.saveStorageData(this.toolData)}},{key:"highlighterOnly",get:function(){return this.toolData.highlighterOnly},set:function(t){this.toolData.highlighterOnly=t,this.saveStorageData(this.toolData)}},{key:"colorForButton",get:function(){return"#b0b0b0"}},{key:"lineWidth",get:function(){return this.toolData.lineWidth},set:function(t){this.toolData.lineWidth=c.fixLineWidth(t,this.type),this.saveStorageData(this.toolData)}}])&&o(n.prototype,r),f&&o(n,f),e}();t.exports=f},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(1),u=n(122),c=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=o(this,i(e).call(this))).type=s.TOOL_TYPE.SHAPE,t._recognizable=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,u),e}();t.exports=c}]);